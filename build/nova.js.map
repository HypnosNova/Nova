{"version":3,"file":"nova.js","sources":["../src/core/settings/DefaultSettings.js","../src/error/NotFunctionError.js","../src/core/LoopManager.js","../src/events/EventManager.js","../src/core/World.js","../src/constant.js","../src/core/VR.js","../node_modules/lodash-es/_apply.js","../node_modules/lodash-es/identity.js","../node_modules/lodash-es/_overRest.js","../node_modules/lodash-es/constant.js","../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/_root.js","../node_modules/lodash-es/_Symbol.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/isObject.js","../node_modules/lodash-es/isFunction.js","../node_modules/lodash-es/_coreJsData.js","../node_modules/lodash-es/_isMasked.js","../node_modules/lodash-es/_toSource.js","../node_modules/lodash-es/_baseIsNative.js","../node_modules/lodash-es/_getValue.js","../node_modules/lodash-es/_getNative.js","../node_modules/lodash-es/_defineProperty.js","../node_modules/lodash-es/_baseSetToString.js","../node_modules/lodash-es/_shortOut.js","../node_modules/lodash-es/_setToString.js","../node_modules/lodash-es/_baseRest.js","../node_modules/lodash-es/_listCacheClear.js","../node_modules/lodash-es/eq.js","../node_modules/lodash-es/_assocIndexOf.js","../node_modules/lodash-es/_listCacheDelete.js","../node_modules/lodash-es/_listCacheGet.js","../node_modules/lodash-es/_listCacheHas.js","../node_modules/lodash-es/_listCacheSet.js","../node_modules/lodash-es/_ListCache.js","../node_modules/lodash-es/_stackClear.js","../node_modules/lodash-es/_stackDelete.js","../node_modules/lodash-es/_stackGet.js","../node_modules/lodash-es/_stackHas.js","../node_modules/lodash-es/_Map.js","../node_modules/lodash-es/_nativeCreate.js","../node_modules/lodash-es/_hashClear.js","../node_modules/lodash-es/_hashDelete.js","../node_modules/lodash-es/_hashGet.js","../node_modules/lodash-es/_hashHas.js","../node_modules/lodash-es/_hashSet.js","../node_modules/lodash-es/_Hash.js","../node_modules/lodash-es/_mapCacheClear.js","../node_modules/lodash-es/_isKeyable.js","../node_modules/lodash-es/_getMapData.js","../node_modules/lodash-es/_mapCacheDelete.js","../node_modules/lodash-es/_mapCacheGet.js","../node_modules/lodash-es/_mapCacheHas.js","../node_modules/lodash-es/_mapCacheSet.js","../node_modules/lodash-es/_MapCache.js","../node_modules/lodash-es/_stackSet.js","../node_modules/lodash-es/_Stack.js","../node_modules/lodash-es/_baseAssignValue.js","../node_modules/lodash-es/_assignMergeValue.js","../node_modules/lodash-es/_createBaseFor.js","../node_modules/lodash-es/_baseFor.js","../node_modules/lodash-es/_cloneBuffer.js","../node_modules/lodash-es/_Uint8Array.js","../node_modules/lodash-es/_cloneArrayBuffer.js","../node_modules/lodash-es/_cloneTypedArray.js","../node_modules/lodash-es/_copyArray.js","../node_modules/lodash-es/_baseCreate.js","../node_modules/lodash-es/_overArg.js","../node_modules/lodash-es/_getPrototype.js","../node_modules/lodash-es/_isPrototype.js","../node_modules/lodash-es/_initCloneObject.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/_baseIsArguments.js","../node_modules/lodash-es/isArguments.js","../node_modules/lodash-es/isArray.js","../node_modules/lodash-es/isLength.js","../node_modules/lodash-es/isArrayLike.js","../node_modules/lodash-es/isArrayLikeObject.js","../node_modules/lodash-es/stubFalse.js","../node_modules/lodash-es/isBuffer.js","../node_modules/lodash-es/isPlainObject.js","../node_modules/lodash-es/_baseIsTypedArray.js","../node_modules/lodash-es/_baseUnary.js","../node_modules/lodash-es/_nodeUtil.js","../node_modules/lodash-es/isTypedArray.js","../node_modules/lodash-es/_safeGet.js","../node_modules/lodash-es/_assignValue.js","../node_modules/lodash-es/_copyObject.js","../node_modules/lodash-es/_baseTimes.js","../node_modules/lodash-es/_isIndex.js","../node_modules/lodash-es/_arrayLikeKeys.js","../node_modules/lodash-es/_nativeKeysIn.js","../node_modules/lodash-es/_baseKeysIn.js","../node_modules/lodash-es/keysIn.js","../node_modules/lodash-es/toPlainObject.js","../node_modules/lodash-es/_baseMergeDeep.js","../node_modules/lodash-es/_baseMerge.js","../node_modules/lodash-es/_customDefaultsMerge.js","../node_modules/lodash-es/_isIterateeCall.js","../node_modules/lodash-es/_createAssigner.js","../node_modules/lodash-es/mergeWith.js","../node_modules/lodash-es/defaultsDeep.js","../src/core/App.js","../src/core/Bind.js","../src/core/FBOWorld.js","../src/core/Monitor.js","../src/core/QRCode.js","../src/core/Transitioner.js","../src/core/View.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/eq.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/isArray.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/isLength.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/keys.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/memoize.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/toString.js","../node_modules/lodash/_castPath.js","../node_modules/lodash/_toKey.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/get.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/identity.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/property.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/last.js","../node_modules/lodash/_baseSlice.js","../node_modules/lodash/_parent.js","../node_modules/lodash/_baseUnset.js","../node_modules/lodash/_basePullAt.js","../node_modules/lodash/remove.js","../src/events/Signal.js","../src/events/Events.js","../src/events/FBOEventMapper.js","../node_modules/lodash/_apply.js","../node_modules/lodash/_overRest.js","../node_modules/lodash/constant.js","../node_modules/lodash/_defineProperty.js","../node_modules/lodash/_baseSetToString.js","../node_modules/lodash/_shortOut.js","../node_modules/lodash/_setToString.js","../node_modules/lodash/_baseRest.js","../node_modules/lodash/_baseAssignValue.js","../node_modules/lodash/_assignMergeValue.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_cloneBuffer.js","../node_modules/lodash/_cloneArrayBuffer.js","../node_modules/lodash/_cloneTypedArray.js","../node_modules/lodash/_copyArray.js","../node_modules/lodash/_baseCreate.js","../node_modules/lodash/_getPrototype.js","../node_modules/lodash/_initCloneObject.js","../node_modules/lodash/isArrayLikeObject.js","../node_modules/lodash/isPlainObject.js","../node_modules/lodash/_safeGet.js","../node_modules/lodash/_assignValue.js","../node_modules/lodash/_copyObject.js","../node_modules/lodash/_nativeKeysIn.js","../node_modules/lodash/_baseKeysIn.js","../node_modules/lodash/keysIn.js","../node_modules/lodash/toPlainObject.js","../node_modules/lodash/_baseMergeDeep.js","../node_modules/lodash/_baseMerge.js","../node_modules/lodash/_customDefaultsMerge.js","../node_modules/lodash/_isIterateeCall.js","../node_modules/lodash/_createAssigner.js","../node_modules/lodash/mergeWith.js","../node_modules/lodash/defaultsDeep.js","../src/gui/GUI.js","../src/loader/LoaderFactory.js","../src/postprocessing/shader/CopyShader.js","../src/postprocessing/Pass.js","../src/postprocessing/ShaderPass.js","../src/postprocessing/RenderPass.js","../src/postprocessing/MaskPass.js","../src/postprocessing/ClearMaskPass.js","../src/postprocessing/EffectComposer.js","../src/postprocessing/shader/AfterimageShader.js","../src/postprocessing/AfterimagePass.js","../src/postprocessing/shader/DotScreenShader.js","../src/postprocessing/DotScreenPass.js","../src/postprocessing/shader/GlitchShader.js","../src/postprocessing/GlitchPass.js","../src/postprocessing/OutlinePass.js","../src/postprocessing/shader/WatercolorShader.js","../src/postprocessing/WatercolorPass.js","../src/postprocessing/shader/TestShader.js","../src/postprocessing/TestPass.js","../src/postprocessing/shader/FXAAShader.js","../src/util/extends.js","../src/util/rndInt.js","../src/util/rndString.js","../src/util/geoToCartesian.js","../src/util/Util.js","../src/Nova.js"],"sourcesContent":["//适合大部分WebGL的APP设置\r\nexport default {\r\n\tparent: document.body, //APP所在DOM容器\r\n\tsetCommonCSS: true, //设置默认CSS样式，无法滚动，超出区域不显示，取消所有内外边距\r\n\tautoStart: true, //自动执行渲染循环和逻辑循环\r\n\tautoResize: true, //自动拉伸自适应不同屏幕分辨率\r\n\tVRSupport: false, //是否加载VR支持模块\r\n\trenderer: {\r\n\t\tcanvas: undefined,\r\n\t\tclearColor: 0x000000, //渲染器的默认清除颜色\r\n\t\tclearAlpha: 1, //渲染器的默认清除颜色的透明度\r\n\t\tpixelRatio: window.devicePixelRatio || 1, //用于移动平台的清晰度\r\n\t\tprecision: \"highp\", // 渲染精细度，默认为高\r\n\t\tantialias: true, //是否开启抗锯齿\r\n\t\talpha: false, // 渲染器是否保存alpha缓冲\r\n\t\tlogarithmicDepthBuffer: false, // 逻辑深度缓冲\r\n\t\tpreserveDrawingBuffer: false\r\n\t},\r\n\tnormalEventList: [ \"click\", \"mousedown\", \"mouseup\", \"touchstart\", \"touchend\" ], //默认开启的原生事件监听，不建议将所有的事件监听都写在里面，每一个事件监听都会增加一次射线法碰撞检测，如果不必要的事件过多会降低性能\r\n\thammerEventList: \"press tap pressup pan swipe\", //默认hammer手势事件的监听，同normalEventList一样，用到什么加入什么，不要一大堆东西全塞进去\r\n};\r\n","export default class NotFunctionError extends Error {\r\n\r\n\tconstructor( message ) {\r\n\r\n\t\tsuper( message );\r\n\t\tthis.name = 'NotFunctionError';\r\n\t\tthis.message = message || 'The object is not a function.';\r\n\r\n\t}\r\n\r\n}\r\n","import NotFunctionError from './../error/NotFunctionError.js';\r\n\r\nexport default class LoopManager {\r\n\r\n\tconstructor( cycleLevel = 1 ) {\r\n\r\n\t\t//当它是true，不执行该循环\r\n\t\tthis.disable = false;\r\n\t\t//记录循环次数\r\n\t\tthis.times = 0;\r\n\t\t//每隔多少循环执行一次update，用于调整fps。数字越大，fps越低\r\n\t\tthis.cycleLevel = cycleLevel <= 1 ? 1 : cycleLevel;\r\n\t\tthis.functionMap = new Map();\r\n\r\n\t}\r\n\r\n\tupdate = ( time ) => {\r\n\r\n\t\tif ( this.before ) {\r\n\r\n\t\t\tthis.before();\r\n\r\n\t\t}\r\n\r\n\t\tthis.times ++;\r\n\t\tif ( this.disable || ( this.times % this.cycleLevel ) !== 0 ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\t\tthis.functionMap.forEach( ( value ) => {\r\n\r\n\t\t\tvalue( time );\r\n\r\n\t\t} );\r\n\r\n\t\tif ( this.after ) {\r\n\r\n\t\t\tthis.after();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tadd = ( func, key ) => {\r\n\r\n\t\tif ( typeof func !== 'function' ) {\r\n\r\n\t\t\tthrow new NotFunctionError();\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ( func.prototype ) {\r\n\r\n\t\t\t\tconsole.warn( func, \"The function is not an arrow function. It'll be unsafe when using 'this' in it.\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( key ) {\r\n\r\n\t\t\t\tthis.functionMap.set( key, func );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tkey = Symbol();\r\n\t\t\t\tthis.functionMap.set( key, func );\r\n\t\t\t\treturn key;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tremoveAll = () => {\r\n\r\n\t\tthis.functionMap.clear();\r\n\r\n\t}\r\n\r\n\tremove = ( funcOrKey ) => {\r\n\r\n\t\tif ( typeof funcOrKey === 'function' ) {\r\n\r\n\t\t\tthis.functionMap.forEach( ( value, key ) => {\r\n\r\n\t\t\t\tif ( value === funcOrKey ) {\r\n\r\n\t\t\t\t\treturn this.functionMap.delete( key );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t\treturn false;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn this.functionMap.delete( funcOrKey );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n","import { Raycaster, Vector2 } from \"three\";\r\n\r\nexport default class EventManager {\r\n\r\n\tconstructor( world ) {\r\n\r\n\t\tworld.eventManager = this;\r\n\t\tthis.world = world;\r\n\t\tthis.disable = false;\r\n\t\tthis.isDeep = true;\r\n\t\tthis.receivers = world.receivers;\r\n\t\tthis.raycaster = new Raycaster();\r\n\t\tthis.centerRaycaster = new Raycaster();\r\n\t\tthis.selectedObj = null;\r\n\t\tthis.centerSelectedObj = null;\r\n\t\tthis.isDetectingEnter = true;\r\n\t\tlet normalEventList = world.app.options.normalEventList;\r\n\r\n\t\tfor ( let eventItem of normalEventList ) {\r\n\r\n\t\t\tworld.app.parent.addEventListener( eventItem, ( event ) => {\r\n\r\n\t\t\t\tif ( this.disable ) return;\r\n\t\t\t\tthis.raycastCheck( this.toNovaEvent( event ) );\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\ttry {\r\n\r\n\t\t\tif ( window.Hammer === undefined ) {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t} catch ( e ) {\r\n\r\n\t\t\tconsole.warn( 'Hammer没有引入，手势事件无法使用，只能使用基础的交互事件。' );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\t\tthis.hammer = new window.Hammer( world.app.renderer.domElement );\r\n\t\tthis.hammer.on( world.app.options.hammerEventList, ( event ) => {\r\n\r\n\t\t\tif ( this.disable ) return;\r\n\t\t\tthis.raycastCheck( event );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\ttoNovaEvent = ( event ) => {\r\n\r\n\t\treturn {\r\n\t\t\tchangedPointers: [ event ],\r\n\t\t\tcenter: new Vector2( event.clientX, event.clientY ),\r\n\t\t\ttype: event.type,\r\n\t\t\ttarget: event.target\r\n\t\t};\r\n\r\n\t}\r\n\r\n\traycastCheck = ( event ) => {\r\n\r\n\t\tlet vec2 = new Vector2( event.center.x / this.world.app.getWorldWidth() *\r\n\t\t\t2 - 1, 1 - event.center.y / this.world.app.getWorldHeight() * 2 );\r\n\t\tthis.raycaster.setFromCamera( vec2, this.world.camera );\r\n\t\tlet receiverMap;\r\n\t\tif ( this.world.receivers instanceof Array ) {\r\n\r\n\t\t\treceiverMap = new Map();\r\n\t\t\treceiverMap.set( Symbol(), this.world.receivers );\r\n\r\n\t\t} else if ( this.world.receivers instanceof Map ) {\r\n\r\n\t\t\treceiverMap = this.world.receivers;\r\n\r\n\t\t}\r\n\t\tlet intersect;\r\n\t\tfor ( let receivers of receiverMap.values() ) {\r\n\r\n\t\t\tlet intersects = this.raycaster.intersectObjects( receivers, this.isDeep );\r\n\t\t\tfor ( let i = 0; i < intersects.length; i ++ ) {\r\n\r\n\t\t\t\tif ( intersects[ i ].object.isPenetrated ) {\r\n\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tintersect = intersects[ i ];\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tif ( intersect ) {\r\n\r\n\t\t\t\tif ( intersect.object.events && intersect.object.events[ event.type ] ) {\r\n\r\n\t\t\t\t\tintersect.object.events[ event.type ].run( event, intersect );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\treturn intersect;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n","import LoopManager from './LoopManager.js';\r\nimport EventManager from './../events/EventManager';\r\nimport { Scene, PerspectiveCamera, WebGLRenderTarget, LinearFilter, RGBFormat } from \"three\";\r\n\r\nexport default class World {\r\n\r\n\tconstructor( app, camera, clearColor ) {\r\n\r\n\t\tthis.app = app;\r\n\t\tthis.scene = new Scene();\r\n\t\tthis.logicLoop = new LoopManager();\r\n\t\tthis.renderLoop = new LoopManager();\r\n\t\tthis.camera = camera || new PerspectiveCamera( 45, app.getWorldWidth() /\r\n\t\t\tapp.getWorldHeight(), 0.01, 5000 );\r\n\t\tthis.receivers = this.scene.children;\r\n\t\tthis.eventManager = new EventManager( this );\r\n\t\tthis.renderTargetParameters = {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tformat: RGBFormat,\r\n\t\t\tstencilBuffer: false\r\n\t\t};\r\n\t\tthis.isRTT = false;\r\n\t\tthis.clearColor = clearColor || 0;\r\n\t\tthis.fbo = new WebGLRenderTarget( this.app.getWorldWidth(),\r\n\t\t\tthis.app.getWorldHeight(), this.renderTargetParameters );\r\n\t\tthis.defaultRenderID = Symbol();\r\n\t\tthis.renderLoop.add( () => {\r\n\r\n\t\t\tif ( this.isRTT ) {\r\n\r\n\t\t\t\tthis.app.renderer.render( this.scene, this.camera, this.fbo, true );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.app.renderer.render( this.scene, this.camera );\r\n\r\n\t\t\t}\r\n\r\n\t\t}, this.defaultRenderID );\r\n\t\tthis.defaultUpdateID = Symbol();\r\n\r\n\t}\r\n\r\n\tupdate = ( time ) => {\r\n\r\n\t\tthis.logicLoop.update( time );\r\n\t\tthis.renderLoop.update( time );\r\n\r\n\t}\r\n\r\n\tresize = ( width, height ) => {\r\n\r\n\t\tif ( this.camera.type === 'PerspectiveCamera' ) {\r\n\r\n\t\t\tthis.camera.aspect = width / height;\r\n\t\t\tthis.camera.updateProjectionMatrix();\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.camera.left = - width / 2;\r\n\t\t\tthis.camera.right = width / 2;\r\n\t\t\tthis.camera.top = height / 2;\r\n\t\t\tthis.camera.bottom = - height / 2;\r\n\t\t\tthis.camera.updateProjectionMatrix();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n","const APP_STOP = 0;\r\nconst APP_RUNNING = 1;\r\nconst APP_PAUSE = 2;\r\nconst WORLD_RUNNING = 1;\r\nconst WORLD_PAUSE = 2;\r\nconst VERSION = '0.1.8b';\r\n\r\nconsole.log( \"Nova framework for Three.js, version: %c \" + VERSION, \"color:blue\" );\r\n\r\nexport {\r\n\tAPP_STOP,\r\n\tAPP_RUNNING,\r\n\tAPP_PAUSE,\r\n\tWORLD_RUNNING,\r\n\tWORLD_PAUSE,\r\n\tVERSION\r\n};\r\n","export default class VR {\r\n\r\n\tconstructor( app ) {\r\n\r\n\t\tthis.app = app;\r\n\t\tthis.display = undefined;\r\n\t\tthis.polyfill = undefined;\r\n\t\tthis.isOpenVR = false;\r\n\t\tthis.vrEffect = undefined;\r\n\t\tthis.getVRDisplay();\r\n\t\tthis.createVREffect();\r\n\r\n\t}\r\n\r\n\tcreateVREffect() {\r\n\r\n\t\tif ( this.vrEffect ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\t\tif ( ! window.THREE.VREffect ) {\r\n\r\n\t\t\tconsole.warn( \"未引入VREffect.js，无法创建VR模式。\" );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\t\tthis.vrEffect = new window.THREE.VREffect( this.app.renderer );\r\n\t\tthis.vrEffect.setSize( this.app.renderer.domElement.clientWidth,\r\n\t\t\tthis.app.renderer.domElement.clientHeight, false );\r\n\t\tthis.vrEffect.isOpened = false;\r\n\t\tthis.vrEffect.updateId = Symbol();\r\n\r\n\t}\r\n\r\n\tsetPolyfill() {\r\n\r\n\t\tif ( this.polyfill ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\t\tif ( ! window.WebVRPolyfill ) {\r\n\r\n\t\t\tconsole.warn( \"未引入WebVRPolyfill.js，无法创建VR兼容模式。\" );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\t\tlet config = ( function () {\r\n\r\n\t\t\tlet config = {};\r\n\t\t\tlet q = window.location.search.substring( 1 );\r\n\t\t\tif ( q === '' ) {\r\n\r\n\t\t\t\treturn config;\r\n\r\n\t\t\t}\r\n\t\t\tlet params = q.split( '&' );\r\n\t\t\tlet param, name, value;\r\n\t\t\tfor ( let i = 0; i < params.length; i ++ ) {\r\n\r\n\t\t\t\tparam = params[ i ].split( '=' );\r\n\t\t\t\tname = param[ 0 ];\r\n\t\t\t\tvalue = param[ 1 ];\r\n\r\n\t\t\t\t// All config values are either boolean or float\r\n\t\t\t\tconfig[ name ] = value === 'true' ? true :\r\n\t\t\t\t\tvalue === 'false' ? false :\r\n\t\t\t\t\t\tparseFloat( value );\r\n\r\n\t\t\t}\r\n\t\t\treturn config;\r\n\r\n\t\t} )();\r\n\t\tthis.polyfill = new window.WebVRPolyfill( config );\r\n\r\n\t}\r\n\r\n\tgetVRDisplay() {\r\n\r\n\t\tif ( ! navigator.getVRDisplays ) {\r\n\r\n\t\t\tthis.setPolyfill();\r\n\r\n\t\t}\r\n\t\tif ( ! navigator.getVRDisplays ) {\r\n\r\n    \treturn;\r\n\r\n\t\t}\r\n\t\treturn navigator.getVRDisplays()\r\n\t\t\t.then( ( vrDisplays ) => {\r\n\r\n\t\t\t\tif ( vrDisplays.length ) {\r\n\r\n\t\t\t\t\tthis.display = vrDisplays[ 0 ];\r\n\t\t\t\t\treturn this.display;\r\n\r\n\t\t\t\t}\r\n\t\t\t\treturn \"no\";\r\n\r\n\t\t\t}, () => {\r\n\r\n\t\t\t\treturn \"no\";\r\n\r\n\t\t\t} );\r\n\r\n\t}\r\n\r\n\topen() {\r\n\r\n\t\tif ( ! this.display || ! this.vrEffect ) {\r\n\r\n\t\t\tconsole.warn( \"未发现VR设备或浏览器不兼容，无法进入VR模式。\" );\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\t\tthis.app.renderLoop.add( () => {\r\n\r\n\t\t\tthis.vrEffect.render( this.app.world.scene, this.app.world.camera );\r\n\r\n\t\t}, this.vrEffect.updateId );\r\n\t\tthis.display.requestPresent( [ { source: this.app.renderer.domElement } ] );\r\n\r\n\t}\r\n\r\n\tclose() {\r\n\r\n\t\tthis.app.renderLoop.remove( this.vrEffect.updateId );\r\n\r\n\t}\r\n\r\n}\r\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignMergeValue;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nexport default safeGet;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nexport default toPlainObject;\n","import assignMergeValue from './_assignMergeValue.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\nimport copyArray from './_copyArray.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport safeGet from './_safeGet.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n","import Stack from './_Stack.js';\nimport assignMergeValue from './_assignMergeValue.js';\nimport baseFor from './_baseFor.js';\nimport baseMergeDeep from './_baseMergeDeep.js';\nimport isObject from './isObject.js';\nimport keysIn from './keysIn.js';\nimport safeGet from './_safeGet.js';\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack);\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nexport default baseMerge;\n","import baseMerge from './_baseMerge.js';\nimport isObject from './isObject.js';\n\n/**\n * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n * objects into destination objects that are passed thru.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to merge.\n * @param {Object} object The parent object of `objValue`.\n * @param {Object} source The parent object of `srcValue`.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n * @returns {*} Returns the value to assign.\n */\nfunction customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n  if (isObject(objValue) && isObject(srcValue)) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, objValue);\n    baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n    stack['delete'](srcValue);\n  }\n  return objValue;\n}\n\nexport default customDefaultsMerge;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with six arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = { 'a': [1], 'b': [2] };\n * var other = { 'a': [3], 'b': [4] };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'a': [1, 3], 'b': [2, 4] }\n */\nvar mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\nexport default mergeWith;\n","import apply from './_apply.js';\nimport baseRest from './_baseRest.js';\nimport customDefaultsMerge from './_customDefaultsMerge.js';\nimport mergeWith from './mergeWith.js';\n\n/**\n * This method is like `_.defaults` except that it recursively assigns\n * default properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaults\n * @example\n *\n * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n * // => { 'a': { 'b': 2, 'c': 3 } }\n */\nvar defaultsDeep = baseRest(function(args) {\n  args.push(undefined, customDefaultsMerge);\n  return apply(mergeWith, undefined, args);\n});\n\nexport default defaultsDeep;\n","import World from './World.js';\r\nimport { APP_RUNNING, APP_STOP, APP_PAUSE } from './../constant.js';\r\nimport LoopManager from './LoopManager.js';\r\nimport VR from './VR.js';\r\nimport DefaultSettings from './settings/DefaultSettings.js';\r\nimport { Vector2, Vector3, WebGLRenderer } from 'three';\r\nimport defaultsDeep from \"lodash-es/defaultsDeep\";\r\n\r\nexport default class App {\r\n\r\n\tconstructor( settings = {} ) {\r\n\r\n\t\tthis.options = defaultsDeep( settings, DefaultSettings );\r\n\t\tlet renderOption = this.options.renderer;\r\n\t\tif ( this.options.setCommonCSS ) {\r\n\r\n\t\t\tthis.setCommonCSS();\r\n\r\n\t\t}\r\n\t\tthis.parent = renderOption.canvas ? renderOption.canvas.parentElement : this.options.parent;\r\n\t\tthis.renderer = new WebGLRenderer( {\r\n\t\t\tcanvas: renderOption.canvas,\r\n\t\t\tantialias: renderOption.antialias,\r\n\t\t\tprecision: renderOption.precision,\r\n\t\t\talpha: renderOption.alpha,\r\n\t\t\tlogarithmicDepthBuffer: renderOption.logarithmicDepthBuffer,\r\n\t\t\tpreserveDrawingBuffer: renderOption.preserveDrawingBuffer\r\n\t\t} );\r\n\t\tthis.renderer.setClearColor( renderOption.clearColor, renderOption.clearAlpha );\r\n\t\tthis.world = new World( this );\r\n\r\n\t\tthis.state = APP_STOP;\r\n\t\tthis.logicLoop = new LoopManager();\r\n\t\tthis.renderLoop = new LoopManager();\r\n\t\twindow.addEventListener( 'resize', () => {\r\n\r\n\t\t\tthis.resize();\r\n\r\n\t\t} );\r\n\t\tif ( this.options.autoStart ) {\r\n\r\n\t\t\tthis.start();\r\n\r\n\t\t}\r\n\t\tif ( this.options.VRSupport ) {\r\n\r\n\t\t\tthis.VR = new VR( this );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tresize = () => {\r\n\r\n\t\tlet width = this.getWorldWidth();\r\n\t\tlet height = this.getWorldHeight();\r\n\t\tthis.world.resize( width, height );\r\n\t\tthis.renderer.setSize( width, height );\r\n\t\tthis.renderer.setPixelRatio( this.options.renderer.pixelRatio );\r\n\r\n\t}\r\n\r\n\tupdate = ( time ) => {\r\n\r\n\t\tif ( this.state === APP_RUNNING ) {\r\n\r\n\t\t\tthis.logicLoop.update( time );\r\n\t\t\tthis.world.update( time );\r\n\t\t\tthis.renderLoop.update( time );\r\n\r\n\t\t}\r\n\r\n\t\trequestAnimationFrame( this.update );\r\n\r\n\t}\r\n\r\n\tsetCommonCSS = () => {\r\n\r\n\t\tdocument.write(\r\n\t\t\t`<style>*{margin:0;padding:0} body{overflow:hidden}</style>` );\r\n\r\n\t}\r\n\r\n\tgetWorldWidth = () => {\r\n\r\n\t\treturn this.parent === document.body ? window.innerWidth :\r\n\t\t\tthis.parent.offsetWidth;\r\n\r\n\t}\r\n\r\n\tgetWorldHeight = () => {\r\n\r\n\t\treturn this.parent === document.body ? window.innerHeight :\r\n\t\t\tthis.parent.offsetHeight;\r\n\r\n\t}\r\n\r\n\tstart = () => {\r\n\r\n\t\tif ( this.state === APP_STOP ) {\r\n\r\n\t\t\tthis.state = APP_RUNNING;\r\n\t\t\tthis.parent.appendChild( this.renderer.domElement );\r\n\t\t\tthis.resize();\r\n\t\t\tthis.update();\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tresume = () => {\r\n\r\n\t\tif ( this.state === APP_PAUSE ) {\r\n\r\n\t\t\tthis.state = APP_RUNNING;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tpause = () => {\r\n\r\n\t\tif ( this.state === APP_RUNNING ) {\r\n\r\n\t\t\tthis.state = APP_PAUSE;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tdestroy = () => {\r\n\r\n\t\tthis.world.destroy();\r\n\r\n\t}\r\n\r\n\topenFullScreen = () => {\r\n\r\n\t\tlet container = this.parent;\r\n\t\tthis.isFullScreen = true;\r\n\t\tif ( container.requestFullscreen ) {\r\n\r\n\t\t\tcontainer.requestFullscreen();\r\n\r\n\t\t} else if ( container.msRequestFullscreen ) {\r\n\r\n\t\t\tcontainer.msRequestFullscreen();\r\n\r\n\t\t} else if ( container.mozRequestFullScreen ) {\r\n\r\n\t\t\tcontainer.mozRequestFullScreen();\r\n\r\n\t\t} else if ( container.webkitRequestFullscreen ) {\r\n\r\n\t\t\tcontainer.webkitRequestFullscreen();\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.isFullScreen = false;\r\n\r\n\t\t}\r\n\t\treturn this.isFullScreen;\r\n\r\n\t}\r\n\r\n\tcloseFullScreen = () => {\r\n\r\n\t\tlet container = document;\r\n\t\tthis.isFullScreen = false;\r\n\t\tif ( container.exitFullscreen ) {\r\n\r\n\t\t\tcontainer.exitFullscreen();\r\n\r\n\t\t} else if ( container.mozCancelFullScreen ) {\r\n\r\n\t\t\tcontainer.mozCancelFullScreen();\r\n\r\n\t\t} else if ( container.webkitExitFullScreen ) {\r\n\r\n\t\t\tcontainer.webkitExitFullScreen();\r\n\r\n\t\t} else if ( container.msExitFullscreen ) {\r\n\r\n\t\t\tcontainer.msExitFullscreen();\r\n\r\n\t\t} else if ( container.webkitCancelFullScreen ) {\r\n\r\n\t\t\tcontainer.webkitCancelFullScreen();\r\n\r\n\t\t} else if ( container.webkitExitFullScreen ) {\r\n\r\n\t\t\tcontainer.webkitCancelFullScreen();\r\n\r\n\t\t}\r\n\t\treturn this.isFullScreen;\r\n\r\n\t}\r\n\r\n\ttoggleFullScreen = () => {\r\n\r\n\t\tif ( this.isFullScreen ) {\r\n\r\n\t\t\tthis.closeFullScreen();\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.openFullScreen();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tscreenshot = () => {\r\n\r\n\t\tlet img = new Image();\r\n\t\tthis.renderer.render( this.world.scene, this.world.camera );\r\n\t\timg.src = this.renderer.domElement.toDataURL();\r\n\t\tlet w = window.open( '', '' );\r\n\t\tw.document.title = \"Nova Screenshot\";\r\n\t\tw.document.body.appendChild( img );\r\n\r\n\t}\r\n\r\n\tsceneCoordinateToCanvasCoordinate = ( obj, camera = this.world.camera ) => {\r\n\r\n\t\tlet worldVector = obj instanceof Vector3 ? obj.clone() : obj.position.clone();\r\n\t\tlet vector = worldVector.project( camera );\r\n\t\tlet halfWidth = this.getWorldWidth() / 2;\r\n\t\tlet halfHeight = this.getWorldHeight() / 2;\r\n\r\n\t\treturn new Vector2( Math.round( vector.x * halfWidth + halfWidth ),\r\n\t\t\tMath.round( - vector.y * halfHeight + halfHeight ) );\r\n\r\n\t}\r\n\r\n}\r\n","export default class Bind {\r\n\r\n\tconstructor( obj ) {\r\n\r\n\t\tfor ( let i in obj ) {\r\n\r\n\t\t\tthis[ i ] = obj[ i ];\r\n\t\t\tthis.bindMap = new Map();\r\n\t\t\tthis.defineReactive( this, i, this[ i ] );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tadd = ( obj, funcs = {} ) => {\r\n\r\n\t\tthis.bindMap.set( obj, funcs );\r\n\r\n\t}\r\n\r\n\tremove = ( obj ) => {\r\n\r\n\t\tthis.bindMap.delete( obj );\r\n\r\n\t}\r\n\r\n\tdefineReactive = ( data, key, val ) => {\r\n\r\n\t\tObject.defineProperty( data, key, {\r\n\t\t\tenumerable: true,\r\n\t\t\tconfigurable: false,\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn val;\r\n\r\n\t\t\t},\r\n\t\t\tset: ( newVal ) => {\r\n\r\n\t\t\t\tval = newVal;\r\n\t\t\t\tlet bindMap = data.bindMap;\r\n\t\t\t\tfor ( let [ obj, funcs ] of bindMap ) {\r\n\r\n\t\t\t\t\tif ( obj[ key ] !== undefined ) {\r\n\r\n\t\t\t\t\t\tobj[ key ] = funcs[ key ] ? funcs[ key ]( val, obj ) : val;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t}\r\n\r\n}\r\n","import LoopManager from './LoopManager';\r\nimport { Scene, PerspectiveCamera, LinearFilter, WebGLRenderTarget, RGBFormat } from \"three\";\r\n\r\nexport default class FBOWorld {\r\n\r\n\tconstructor( app, camera, width, height ) {\r\n\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tthis.app = app;\r\n\t\tthis.scene = new Scene();\r\n\t\tthis.logicLoop = new LoopManager();\r\n\t\tthis.renderLoop = new LoopManager();\r\n\t\tthis.camera = camera || new PerspectiveCamera( 45, this.width / this.height, 0.01, 5000 );\r\n\t\tthis.receivers = this.scene.children;\r\n\r\n\t\tthis.renderTargetParameters = {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tformat: RGBFormat,\r\n\t\t\tstencilBuffer: false\r\n\t\t};\r\n\t\tthis.clearColor = 0;\r\n\t\tthis.fbo = new WebGLRenderTarget( this.width,\r\n\t\t\tthis.height, this.renderTargetParameters );\r\n\t\tthis.defaultRenderID = Symbol();\r\n\t\tthis.defaultUpdateID = Symbol();\r\n\t\tthis.resize();\r\n\t\tthis.renderLoop.add( () => {\r\n\r\n\t\t\tthis.app.renderer.render( this.scene, this.camera, this.fbo, true );\r\n\r\n\t\t}, this.defaultRenderID );\r\n\r\n\t}\r\n\r\n\tupdate = ( time ) => {\r\n\r\n\t\tthis.logicLoop.update( time );\r\n\t\tthis.renderLoop.update( time );\r\n\r\n\t}\r\n\r\n\tresize = () => {\r\n\r\n\t\tif ( this.camera.type === 'PerspectiveCamera' ) {\r\n\r\n\t\t\tthis.camera.aspect = this.width / this.height;\r\n\t\t\tthis.camera.updateProjectionMatrix();\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.camera.left = - this.width / 2;\r\n\t\t\tthis.camera.right = this.width / 2;\r\n\t\t\tthis.camera.top = this.height / 2;\r\n\t\t\tthis.camera.bottom = - this.height / 2;\r\n\t\t\tthis.camera.updateProjectionMatrix();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n","import { WebGLRenderer } from \"three\";\r\n\r\nexport default class Monitor {\r\n\r\n\tconstructor( world, option ) {\r\n\r\n\t\tthis.option = option;\r\n\t\tthis.fullWidth = world.app.getWorldWidth();\r\n\t\tthis.fullHeight = world.app.getWorldHeight();\r\n\t\tthis.renderer = new WebGLRenderer();\r\n\t\tthis.world = world;\r\n\t\tthis.canvas = this.renderer.domElement;\r\n\t\tthis.renderer.setSize( this.fullWidth * option.width, this.fullHeight *\r\n\t\t\toption.height );\r\n\t\tthis.renderer.setPixelRatio( window.devicePixelRatio );\r\n\r\n\t}\r\n\r\n\tresize( option ) {\r\n\r\n\t\tthis.option = option;\r\n\t\tthis.fullWidth = this.world.app.getWorldWidth();\r\n\t\tthis.fullHeight = this.world.app.getWorldHeight();\r\n\t\tthis.renderer.setSize( this.fullWidth * option.width, this.fullHeight *\r\n\t\t\toption.height );\r\n\t\tthis.setViewOffset();\r\n\r\n\t}\r\n\r\n\tsetViewOffset() {\r\n\r\n\t\tlet viewX = this.fullWidth * this.option.left;\r\n\t\tlet viewY = this.fullHeight * this.option.top;\r\n\t\tlet viewWidth = this.fullWidth * this.option.width;\r\n\t\tlet viewHeight = this.fullHeight * this.option.height;\r\n\t\tthis.world.camera.setViewOffset( this.fullWidth, this.fullHeight, viewX,\r\n\t\t\tviewY, viewWidth, viewHeight );\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tthis.setViewOffset();\r\n\t\tthis.renderer.render( this.world.scene, this.world.camera );\r\n\r\n\t}\r\n\r\n}\r\n","const QRMode = {\r\n\tMODE_NUMBER: 1 << 0,\r\n\tMODE_ALPHA_NUM: 1 << 1,\r\n\tMODE_8BIT_BYTE: 1 << 2,\r\n\tMODE_KANJI: 1 << 3\r\n};\r\n\r\nclass QR8bitByte {\r\n\r\n\tconstructor( data ) {\r\n\r\n\t\tthis.mode = QRMode.MODE_8BIT_BYTE;\r\n\t\tthis.data = data;\r\n\t\tthis.parsedData = [];\r\n\r\n\t\tfor ( let i = 0, l = this.data.length; i < l; i ++ ) {\r\n\r\n\t\t\tlet byteArray = [];\r\n\t\t\tlet code = this.data.charCodeAt( i );\r\n\r\n\t\t\tif ( code > 0x10000 ) {\r\n\r\n\t\t\t\tbyteArray[ 0 ] = 0xF0 | ( ( code & 0x1C0000 ) >>> 18 );\r\n\t\t\t\tbyteArray[ 1 ] = 0x80 | ( ( code & 0x3F000 ) >>> 12 );\r\n\t\t\t\tbyteArray[ 2 ] = 0x80 | ( ( code & 0xFC0 ) >>> 6 );\r\n\t\t\t\tbyteArray[ 3 ] = 0x80 | ( code & 0x3F );\r\n\r\n\t\t\t} else if ( code > 0x800 ) {\r\n\r\n\t\t\t\tbyteArray[ 0 ] = 0xE0 | ( ( code & 0xF000 ) >>> 12 );\r\n\t\t\t\tbyteArray[ 1 ] = 0x80 | ( ( code & 0xFC0 ) >>> 6 );\r\n\t\t\t\tbyteArray[ 2 ] = 0x80 | ( code & 0x3F );\r\n\r\n\t\t\t} else if ( code > 0x80 ) {\r\n\r\n\t\t\t\tbyteArray[ 0 ] = 0xC0 | ( ( code & 0x7C0 ) >>> 6 );\r\n\t\t\t\tbyteArray[ 1 ] = 0x80 | ( code & 0x3F );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbyteArray[ 0 ] = code;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.parsedData.push( byteArray );\r\n\r\n\t\t}\r\n\r\n\t\tthis.parsedData = Array.prototype.concat.apply( [], this.parsedData );\r\n\r\n\t\tif ( this.parsedData.length !== this.data.length ) {\r\n\r\n\t\t\tthis.parsedData.unshift( 191 );\r\n\t\t\tthis.parsedData.unshift( 187 );\r\n\t\t\tthis.parsedData.unshift( 239 );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tgetLength() {\r\n\r\n\t\treturn this.parsedData.length;\r\n\r\n\t}\r\n\r\n\twrite( buffer ) {\r\n\r\n\t\tfor ( let i = 0, l = this.parsedData.length; i < l; i ++ ) {\r\n\r\n\t\t\tbuffer.put( this.parsedData[ i ], 8 );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass QRCodeModel {\r\n\r\n\tconstructor( typeNumber, errorCorrectLevel ) {\r\n\r\n\t\tthis.typeNumber = typeNumber;\r\n\t\tthis.errorCorrectLevel = errorCorrectLevel;\r\n\t\tthis.modules = undefined;\r\n\t\tthis.moduleCount = 0;\r\n\t\tthis.dataCache = undefined;\r\n\t\tthis.dataList = [];\r\n\r\n\t}\r\n\taddData( data ) {\r\n\r\n\t\tlet newData = new QR8bitByte( data );\r\n\t\tthis.dataList.push( newData );\r\n\t\tthis.dataCache = undefined;\r\n\r\n\t}\r\n\r\n\tisDark( row, col ) {\r\n\r\n\t\tif ( row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <=\r\n      col ) {\r\n\r\n\t\t\tthrow new Error( row + \",\" + col );\r\n\r\n\t\t}\r\n\t\treturn this.modules[ row ][ col ];\r\n\r\n\t}\r\n\r\n\tgetModuleCount() {\r\n\r\n\t\treturn this.moduleCount;\r\n\r\n\t}\r\n\r\n\tmake() {\r\n\r\n\t\tthis.makeImpl( false, this.getBestMaskPattern() );\r\n\r\n\t}\r\n\r\n\tmakeImpl( test, maskPattern ) {\r\n\r\n\t\tthis.moduleCount = this.typeNumber * 4 + 17;\r\n\t\tthis.modules = new Array( this.moduleCount );\r\n\t\tfor ( let row = 0; row < this.moduleCount; row ++ ) {\r\n\r\n\t\t\tthis.modules[ row ] = new Array( this.moduleCount );\r\n\t\t\tfor ( let col = 0; col < this.moduleCount; col ++ ) {\r\n\r\n\t\t\t\tthis.modules[ row ][ col ] = undefined;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tthis.setupPositionProbePattern( 0, 0 );\r\n\t\tthis.setupPositionProbePattern( this.moduleCount - 7, 0 );\r\n\t\tthis.setupPositionProbePattern( 0, this.moduleCount - 7 );\r\n\t\tthis.setupPositionAdjustPattern();\r\n\t\tthis.setupTimingPattern();\r\n\t\tthis.setupTypeInfo( test, maskPattern );\r\n\t\tif ( this.typeNumber >= 7 ) {\r\n\r\n\t\t\tthis.setupTypeNumber( test );\r\n\r\n\t\t}\r\n\t\tif ( this.dataCache === undefined ) {\r\n\r\n\t\t\tthis.dataCache = QRCodeModel.createData( this.typeNumber, this.errorCorrectLevel,\r\n\t\t\t\tthis.dataList );\r\n\r\n\t\t}\r\n\t\tthis.mapData( this.dataCache, maskPattern );\r\n\r\n\t}\r\n\r\n\tsetupPositionProbePattern( row, col ) {\r\n\r\n\t\tfor ( let r = - 1; r <= 7; r ++ ) {\r\n\r\n\t\t\tif ( row + r <= - 1 || this.moduleCount <= row + r ) continue;\r\n\t\t\tfor ( let c = - 1; c <= 7; c ++ ) {\r\n\r\n\t\t\t\tif ( col + c <= - 1 || this.moduleCount <= col + c ) continue;\r\n\t\t\t\tif ( ( 0 <= r && r <= 6 && ( c === 0 || c === 6 ) ) || ( 0 <= c && c <=\r\n            6 && ( r === 0 || r === 6 ) ) || ( 2 <= r && r <= 4 && 2 <= c &&\r\n            c <= 4 ) ) {\r\n\r\n\t\t\t\t\tthis.modules[ row + r ][ col + c ] = true;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthis.modules[ row + r ][ col + c ] = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tgetBestMaskPattern() {\r\n\r\n\t\tlet minLostPoint = 0;\r\n\t\tlet pattern = 0;\r\n\t\tfor ( let i = 0; i < 8; i ++ ) {\r\n\r\n\t\t\tthis.makeImpl( true, i );\r\n\t\t\tlet lostPoint = QRUtil.getLostPoint( this );\r\n\t\t\tif ( i === 0 || minLostPoint > lostPoint ) {\r\n\r\n\t\t\t\tminLostPoint = lostPoint;\r\n\t\t\t\tpattern = i;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn pattern;\r\n\r\n\t}\r\n\r\n\tcreateMovieClip( target_mc, instance_name, depth ) {\r\n\r\n\t\tlet qr_mc = target_mc.createEmptyMovieClip( instance_name, depth );\r\n\t\tlet cs = 1;\r\n\t\tthis.make();\r\n\t\tfor ( let row = 0; row < this.modules.length; row ++ ) {\r\n\r\n\t\t\tlet y = row * cs;\r\n\t\t\tfor ( let col = 0; col < this.modules[ row ].length; col ++ ) {\r\n\r\n\t\t\t\tlet x = col * cs;\r\n\t\t\t\tlet dark = this.modules[ row ][ col ];\r\n\t\t\t\tif ( dark ) {\r\n\r\n\t\t\t\t\tqr_mc.beginFill( 0, 100 );\r\n\t\t\t\t\tqr_mc.moveTo( x, y );\r\n\t\t\t\t\tqr_mc.lineTo( x + cs, y );\r\n\t\t\t\t\tqr_mc.lineTo( x + cs, y + cs );\r\n\t\t\t\t\tqr_mc.lineTo( x, y + cs );\r\n\t\t\t\t\tqr_mc.endFill();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn qr_mc;\r\n\r\n\t}\r\n\r\n\tsetupTimingPattern() {\r\n\r\n\t\tfor ( let r = 8; r < this.moduleCount - 8; r ++ ) {\r\n\r\n\t\t\tif ( this.modules[ r ][ 6 ] !== undefined ) {\r\n\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\t\t\tthis.modules[ r ][ 6 ] = ( r % 2 === 0 );\r\n\r\n\t\t}\r\n\t\tfor ( let c = 8; c < this.moduleCount - 8; c ++ ) {\r\n\r\n\t\t\tif ( this.modules[ 6 ][ c ] !== undefined ) {\r\n\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\t\t\tthis.modules[ 6 ][ c ] = ( c % 2 === 0 );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tsetupPositionAdjustPattern() {\r\n\r\n\t\tlet pos = QRUtil.getPatternPosition( this.typeNumber );\r\n\t\tfor ( let i = 0; i < pos.length; i ++ ) {\r\n\r\n\t\t\tfor ( let j = 0; j < pos.length; j ++ ) {\r\n\r\n\t\t\t\tlet row = pos[ i ];\r\n\t\t\t\tlet col = pos[ j ];\r\n\t\t\t\tif ( this.modules[ row ][ col ] !== undefined ) {\r\n\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t}\r\n\t\t\t\tfor ( let r = - 2; r <= 2; r ++ ) {\r\n\r\n\t\t\t\t\tfor ( let c = - 2; c <= 2; c ++ ) {\r\n\r\n\t\t\t\t\t\tif ( r === - 2 || r === 2 || c === - 2 || c === 2 || ( r === 0 && c ==\r\n                0 ) ) {\r\n\r\n\t\t\t\t\t\t\tthis.modules[ row + r ][ col + c ] = true;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tthis.modules[ row + r ][ col + c ] = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tsetupTypeNumber( test ) {\r\n\r\n\t\tlet bits = QRUtil.getBCHTypeNumber( this.typeNumber );\r\n\t\tfor ( let i = 0; i < 18; i ++ ) {\r\n\r\n\t\t\tlet mod = ( ! test && ( ( bits >> i ) & 1 ) === 1 );\r\n\t\t\tthis.modules[ Math.floor( i / 3 ) ][ i % 3 + this.moduleCount - 8 - 3 ] =\r\n        mod;\r\n\r\n\t\t}\r\n\t\tfor ( let i = 0; i < 18; i ++ ) {\r\n\r\n\t\t\tlet mod = ( ! test && ( ( bits >> i ) & 1 ) === 1 );\r\n\t\t\tthis.modules[ i % 3 + this.moduleCount - 8 - 3 ][ Math.floor( i / 3 ) ] =\r\n        mod;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tsetupTypeInfo( test, maskPattern ) {\r\n\r\n\t\tlet data = ( this.errorCorrectLevel << 3 ) | maskPattern;\r\n\t\tlet bits = QRUtil.getBCHTypeInfo( data );\r\n\t\tfor ( let i = 0; i < 15; i ++ ) {\r\n\r\n\t\t\tlet mod = ( ! test && ( ( bits >> i ) & 1 ) === 1 );\r\n\t\t\tif ( i < 6 ) {\r\n\r\n\t\t\t\tthis.modules[ i ][ 8 ] = mod;\r\n\r\n\t\t\t} else if ( i < 8 ) {\r\n\r\n\t\t\t\tthis.modules[ i + 1 ][ 8 ] = mod;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.modules[ this.moduleCount - 15 + i ][ 8 ] = mod;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfor ( let i = 0; i < 15; i ++ ) {\r\n\r\n\t\t\tlet mod = ( ! test && ( ( bits >> i ) & 1 ) === 1 );\r\n\t\t\tif ( i < 8 ) {\r\n\r\n\t\t\t\tthis.modules[ 8 ][ this.moduleCount - i - 1 ] = mod;\r\n\r\n\t\t\t} else if ( i < 9 ) {\r\n\r\n\t\t\t\tthis.modules[ 8 ][ 15 - i - 1 + 1 ] = mod;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.modules[ 8 ][ 15 - i - 1 ] = mod;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tthis.modules[ this.moduleCount - 8 ][ 8 ] = ( ! test );\r\n\r\n\t}\r\n\r\n\tmapData( data, maskPattern ) {\r\n\r\n\t\tlet inc = - 1;\r\n\t\tlet row = this.moduleCount - 1;\r\n\t\tlet bitIndex = 7;\r\n\t\tlet byteIndex = 0;\r\n\t\tfor ( let col = this.moduleCount - 1; col > 0; col -= 2 ) {\r\n\r\n\t\t\tif ( col === 6 ) col --;\r\n\t\t\twhile ( true ) {\r\n\r\n\t\t\t\tfor ( let c = 0; c < 2; c ++ ) {\r\n\r\n\t\t\t\t\tif ( this.modules[ row ][ col - c ] === undefined ) {\r\n\r\n\t\t\t\t\t\tlet dark = false;\r\n\t\t\t\t\t\tif ( byteIndex < data.length ) {\r\n\r\n\t\t\t\t\t\t\tdark = ( ( ( data[ byteIndex ] >>> bitIndex ) & 1 ) === 1 );\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet mask = QRUtil.getMask( maskPattern, row, col - c );\r\n\t\t\t\t\t\tif ( mask ) {\r\n\r\n\t\t\t\t\t\t\tdark = ! dark;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.modules[ row ][ col - c ] = dark;\r\n\t\t\t\t\t\tbitIndex --;\r\n\t\t\t\t\t\tif ( bitIndex === - 1 ) {\r\n\r\n\t\t\t\t\t\t\tbyteIndex ++;\r\n\t\t\t\t\t\t\tbitIndex = 7;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\trow += inc;\r\n\t\t\t\tif ( row < 0 || this.moduleCount <= row ) {\r\n\r\n\t\t\t\t\trow -= inc;\r\n\t\t\t\t\tinc = - inc;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nQRCodeModel.PAD0 = 0xEC;\r\nQRCodeModel.PAD1 = 0x11;\r\nQRCodeModel.createData = function ( typeNumber, errorCorrectLevel, dataList ) {\r\n\r\n\tlet rsBlocks = QRRSBlock.getRSBlocks( typeNumber, errorCorrectLevel );\r\n\tlet buffer = new QRBitBuffer();\r\n\tfor ( let i = 0; i < dataList.length; i ++ ) {\r\n\r\n\t\tlet data = dataList[ i ];\r\n\t\tbuffer.put( data.mode, 4 );\r\n\t\tbuffer.put( data.getLength(), QRUtil.getLengthInBits( data.mode,\r\n\t\t\ttypeNumber ) );\r\n\t\tdata.write( buffer );\r\n\r\n\t}\r\n\tlet totalDataCount = 0;\r\n\tfor ( let i = 0; i < rsBlocks.length; i ++ ) {\r\n\r\n\t\ttotalDataCount += rsBlocks[ i ].dataCount;\r\n\r\n\t}\r\n\tif ( buffer.getLengthInBits() > totalDataCount * 8 ) {\r\n\r\n\t\tthrow new Error( \"code length overflow. (\" +\r\n      buffer.getLengthInBits() +\r\n      \">\" +\r\n      totalDataCount * 8 +\r\n      \")\" );\r\n\r\n\t}\r\n\tif ( buffer.getLengthInBits() + 4 <= totalDataCount * 8 ) {\r\n\r\n\t\tbuffer.put( 0, 4 );\r\n\r\n\t}\r\n\twhile ( buffer.getLengthInBits() % 8 !== 0 ) {\r\n\r\n\t\tbuffer.putBit( false );\r\n\r\n\t}\r\n\twhile ( true ) {\r\n\r\n\t\tif ( buffer.getLengthInBits() >= totalDataCount * 8 ) {\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\t\tbuffer.put( QRCodeModel.PAD0, 8 );\r\n\t\tif ( buffer.getLengthInBits() >= totalDataCount * 8 ) {\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\t\tbuffer.put( QRCodeModel.PAD1, 8 );\r\n\r\n\t}\r\n\treturn QRCodeModel.createBytes( buffer, rsBlocks );\r\n\r\n};\r\nQRCodeModel.createBytes = function ( buffer, rsBlocks ) {\r\n\r\n\tlet offset = 0;\r\n\tlet maxDcCount = 0;\r\n\tlet maxEcCount = 0;\r\n\tlet dcdata = new Array( rsBlocks.length );\r\n\tlet ecdata = new Array( rsBlocks.length );\r\n\tfor ( let r = 0; r < rsBlocks.length; r ++ ) {\r\n\r\n\t\tlet dcCount = rsBlocks[ r ].dataCount;\r\n\t\tlet ecCount = rsBlocks[ r ].totalCount - dcCount;\r\n\t\tmaxDcCount = Math.max( maxDcCount, dcCount );\r\n\t\tmaxEcCount = Math.max( maxEcCount, ecCount );\r\n\t\tdcdata[ r ] = new Array( dcCount );\r\n\t\tfor ( let i = 0; i < dcdata[ r ].length; i ++ ) {\r\n\r\n\t\t\tdcdata[ r ][ i ] = 0xff & buffer.buffer[ i + offset ];\r\n\r\n\t\t}\r\n\t\toffset += dcCount;\r\n\t\tlet rsPoly = QRUtil.getErrorCorrectPolynomial( ecCount );\r\n\t\tlet rawPoly = new QRPolynomial( dcdata[ r ], rsPoly.getLength() - 1 );\r\n\t\tlet modPoly = rawPoly.mod( rsPoly );\r\n\t\tecdata[ r ] = new Array( rsPoly.getLength() - 1 );\r\n\t\tfor ( let i = 0; i < ecdata[ r ].length; i ++ ) {\r\n\r\n\t\t\tlet modIndex = i + modPoly.getLength() - ecdata[ r ].length;\r\n\t\t\tecdata[ r ][ i ] = ( modIndex >= 0 ) ? modPoly.get( modIndex ) : 0;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tlet totalCodeCount = 0;\r\n\tfor ( let i = 0; i < rsBlocks.length; i ++ ) {\r\n\r\n\t\ttotalCodeCount += rsBlocks[ i ].totalCount;\r\n\r\n\t}\r\n\tlet data = new Array( totalCodeCount );\r\n\tlet index = 0;\r\n\tfor ( let i = 0; i < maxDcCount; i ++ ) {\r\n\r\n\t\tfor ( let r = 0; r < rsBlocks.length; r ++ ) {\r\n\r\n\t\t\tif ( i < dcdata[ r ].length ) {\r\n\r\n\t\t\t\tdata[ index ++ ] = dcdata[ r ][ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tfor ( let i = 0; i < maxEcCount; i ++ ) {\r\n\r\n\t\tfor ( let r = 0; r < rsBlocks.length; r ++ ) {\r\n\r\n\t\t\tif ( i < ecdata[ r ].length ) {\r\n\r\n\t\t\t\tdata[ index ++ ] = ecdata[ r ][ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\treturn data;\r\n\r\n};\r\n\r\nconst QRErrorCorrectLevel = {\r\n\tL: 1,\r\n\tM: 0,\r\n\tQ: 3,\r\n\tH: 2\r\n};\r\nconst QRMaskPattern = {\r\n\tPATTERN000: 0,\r\n\tPATTERN001: 1,\r\n\tPATTERN010: 2,\r\n\tPATTERN011: 3,\r\n\tPATTERN100: 4,\r\n\tPATTERN101: 5,\r\n\tPATTERN110: 6,\r\n\tPATTERN111: 7\r\n};\r\nlet QRUtil = {\r\n\tPATTERN_POSITION_TABLE: [\r\n\t\t[],\r\n\t\t[ 6, 18 ],\r\n\t\t[ 6, 22 ],\r\n\t\t[ 6, 26 ],\r\n\t\t[ 6, 30 ],\r\n\t\t[ 6, 34 ],\r\n\t\t[ 6, 22, 38 ],\r\n\t\t[ 6, 24, 42 ],\r\n\t\t[ 6, 26, 46 ],\r\n\t\t[ 6, 28, 50 ],\r\n\t\t[ 6, 30, 54 ],\r\n\t\t[ 6, 32, 58 ],\r\n\t\t[ 6, 34, 62 ],\r\n\t\t[ 6, 26, 46, 66 ],\r\n\t\t[ 6, 26, 48, 70 ],\r\n\t\t[ 6, 26, 50, 74 ],\r\n\t\t[ 6, 30, 54, 78 ],\r\n\t\t[ 6, 30, 56, 82 ],\r\n\t\t[ 6, 30, 58, 86 ],\r\n\t\t[ 6, 34, 62, 90 ],\r\n\t\t[ 6, 28, 50, 72, 94 ],\r\n\t\t[ 6, 26, 50, 74, 98 ],\r\n\t\t[ 6, 30, 54, 78, 102 ],\r\n\t\t[ 6, 28, 54, 80, 106 ],\r\n\t\t[ 6, 32, 58, 84, 110 ],\r\n\t\t[ 6, 30, 58, 86, 114 ],\r\n\t\t[ 6, 34, 62, 90, 118 ],\r\n\t\t[ 6, 26, 50, 74, 98, 122 ],\r\n\t\t[ 6, 30, 54, 78, 102, 126 ],\r\n\t\t[ 6, 26, 52, 78, 104, 130 ],\r\n\t\t[ 6, 30, 56, 82, 108, 134 ],\r\n\t\t[ 6, 34, 60, 86, 112, 138 ],\r\n\t\t[ 6, 30, 58, 86, 114, 142 ],\r\n\t\t[ 6, 34, 62, 90, 118, 146 ],\r\n\t\t[ 6, 30, 54, 78, 102, 126, 150 ],\r\n\t\t[ 6, 24, 50, 76, 102, 128, 154 ],\r\n\t\t[ 6, 28, 54, 80, 106, 132, 158 ],\r\n\t\t[ 6, 32, 58, 84, 110, 136, 162 ],\r\n\t\t[ 6, 26, 54, 82, 110, 138, 166 ],\r\n\t\t[ 6, 30, 58, 86, 114, 142, 170 ]\r\n\t],\r\n\tG15: ( 1 << 10 ) | ( 1 << 8 ) | ( 1 << 5 ) | ( 1 << 4 ) | ( 1 << 2 ) | ( 1 << 1 ) |\r\n    ( 1 << 0 ),\r\n\tG18: ( 1 << 12 ) | ( 1 << 11 ) | ( 1 << 10 ) | ( 1 << 9 ) | ( 1 << 8 ) | ( 1 << 5 ) |\r\n    ( 1 << 2 ) | ( 1 << 0 ),\r\n\tG15_MASK: ( 1 << 14 ) | ( 1 << 12 ) | ( 1 << 10 ) | ( 1 << 4 ) | ( 1 << 1 ),\r\n\tgetBCHTypeInfo: function ( data ) {\r\n\r\n\t\tlet d = data << 10;\r\n\t\twhile ( QRUtil.getBCHDigit( d ) - QRUtil.getBCHDigit( QRUtil.G15 ) >= 0 ) {\r\n\r\n\t\t\td ^= ( QRUtil.G15 << ( QRUtil.getBCHDigit( d ) - QRUtil.getBCHDigit(\r\n\t\t\t\tQRUtil.G15 ) ) );\r\n\r\n\t\t}\r\n\t\treturn ( ( data << 10 ) | d ) ^ QRUtil.G15_MASK;\r\n\r\n\t},\r\n\tgetBCHTypeNumber: function ( data ) {\r\n\r\n\t\tlet d = data << 12;\r\n\t\twhile ( QRUtil.getBCHDigit( d ) - QRUtil.getBCHDigit( QRUtil.G18 ) >= 0 ) {\r\n\r\n\t\t\td ^= ( QRUtil.G18 << ( QRUtil.getBCHDigit( d ) - QRUtil.getBCHDigit(\r\n\t\t\t\tQRUtil.G18 ) ) );\r\n\r\n\t\t}\r\n\t\treturn ( data << 12 ) | d;\r\n\r\n\t},\r\n\tgetBCHDigit: function ( data ) {\r\n\r\n\t\tlet digit = 0;\r\n\t\twhile ( data !== 0 ) {\r\n\r\n\t\t\tdigit ++;\r\n\t\t\tdata >>>= 1;\r\n\r\n\t\t}\r\n\t\treturn digit;\r\n\r\n\t},\r\n\tgetPatternPosition: function ( typeNumber ) {\r\n\r\n\t\treturn QRUtil.PATTERN_POSITION_TABLE[ typeNumber - 1 ];\r\n\r\n\t},\r\n\tgetMask: function ( maskPattern, i, j ) {\r\n\r\n\t\tswitch ( maskPattern ) {\r\n\r\n\t\t\tcase QRMaskPattern.PATTERN000:\r\n\t\t\t\treturn ( i + j ) % 2 === 0;\r\n\t\t\tcase QRMaskPattern.PATTERN001:\r\n\t\t\t\treturn i % 2 === 0;\r\n\t\t\tcase QRMaskPattern.PATTERN010:\r\n\t\t\t\treturn j % 3 === 0;\r\n\t\t\tcase QRMaskPattern.PATTERN011:\r\n\t\t\t\treturn ( i + j ) % 3 === 0;\r\n\t\t\tcase QRMaskPattern.PATTERN100:\r\n\t\t\t\treturn ( Math.floor( i / 2 ) + Math.floor( j / 3 ) ) % 2 === 0;\r\n\t\t\tcase QRMaskPattern.PATTERN101:\r\n\t\t\t\treturn ( i * j ) % 2 + ( i * j ) % 3 === 0;\r\n\t\t\tcase QRMaskPattern.PATTERN110:\r\n\t\t\t\treturn ( ( i * j ) % 2 + ( i * j ) % 3 ) % 2 === 0;\r\n\t\t\tcase QRMaskPattern.PATTERN111:\r\n\t\t\t\treturn ( ( i * j ) % 3 + ( i + j ) % 2 ) % 2 === 0;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error( \"bad maskPattern:\" + maskPattern );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\tgetErrorCorrectPolynomial: function ( errorCorrectLength ) {\r\n\r\n\t\tlet a = new QRPolynomial( [ 1 ], 0 );\r\n\t\tfor ( let i = 0; i < errorCorrectLength; i ++ ) {\r\n\r\n\t\t\ta = a.multiply( new QRPolynomial( [ 1, QRMath.gexp( i ) ], 0 ) );\r\n\r\n\t\t}\r\n\t\treturn a;\r\n\r\n\t},\r\n\tgetLengthInBits: function ( mode, type ) {\r\n\r\n\t\tif ( 1 <= type && type < 10 ) {\r\n\r\n\t\t\tswitch ( mode ) {\r\n\r\n\t\t\t\tcase QRMode.MODE_NUMBER:\r\n\t\t\t\t\treturn 10;\r\n\t\t\t\tcase QRMode.MODE_ALPHA_NUM:\r\n\t\t\t\t\treturn 9;\r\n\t\t\t\tcase QRMode.MODE_8BIT_BYTE:\r\n\t\t\t\t\treturn 8;\r\n\t\t\t\tcase QRMode.MODE_KANJI:\r\n\t\t\t\t\treturn 8;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error( \"mode:\" + mode );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( type < 27 ) {\r\n\r\n\t\t\tswitch ( mode ) {\r\n\r\n\t\t\t\tcase QRMode.MODE_NUMBER:\r\n\t\t\t\t\treturn 12;\r\n\t\t\t\tcase QRMode.MODE_ALPHA_NUM:\r\n\t\t\t\t\treturn 11;\r\n\t\t\t\tcase QRMode.MODE_8BIT_BYTE:\r\n\t\t\t\t\treturn 16;\r\n\t\t\t\tcase QRMode.MODE_KANJI:\r\n\t\t\t\t\treturn 10;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error( \"mode:\" + mode );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else if ( type < 41 ) {\r\n\r\n\t\t\tswitch ( mode ) {\r\n\r\n\t\t\t\tcase QRMode.MODE_NUMBER:\r\n\t\t\t\t\treturn 14;\r\n\t\t\t\tcase QRMode.MODE_ALPHA_NUM:\r\n\t\t\t\t\treturn 13;\r\n\t\t\t\tcase QRMode.MODE_8BIT_BYTE:\r\n\t\t\t\t\treturn 16;\r\n\t\t\t\tcase QRMode.MODE_KANJI:\r\n\t\t\t\t\treturn 12;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error( \"mode:\" + mode );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthrow new Error( \"type:\" + type );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\tgetLostPoint: function ( qrCode ) {\r\n\r\n\t\tlet moduleCount = qrCode.getModuleCount();\r\n\t\tlet lostPoint = 0;\r\n\t\tfor ( let row = 0; row < moduleCount; row ++ ) {\r\n\r\n\t\t\tfor ( let col = 0; col < moduleCount; col ++ ) {\r\n\r\n\t\t\t\tlet sameCount = 0;\r\n\t\t\t\tlet dark = qrCode.isDark( row, col );\r\n\t\t\t\tfor ( let r = - 1; r <= 1; r ++ ) {\r\n\r\n\t\t\t\t\tif ( row + r < 0 || moduleCount <= row + r ) {\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor ( let c = - 1; c <= 1; c ++ ) {\r\n\r\n\t\t\t\t\t\tif ( col + c < 0 || moduleCount <= col + c ) {\r\n\r\n\t\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( r === 0 && c === 0 ) {\r\n\r\n\t\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( dark === qrCode.isDark( row + r, col + c ) ) {\r\n\r\n\t\t\t\t\t\t\tsameCount ++;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif ( sameCount > 5 ) {\r\n\r\n\t\t\t\t\tlostPoint += ( 3 + sameCount - 5 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfor ( let row = 0; row < moduleCount - 1; row ++ ) {\r\n\r\n\t\t\tfor ( let col = 0; col < moduleCount - 1; col ++ ) {\r\n\r\n\t\t\t\tlet count = 0;\r\n\t\t\t\tif ( qrCode.isDark( row, col ) ) count ++;\r\n\t\t\t\tif ( qrCode.isDark( row + 1, col ) ) count ++;\r\n\t\t\t\tif ( qrCode.isDark( row, col + 1 ) ) count ++;\r\n\t\t\t\tif ( qrCode.isDark( row + 1, col + 1 ) ) count ++;\r\n\t\t\t\tif ( count === 0 || count === 4 ) {\r\n\r\n\t\t\t\t\tlostPoint += 3;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfor ( let row = 0; row < moduleCount; row ++ ) {\r\n\r\n\t\t\tfor ( let col = 0; col < moduleCount - 6; col ++ ) {\r\n\r\n\t\t\t\tif ( qrCode.isDark( row, col ) && ! qrCode.isDark( row, col + 1 ) &&\r\n          qrCode.isDark( row, col + 2 ) && qrCode.isDark( row, col + 3 ) &&\r\n          qrCode.isDark( row, col + 4 ) && ! qrCode.isDark( row, col + 5 ) &&\r\n          qrCode.isDark( row, col + 6 ) ) {\r\n\r\n\t\t\t\t\tlostPoint += 40;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfor ( let col = 0; col < moduleCount; col ++ ) {\r\n\r\n\t\t\tfor ( let row = 0; row < moduleCount - 6; row ++ ) {\r\n\r\n\t\t\t\tif ( qrCode.isDark( row, col ) && ! qrCode.isDark( row + 1, col ) &&\r\n          qrCode.isDark( row + 2, col ) && qrCode.isDark( row + 3, col ) &&\r\n          qrCode.isDark( row + 4, col ) && ! qrCode.isDark( row + 5, col ) &&\r\n          qrCode.isDark( row + 6, col ) ) {\r\n\r\n\t\t\t\t\tlostPoint += 40;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tlet darkCount = 0;\r\n\t\tfor ( let col = 0; col < moduleCount; col ++ ) {\r\n\r\n\t\t\tfor ( let row = 0; row < moduleCount; row ++ ) {\r\n\r\n\t\t\t\tif ( qrCode.isDark( row, col ) ) {\r\n\r\n\t\t\t\t\tdarkCount ++;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tlet ratio = Math.abs( 100 * darkCount / moduleCount / moduleCount -\r\n      50 ) / 5;\r\n\t\tlostPoint += ratio * 10;\r\n\t\treturn lostPoint;\r\n\r\n\t}\r\n};\r\nlet QRMath = {\r\n\tglog: function ( n ) {\r\n\r\n\t\tif ( n < 1 ) {\r\n\r\n\t\t\tthrow new Error( \"glog(\" + n + \")\" );\r\n\r\n\t\t}\r\n\t\treturn QRMath.LOG_TABLE[ n ];\r\n\r\n\t},\r\n\tgexp: function ( n ) {\r\n\r\n\t\twhile ( n < 0 ) {\r\n\r\n\t\t\tn += 255;\r\n\r\n\t\t}\r\n\t\twhile ( n >= 256 ) {\r\n\r\n\t\t\tn -= 255;\r\n\r\n\t\t}\r\n\t\treturn QRMath.EXP_TABLE[ n ];\r\n\r\n\t},\r\n\tEXP_TABLE: new Array( 256 ),\r\n\tLOG_TABLE: new Array( 256 )\r\n};\r\nfor ( let i = 0; i < 8; i ++ ) {\r\n\r\n\tQRMath.EXP_TABLE[ i ] = 1 << i;\r\n\r\n}\r\nfor ( let i = 8; i < 256; i ++ ) {\r\n\r\n\tQRMath.EXP_TABLE[ i ] = QRMath.EXP_TABLE[ i - 4 ] ^ QRMath.EXP_TABLE[ i - 5 ] ^\r\n    QRMath.EXP_TABLE[ i - 6 ] ^ QRMath.EXP_TABLE[ i - 8 ];\r\n\r\n}\r\nfor ( let i = 0; i < 255; i ++ ) {\r\n\r\n\tQRMath.LOG_TABLE[ QRMath.EXP_TABLE[ i ] ] = i;\r\n\r\n}\r\n\r\nfunction QRPolynomial( num, shift ) {\r\n\r\n\tif ( num.length === undefined ) {\r\n\r\n\t\tthrow new Error( num.length + \"/\" + shift );\r\n\r\n\t}\r\n\tlet offset = 0;\r\n\twhile ( offset < num.length && num[ offset ] === 0 ) {\r\n\r\n\t\toffset ++;\r\n\r\n\t}\r\n\tthis.num = new Array( num.length - offset + shift );\r\n\tfor ( let i = 0; i < num.length - offset; i ++ ) {\r\n\r\n\t\tthis.num[ i ] = num[ i + offset ];\r\n\r\n\t}\r\n\r\n}\r\nQRPolynomial.prototype = {\r\n\tget: function ( index ) {\r\n\r\n\t\treturn this.num[ index ];\r\n\r\n\t},\r\n\tgetLength: function () {\r\n\r\n\t\treturn this.num.length;\r\n\r\n\t},\r\n\tmultiply: function ( e ) {\r\n\r\n\t\tlet num = new Array( this.getLength() + e.getLength() - 1 );\r\n\t\tfor ( let i = 0; i < this.getLength(); i ++ ) {\r\n\r\n\t\t\tfor ( let j = 0; j < e.getLength(); j ++ ) {\r\n\r\n\t\t\t\tnum[ i + j ] ^= QRMath.gexp( QRMath.glog( this.get( i ) ) + QRMath.glog(\r\n\t\t\t\t\te.get( j ) ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn new QRPolynomial( num, 0 );\r\n\r\n\t},\r\n\tmod: function ( e ) {\r\n\r\n\t\tif ( this.getLength() - e.getLength() < 0 ) {\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t\tlet ratio = QRMath.glog( this.get( 0 ) ) - QRMath.glog( e.get( 0 ) );\r\n\t\tlet num = new Array( this.getLength() );\r\n\t\tfor ( let i = 0; i < this.getLength(); i ++ ) {\r\n\r\n\t\t\tnum[ i ] = this.get( i );\r\n\r\n\t\t}\r\n\t\tfor ( let i = 0; i < e.getLength(); i ++ ) {\r\n\r\n\t\t\tnum[ i ] ^= QRMath.gexp( QRMath.glog( e.get( i ) ) + ratio );\r\n\r\n\t\t}\r\n\t\treturn new QRPolynomial( num, 0 )\r\n\t\t\t.mod( e );\r\n\r\n\t}\r\n};\r\n\r\nfunction QRRSBlock( totalCount, dataCount ) {\r\n\r\n\tthis.totalCount = totalCount;\r\n\tthis.dataCount = dataCount;\r\n\r\n}\r\nQRRSBlock.RS_BLOCK_TABLE = [\r\n\t[ 1, 26, 19 ],\r\n\t[ 1, 26, 16 ],\r\n\t[ 1, 26, 13 ],\r\n\t[ 1, 26, 9 ],\r\n\t[ 1, 44, 34 ],\r\n\t[ 1, 44, 28 ],\r\n\t[ 1, 44, 22 ],\r\n\t[ 1, 44, 16 ],\r\n\t[ 1, 70, 55 ],\r\n\t[ 1, 70, 44 ],\r\n\t[ 2, 35, 17 ],\r\n\t[ 2, 35, 13 ],\r\n\t[ 1, 100, 80 ],\r\n\t[ 2, 50, 32 ],\r\n\t[ 2, 50, 24 ],\r\n\t[ 4, 25, 9 ],\r\n\t[ 1, 134, 108 ],\r\n\t[ 2, 67, 43 ],\r\n\t[ 2, 33, 15, 2, 34, 16 ],\r\n\t[ 2, 33, 11, 2, 34, 12 ],\r\n\t[ 2, 86, 68 ],\r\n\t[ 4, 43, 27 ],\r\n\t[ 4, 43, 19 ],\r\n\t[ 4, 43, 15 ],\r\n\t[ 2, 98, 78 ],\r\n\t[ 4, 49, 31 ],\r\n\t[ 2, 32, 14, 4, 33, 15 ],\r\n\t[ 4, 39, 13, 1, 40, 14 ],\r\n\t[ 2, 121, 97 ],\r\n\t[ 2, 60, 38, 2, 61, 39 ],\r\n\t[ 4, 40, 18, 2, 41, 19 ],\r\n\t[ 4, 40, 14, 2, 41, 15 ],\r\n\t[ 2, 146, 116 ],\r\n\t[ 3, 58, 36, 2, 59, 37 ],\r\n\t[ 4, 36, 16, 4, 37, 17 ],\r\n\t[ 4, 36, 12, 4, 37, 13 ],\r\n\t[ 2, 86, 68, 2, 87, 69 ],\r\n\t[ 4, 69, 43, 1, 70, 44 ],\r\n\t[ 6, 43, 19, 2, 44, 20 ],\r\n\t[ 6, 43, 15, 2, 44, 16 ],\r\n\t[ 4, 101, 81 ],\r\n\t[ 1, 80, 50, 4, 81, 51 ],\r\n\t[ 4, 50, 22, 4, 51, 23 ],\r\n\t[ 3, 36, 12, 8, 37, 13 ],\r\n\t[ 2, 116, 92, 2, 117, 93 ],\r\n\t[ 6, 58, 36, 2, 59, 37 ],\r\n\t[ 4, 46, 20, 6, 47, 21 ],\r\n\t[ 7, 42, 14, 4, 43, 15 ],\r\n\t[ 4, 133, 107 ],\r\n\t[ 8, 59, 37, 1, 60, 38 ],\r\n\t[ 8, 44, 20, 4, 45, 21 ],\r\n\t[ 12, 33, 11, 4, 34, 12 ],\r\n\t[ 3, 145, 115, 1, 146, 116 ],\r\n\t[ 4, 64, 40, 5, 65, 41 ],\r\n\t[ 11, 36, 16, 5, 37, 17 ],\r\n\t[ 11, 36, 12, 5, 37, 13 ],\r\n\t[ 5, 109, 87, 1, 110, 88 ],\r\n\t[ 5, 65, 41, 5, 66, 42 ],\r\n\t[ 5, 54, 24, 7, 55, 25 ],\r\n\t[ 11, 36, 12 ],\r\n\t[ 5, 122, 98, 1, 123, 99 ],\r\n\t[ 7, 73, 45, 3, 74, 46 ],\r\n\t[ 15, 43, 19, 2, 44, 20 ],\r\n\t[ 3, 45, 15, 13, 46, 16 ],\r\n\t[ 1, 135, 107, 5, 136, 108 ],\r\n\t[ 10, 74, 46, 1, 75, 47 ],\r\n\t[ 1, 50, 22, 15, 51, 23 ],\r\n\t[ 2, 42, 14, 17, 43, 15 ],\r\n\t[ 5, 150, 120, 1, 151, 121 ],\r\n\t[ 9, 69, 43, 4, 70, 44 ],\r\n\t[ 17, 50, 22, 1, 51, 23 ],\r\n\t[ 2, 42, 14, 19, 43, 15 ],\r\n\t[ 3, 141, 113, 4, 142, 114 ],\r\n\t[ 3, 70, 44, 11, 71, 45 ],\r\n\t[ 17, 47, 21, 4, 48, 22 ],\r\n\t[ 9, 39, 13, 16, 40, 14 ],\r\n\t[ 3, 135, 107, 5, 136, 108 ],\r\n\t[ 3, 67, 41, 13, 68, 42 ],\r\n\t[ 15, 54, 24, 5, 55, 25 ],\r\n\t[ 15, 43, 15, 10, 44, 16 ],\r\n\t[ 4, 144, 116, 4, 145, 117 ],\r\n\t[ 17, 68, 42 ],\r\n\t[ 17, 50, 22, 6, 51, 23 ],\r\n\t[ 19, 46, 16, 6, 47, 17 ],\r\n\t[ 2, 139, 111, 7, 140, 112 ],\r\n\t[ 17, 74, 46 ],\r\n\t[ 7, 54, 24, 16, 55, 25 ],\r\n\t[ 34, 37, 13 ],\r\n\t[ 4, 151, 121, 5, 152, 122 ],\r\n\t[ 4, 75, 47, 14, 76, 48 ],\r\n\t[ 11, 54, 24, 14, 55, 25 ],\r\n\t[ 16, 45, 15, 14, 46, 16 ],\r\n\t[ 6, 147, 117, 4, 148, 118 ],\r\n\t[ 6, 73, 45, 14, 74, 46 ],\r\n\t[ 11, 54, 24, 16, 55, 25 ],\r\n\t[ 30, 46, 16, 2, 47, 17 ],\r\n\t[ 8, 132, 106, 4, 133, 107 ],\r\n\t[ 8, 75, 47, 13, 76, 48 ],\r\n\t[ 7, 54, 24, 22, 55, 25 ],\r\n\t[ 22, 45, 15, 13, 46, 16 ],\r\n\t[ 10, 142, 114, 2, 143, 115 ],\r\n\t[ 19, 74, 46, 4, 75, 47 ],\r\n\t[ 28, 50, 22, 6, 51, 23 ],\r\n\t[ 33, 46, 16, 4, 47, 17 ],\r\n\t[ 8, 152, 122, 4, 153, 123 ],\r\n\t[ 22, 73, 45, 3, 74, 46 ],\r\n\t[ 8, 53, 23, 26, 54, 24 ],\r\n\t[ 12, 45, 15, 28, 46, 16 ],\r\n\t[ 3, 147, 117, 10, 148, 118 ],\r\n\t[ 3, 73, 45, 23, 74, 46 ],\r\n\t[ 4, 54, 24, 31, 55, 25 ],\r\n\t[ 11, 45, 15, 31, 46, 16 ],\r\n\t[ 7, 146, 116, 7, 147, 117 ],\r\n\t[ 21, 73, 45, 7, 74, 46 ],\r\n\t[ 1, 53, 23, 37, 54, 24 ],\r\n\t[ 19, 45, 15, 26, 46, 16 ],\r\n\t[ 5, 145, 115, 10, 146, 116 ],\r\n\t[ 19, 75, 47, 10, 76, 48 ],\r\n\t[ 15, 54, 24, 25, 55, 25 ],\r\n\t[ 23, 45, 15, 25, 46, 16 ],\r\n\t[ 13, 145, 115, 3, 146, 116 ],\r\n\t[ 2, 74, 46, 29, 75, 47 ],\r\n\t[ 42, 54, 24, 1, 55, 25 ],\r\n\t[ 23, 45, 15, 28, 46, 16 ],\r\n\t[ 17, 145, 115 ],\r\n\t[ 10, 74, 46, 23, 75, 47 ],\r\n\t[ 10, 54, 24, 35, 55, 25 ],\r\n\t[ 19, 45, 15, 35, 46, 16 ],\r\n\t[ 17, 145, 115, 1, 146, 116 ],\r\n\t[ 14, 74, 46, 21, 75, 47 ],\r\n\t[ 29, 54, 24, 19, 55, 25 ],\r\n\t[ 11, 45, 15, 46, 46, 16 ],\r\n\t[ 13, 145, 115, 6, 146, 116 ],\r\n\t[ 14, 74, 46, 23, 75, 47 ],\r\n\t[ 44, 54, 24, 7, 55, 25 ],\r\n\t[ 59, 46, 16, 1, 47, 17 ],\r\n\t[ 12, 151, 121, 7, 152, 122 ],\r\n\t[ 12, 75, 47, 26, 76, 48 ],\r\n\t[ 39, 54, 24, 14, 55, 25 ],\r\n\t[ 22, 45, 15, 41, 46, 16 ],\r\n\t[ 6, 151, 121, 14, 152, 122 ],\r\n\t[ 6, 75, 47, 34, 76, 48 ],\r\n\t[ 46, 54, 24, 10, 55, 25 ],\r\n\t[ 2, 45, 15, 64, 46, 16 ],\r\n\t[ 17, 152, 122, 4, 153, 123 ],\r\n\t[ 29, 74, 46, 14, 75, 47 ],\r\n\t[ 49, 54, 24, 10, 55, 25 ],\r\n\t[ 24, 45, 15, 46, 46, 16 ],\r\n\t[ 4, 152, 122, 18, 153, 123 ],\r\n\t[ 13, 74, 46, 32, 75, 47 ],\r\n\t[ 48, 54, 24, 14, 55, 25 ],\r\n\t[ 42, 45, 15, 32, 46, 16 ],\r\n\t[ 20, 147, 117, 4, 148, 118 ],\r\n\t[ 40, 75, 47, 7, 76, 48 ],\r\n\t[ 43, 54, 24, 22, 55, 25 ],\r\n\t[ 10, 45, 15, 67, 46, 16 ],\r\n\t[ 19, 148, 118, 6, 149, 119 ],\r\n\t[ 18, 75, 47, 31, 76, 48 ],\r\n\t[ 34, 54, 24, 34, 55, 25 ],\r\n\t[ 20, 45, 15, 61, 46, 16 ]\r\n];\r\nQRRSBlock.getRSBlocks = function ( typeNumber, errorCorrectLevel ) {\r\n\r\n\tlet rsBlock = QRRSBlock.getRsBlockTable( typeNumber, errorCorrectLevel );\r\n\tif ( rsBlock === undefined ) {\r\n\r\n\t\tthrow new Error( \"bad rs block @ typeNumber:\" + typeNumber +\r\n      \"/errorCorrectLevel:\" + errorCorrectLevel );\r\n\r\n\t}\r\n\tlet length = rsBlock.length / 3;\r\n\tlet list = [];\r\n\tfor ( let i = 0; i < length; i ++ ) {\r\n\r\n\t\tlet count = rsBlock[ i * 3 + 0 ];\r\n\t\tlet totalCount = rsBlock[ i * 3 + 1 ];\r\n\t\tlet dataCount = rsBlock[ i * 3 + 2 ];\r\n\t\tfor ( let j = 0; j < count; j ++ ) {\r\n\r\n\t\t\tlist.push( new QRRSBlock( totalCount, dataCount ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\treturn list;\r\n\r\n};\r\nQRRSBlock.getRsBlockTable = function ( typeNumber, errorCorrectLevel ) {\r\n\r\n\tswitch ( errorCorrectLevel ) {\r\n\r\n\t\tcase QRErrorCorrectLevel.L:\r\n\t\t\treturn QRRSBlock.RS_BLOCK_TABLE[ ( typeNumber - 1 ) * 4 + 0 ];\r\n\t\tcase QRErrorCorrectLevel.M:\r\n\t\t\treturn QRRSBlock.RS_BLOCK_TABLE[ ( typeNumber - 1 ) * 4 + 1 ];\r\n\t\tcase QRErrorCorrectLevel.Q:\r\n\t\t\treturn QRRSBlock.RS_BLOCK_TABLE[ ( typeNumber - 1 ) * 4 + 2 ];\r\n\t\tcase QRErrorCorrectLevel.H:\r\n\t\t\treturn QRRSBlock.RS_BLOCK_TABLE[ ( typeNumber - 1 ) * 4 + 3 ];\r\n\t\tdefault:\r\n\t\t\treturn undefined;\r\n\r\n\t}\r\n\r\n};\r\n\r\nfunction QRBitBuffer() {\r\n\r\n\tthis.buffer = [];\r\n\tthis.length = 0;\r\n\r\n}\r\nQRBitBuffer.prototype = {\r\n\tget: function ( index ) {\r\n\r\n\t\tlet bufIndex = Math.floor( index / 8 );\r\n\t\treturn ( ( this.buffer[ bufIndex ] >>> ( 7 - index % 8 ) ) & 1 ) === 1;\r\n\r\n\t},\r\n\tput: function ( num, length ) {\r\n\r\n\t\tfor ( let i = 0; i < length; i ++ ) {\r\n\r\n\t\t\tthis.putBit( ( ( num >>> ( length - i - 1 ) ) & 1 ) === 1 );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\tgetLengthInBits: function () {\r\n\r\n\t\treturn this.length;\r\n\r\n\t},\r\n\tputBit: function ( bit ) {\r\n\r\n\t\tlet bufIndex = Math.floor( this.length / 8 );\r\n\t\tif ( this.buffer.length <= bufIndex ) {\r\n\r\n\t\t\tthis.buffer.push( 0 );\r\n\r\n\t\t}\r\n\t\tif ( bit ) {\r\n\r\n\t\t\tthis.buffer[ bufIndex ] |= ( 0x80 >>> ( this.length % 8 ) );\r\n\r\n\t\t}\r\n\t\tthis.length ++;\r\n\r\n\t}\r\n};\r\nlet QRCodeLimitLength = [\r\n\t[ 17, 14, 11, 7 ],\r\n\t[ 32, 26, 20, 14 ],\r\n\t[ 53, 42, 32, 24 ],\r\n\t[ 78, 62, 46, 34 ],\r\n\t[ 106, 84, 60, 44 ],\r\n\t[ 134, 106, 74, 58 ],\r\n\t[ 154, 122, 86, 64 ],\r\n\t[ 192, 152, 108, 84 ],\r\n\t[ 230, 180, 130, 98 ],\r\n\t[ 271, 213, 151, 119 ],\r\n\t[ 321, 251, 177, 137 ],\r\n\t[ 367, 287, 203, 155 ],\r\n\t[ 425, 331, 241, 177 ],\r\n\t[ 458, 362, 258, 194 ],\r\n\t[ 520, 412, 292, 220 ],\r\n\t[ 586, 450, 322, 250 ],\r\n\t[ 644, 504, 364, 280 ],\r\n\t[ 718, 560, 394, 310 ],\r\n\t[ 792, 624, 442, 338 ],\r\n\t[ 858, 666, 482, 382 ],\r\n\t[ 929, 711, 509, 403 ],\r\n\t[ 1003, 779, 565, 439 ],\r\n\t[ 1091, 857, 611, 461 ],\r\n\t[ 1171, 911, 661, 511 ],\r\n\t[ 1273, 997, 715, 535 ],\r\n\t[ 1367, 1059, 751, 593 ],\r\n\t[ 1465, 1125, 805, 625 ],\r\n\t[ 1528, 1190, 868, 658 ],\r\n\t[ 1628, 1264, 908, 698 ],\r\n\t[ 1732, 1370, 982, 742 ],\r\n\t[ 1840, 1452, 1030, 790 ],\r\n\t[ 1952, 1538, 1112, 842 ],\r\n\t[ 2068, 1628, 1168, 898 ],\r\n\t[ 2188, 1722, 1228, 958 ],\r\n\t[ 2303, 1809, 1283, 983 ],\r\n\t[ 2431, 1911, 1351, 1051 ],\r\n\t[ 2563, 1989, 1423, 1093 ],\r\n\t[ 2699, 2099, 1499, 1139 ],\r\n\t[ 2809, 2213, 1579, 1219 ],\r\n\t[ 2953, 2331, 1663, 1273 ]\r\n];\r\n\r\n/**\r\n * Get the type by string length\r\n *\r\n * @private\r\n * @param {String} sText\r\n * @param {Number} nCorrectLevel\r\n * @return {Number} type\r\n */\r\nfunction _getTypeNumber( sText, nCorrectLevel ) {\r\n\r\n\tlet nType = 1;\r\n\tlet length = _getUTF8Length( sText );\r\n\r\n\tfor ( let i = 0, len = QRCodeLimitLength.length; i <= len; i ++ ) {\r\n\r\n\t\tlet nLimit = 0;\r\n\r\n\t\tswitch ( nCorrectLevel ) {\r\n\r\n\t\t\tcase QRErrorCorrectLevel.L:\r\n\t\t\t\tnLimit = QRCodeLimitLength[ i ][ 0 ];\r\n\t\t\t\tbreak;\r\n\t\t\tcase QRErrorCorrectLevel.M:\r\n\t\t\t\tnLimit = QRCodeLimitLength[ i ][ 1 ];\r\n\t\t\t\tbreak;\r\n\t\t\tcase QRErrorCorrectLevel.Q:\r\n\t\t\t\tnLimit = QRCodeLimitLength[ i ][ 2 ];\r\n\t\t\t\tbreak;\r\n\t\t\tcase QRErrorCorrectLevel.H:\r\n\t\t\t\tnLimit = QRCodeLimitLength[ i ][ 3 ];\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tnLimit = QRCodeLimitLength[ i ][ 1 ];\r\n\r\n\t\t}\r\n\r\n\t\tif ( length <= nLimit ) {\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tnType ++;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tif ( nType > QRCodeLimitLength.length ) {\r\n\r\n\t\tthrow new Error( \"Too long data\" );\r\n\r\n\t}\r\n\r\n\treturn nType;\r\n\r\n}\r\n\r\nfunction _getUTF8Length( sText ) {\r\n\r\n\tlet replacedText = encodeURI( sText )\r\n\t\t.toString()\r\n\t\t.replace( /\\%[0-9a-fA-F]{2}/g, 'a' );\r\n\treturn replacedText.length + ( replacedText.length !== sText ? 3 : 0 );\r\n\r\n}\r\n\r\nlet QRCode = function ( str, correctLevel = QRErrorCorrectLevel.H ) {\r\n\r\n\tthis.correctLevel = correctLevel;\r\n\tif ( str ) {\r\n\r\n\t\tthis.makeCode( str );\r\n\r\n\t}\r\n\r\n};\r\n\r\n/**\r\n * Make the QRCode\r\n *\r\n * @param {String} sText link data\r\n */\r\nQRCode.prototype.makeCode = function ( sText ) {\r\n\r\n\tlet oQRCode = new QRCodeModel( _getTypeNumber( sText, this.correctLevel ),\r\n\t\tthis.correctLevel );\r\n\toQRCode.addData( sText );\r\n\toQRCode.make();\r\n\tthis.size = oQRCode.moduleCount;\r\n\tthis.data = oQRCode.modules;\r\n\r\n};\r\n\r\n/**\r\n * @name QRCode.CorrectLevel\r\n */\r\nQRCode.CorrectLevel = QRErrorCorrectLevel;\r\n\r\nexport {\r\n\tQRCode\r\n};\r\n","import World from './World';\r\nimport { ShaderMaterial, OrthographicCamera, PlaneBufferGeometry, Mesh } from \"three\";\r\n\r\nexport default class Transitioner {\r\n\r\n\tconstructor( app, world, texture, options = {} ) {\r\n\r\n\t\tthis.options = {\r\n\t\t\tuseTexture: true,\r\n\t\t\ttransition: 0,\r\n\t\t\tspeed: 10,\r\n\t\t\ttexture: 5,\r\n\t\t\tloopTexture: true,\r\n\t\t\tisAnimate: true,\r\n\t\t\tthreshold: 0.3,\r\n\t\t\t...options\r\n\t\t};\r\n\t\tthis.app = app;\r\n\t\tthis.targetWorld = world;\r\n\t\tthis.maskTexture = texture;\r\n\t\tthis.material = new ShaderMaterial( {\r\n\t\t\tuniforms: {\r\n\t\t\t\ttDiffuse1: {\r\n\t\t\t\t\tvalue: null\r\n\t\t\t\t},\r\n\t\t\t\ttDiffuse2: {\r\n\t\t\t\t\tvalue: null\r\n\t\t\t\t},\r\n\t\t\t\tmixRatio: {\r\n\t\t\t\t\tvalue: 0.0\r\n\t\t\t\t},\r\n\t\t\t\tthreshold: {\r\n\t\t\t\t\tvalue: 0.1\r\n\t\t\t\t},\r\n\t\t\t\tuseTexture: {\r\n\t\t\t\t\tvalue: 1\r\n\t\t\t\t},\r\n\t\t\t\ttMixTexture: {\r\n\t\t\t\t\tvalue: this.maskTexture\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tvertexShader: `varying vec2 vUv;\r\n        void main() {\r\n        vUv = vec2( uv.x, uv.y );\r\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n        }`,\r\n\t\t\tfragmentShader: `uniform float mixRatio;\r\n        uniform sampler2D tDiffuse1;\r\n        uniform sampler2D tDiffuse2;\r\n        uniform sampler2D tMixTexture;\r\n        uniform int useTexture;\r\n        uniform float threshold;\r\n        varying vec2 vUv;\r\n        \r\n        void main() {\r\n\r\n        vec4 texel1 = texture2D( tDiffuse1, vUv );\r\n        vec4 texel2 = texture2D( tDiffuse2, vUv );\r\n\r\n        if (useTexture==1) {\r\n\r\n        vec4 transitionTexel = texture2D( tMixTexture, vUv );\r\n        float r = mixRatio * (1.0 + threshold * 2.0) - threshold;\r\n        float mixf=clamp((transitionTexel.r - r)*(1.0/threshold), 0.0, 1.0);\r\n\r\n        gl_FragColor = mix( texel1, texel2, mixf );\r\n        } else {\r\n\r\n        gl_FragColor = mix( texel2, texel1, mixRatio );\r\n\r\n        }\r\n        }`\r\n\t\t} );\r\n\t\tlet halfWidth = app.getWorldWidth() / 2;\r\n\t\tlet halfHeight = app.getWorldHeight() / 2;\r\n\t\tthis.world = new World( app, new OrthographicCamera( - halfWidth,\r\n\t\t\thalfWidth, halfHeight, - halfHeight, - 10, 10 ) );\r\n\r\n\t\tlet geometry = new PlaneBufferGeometry( halfWidth * 2,\r\n\t\t\thalfHeight * 2 );\r\n\r\n\t\tlet quad = new Mesh( geometry, this.material );\r\n\t\tthis.world.scene.add( quad );\r\n\r\n\t\tthis.sceneA = world;\r\n\t\tthis.sceneB = app.world;\r\n\r\n\t\tthis.material.uniforms.tDiffuse1.value = this.sceneA.fbo.texture;\r\n\t\tthis.material.uniforms.tDiffuse2.value = this.sceneB.fbo.texture;\r\n\r\n\t\tthis.needChange = false;\r\n\r\n\t}\r\n\r\n\tsetThreshold( value ) {\r\n\r\n\t\tthis.material.uniforms.threshold.value = value;\r\n\r\n\t}\r\n\r\n\tuseTexture( value ) {\r\n\r\n\t\tthis.material.uniforms.useTexture.value = value ? 1 : 0;\r\n\r\n\t}\r\n\r\n\tsetTexture() {\r\n\r\n\t\tthis.material.uniforms.tMixTexture.value = this.texture;\r\n\r\n\t}\r\n\r\n\tupdate = () => {\r\n\r\n\t\tlet value = Math.min( this.options.transition, 1 );\r\n\t\tvalue = Math.max( value, 0 );\r\n\t\tthis.material.uniforms.mixRatio.value = value;\r\n\t\tthis.app.renderer.setClearColor( this.sceneB.clearColor || 0 );\r\n\t\tthis.sceneB.update();\r\n\t\tthis.app.renderer.render( this.sceneB.scene, this.sceneB.camera, this.sceneB\r\n\t\t\t.fbo, true );\r\n\t\tthis.app.renderer.setClearColor( this.sceneA.clearColor || 0 );\r\n\t\tthis.sceneA.update();\r\n\t\tthis.app.renderer.render( this.sceneA.scene, this.sceneA.camera, this.sceneA\r\n\t\t\t.fbo, true );\r\n\t\tthis.app.renderer.render( this.world.scene, this.world.camera, null, true );\r\n\r\n\t}\r\n\r\n}\r\n","import { PerspectiveCamera, WebGLRenderTarget, LinearFilter, RGBFormat } from \"three\";\r\n\r\nexport default class View {\r\n\r\n\tconstructor( world, camera, {\r\n\t\tclearColor = 0x000000,\r\n\t\ttop = 0,\r\n\t\tleft = 0,\r\n\t\twidth = 1,\r\n\t\theight = 1\r\n\t} ) {\r\n\r\n\t\tthis.world = world;\r\n\t\tthis.scene = world.scene;\r\n\t\tthis.worldWidth = world.app.getWorldWidth();\r\n\t\tthis.worldHeight = world.app.getWorldHeight();\r\n\t\tthis.renderer = world.app.renderer;\r\n\t\tthis.camera = camera || PerspectiveCamera( 45, this.worldWidth / this.worldHeight, 0.01, 1000 );\r\n\t\tthis.renderTargetParameters = {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tformat: RGBFormat,\r\n\t\t\tstencilBuffer: false\r\n\t\t};\r\n\t\tthis.isRTT = false;\r\n\t\tthis.clearColor = clearColor;\r\n\t\tthis.left = left;\r\n\t\tthis.top = top;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\r\n\t\tthis.fbo = new WebGLRenderTarget(\r\n\t\t\tthis.worldWidth * this.width,\r\n\t\t\tthis.worldHeight * this.height, this.renderTargetParameters\r\n\t\t);\r\n\r\n\t\tthis.resize();\r\n\r\n\t}\r\n\r\n\trender = () => {\r\n\r\n\t\tvar left = Math.floor( this.worldWidth * this.left );\r\n\t\tvar top = Math.floor( this.worldHeight * this.top );\r\n\t\tvar width = Math.floor( this.worldWidth * this.width );\r\n\t\tvar height = Math.floor( this.worldHeight * this.height );\r\n\t\tthis.renderer.setViewport( left, top, width, height );\r\n\t\tthis.renderer.setScissor( left, top, width, height );\r\n\t\tthis.renderer.setScissorTest( true );\r\n\t\tthis.renderer.setClearColor( this.clearColor );\r\n\t\tthis.renderer.render( this.scene, this.camera );\r\n\r\n\t}\r\n\r\n\tresize() {\r\n\r\n\t\tthis.worldWidth = this.world.app.getWorldWidth();\r\n\t\tthis.worldHeight = this.world.app.getWorldHeight();\r\n\t\tlet width = Math.floor( this.worldWidth * this.width );\r\n\t\tlet height = Math.floor( this.worldHeight * this.height );\r\n\t\tif ( this.camera.type === 'PerspectiveCamera' ) {\r\n\r\n\t\t\tthis.camera.aspect = width / height;\r\n\t\t\tthis.camera.updateProjectionMatrix();\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.camera.left = - width / 2;\r\n\t\t\tthis.camera.right = width / 2;\r\n\t\t\tthis.camera.top = height / 2;\r\n\t\t\tthis.camera.bottom = - height / 2;\r\n\t\t\tthis.camera.updateProjectionMatrix();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n","var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n","var baseUnset = require('./_baseUnset'),\n    isIndex = require('./_isIndex');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAt` without support for individual\n * indexes or capturing the removed elements.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {number[]} indexes The indexes of elements to remove.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAt(array, indexes) {\n  var length = array ? indexes.length : 0,\n      lastIndex = length - 1;\n\n  while (length--) {\n    var index = indexes[length];\n    if (length == lastIndex || index !== previous) {\n      var previous = index;\n      if (isIndex(index)) {\n        splice.call(array, index, 1);\n      } else {\n        baseUnset(array, index);\n      }\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAt;\n","var baseIteratee = require('./_baseIteratee'),\n    basePullAt = require('./_basePullAt');\n\n/**\n * Removes all elements from `array` that `predicate` returns truthy for\n * and returns an array of the removed elements. The predicate is invoked\n * with three arguments: (value, index, array).\n *\n * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n * to pull elements from an array by value.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new array of removed elements.\n * @example\n *\n * var array = [1, 2, 3, 4];\n * var evens = _.remove(array, function(n) {\n *   return n % 2 == 0;\n * });\n *\n * console.log(array);\n * // => [1, 3]\n *\n * console.log(evens);\n * // => [2, 4]\n */\nfunction remove(array, predicate) {\n  var result = [];\n  if (!(array && array.length)) {\n    return result;\n  }\n  var index = -1,\n      indexes = [],\n      length = array.length;\n\n  predicate = baseIteratee(predicate, 3);\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result.push(value);\n      indexes.push(index);\n    }\n  }\n  basePullAt(array, indexes);\n  return result;\n}\n\nmodule.exports = remove;\n","import NotFunctionError from './../error/NotFunctionError';\r\nimport remove from \"lodash/remove\";\r\n/**\r\n * 用于事件处理\r\n *\r\n * */\r\nexport default class Signal {\r\n\r\n\tconstructor( type ) {\r\n\r\n\t\tthis.type = type;\r\n\t\tthis.functionArr = [];\r\n\r\n\t}\r\n\r\n\tadd( func ) {\r\n\r\n\t\tif ( typeof func !== 'function' ) {\r\n\r\n\t\t\tthrow new NotFunctionError();\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.functionArr.push( func );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tremove( func ) {\r\n\r\n\t\treturn remove( this.functionArr, function ( n ) {\r\n\r\n\t\t\treturn n === func;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\trun( event, intersect ) {\r\n\r\n\t\tthis.functionArr.forEach(\r\n\t\t\t( func ) => {\r\n\r\n\t\t\t\tfunc( event, intersect );\r\n\r\n\t\t\t} );\r\n\r\n\t}\r\n\r\n}\r\n","import Signal from './Signal';\r\n\r\n/**\r\n * 由于事件处理\r\n *\r\n * */\r\nexport default class Events {\r\n\r\n\tconstructor( list ) {\r\n\r\n\t\tlist = list || [ 'press', 'tap', 'pressup', 'pan', 'swipe', 'click',\r\n\t\t\t'mousedown', 'mouseup', 'touchstart', 'touchend', 'touchmove',\r\n\t\t\t'mousemove'\r\n\t\t];\r\n\t\tfor ( let eventItem of list ) {\r\n\r\n\t\t\tthis[ eventItem ] = new Signal( eventItem );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n","import { Raycaster, Vector2 } from \"three\";\r\n\r\nexport default class FBOEventMapper {\r\n\r\n\tconstructor( fboWorld, mesh, faceIndexArr ) {\r\n\r\n\t\tthis.world = fboWorld;\r\n\t\tthis.disable = false;\r\n\t\tthis.isDeep = true;\r\n\t\tthis.receivers = fboWorld.receivers;\r\n\t\tthis.raycaster = new Raycaster();\r\n\t\tthis.mesh = mesh;\r\n\t\tthis.faceIndexArr = faceIndexArr || [];\r\n\r\n\t}\r\n\r\n\tdispatch( event, intersect ) {\r\n\r\n\t\tif ( intersect.object === this.mesh ) {\r\n\r\n\t\t\tif ( this.faceIndexArr && this.faceIndexArr.length === 0 ) {\r\n\r\n\t\t\t\tthis.raycastCheck( event, intersect );\r\n\r\n\t\t\t} else if ( ! this.faceIndexArr ) {\r\n\r\n\t\t\t\tthis.raycastCheck( event, intersect );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ( this.faceIndexArr.includes( intersect.faceIndex ) ) {\r\n\r\n\t\t\t\t\tthis.raycastCheck( event, intersect );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\ttoNovaEvent( event ) {\r\n\r\n\t\treturn {\r\n\t\t\tchangedPointers: [ event ],\r\n\t\t\tcenter: new Vector2( event.clientX, event.clientY ),\r\n\t\t\ttype: event.type,\r\n\t\t\ttarget: event.target\r\n\t\t};\r\n\r\n\t}\r\n\r\n\traycastCheck( event, intersect ) {\r\n\r\n\t\tlet uv = intersect.uv;\r\n\t\tlet vec2 = new Vector2( uv.x * 2 - 1, uv.y * 2 - 1 );\r\n\t\tthis.raycaster.setFromCamera( vec2, this.world.camera );\r\n\t\tintersect = undefined;\r\n\r\n\t\tlet intersects = this.raycaster.intersectObjects( this.world.receivers, this.isDeep );\r\n\t\tfor ( let i = 0; i < intersects.length; i ++ ) {\r\n\r\n\t\t\tif ( intersects[ i ].object.isPenetrated ) {\r\n\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tintersect = intersects[ i ];\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif ( intersect && intersect.object.events && intersect.object.events[ event\r\n\t\t\t.type ] ) {\r\n\r\n\t\t\tintersect.object.events[ event.type ].run( event, intersect );\r\n\r\n\t\t}\r\n\t\treturn intersect;\r\n\r\n\t}\r\n\r\n}\r\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack);\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","var baseMerge = require('./_baseMerge'),\n    isObject = require('./isObject');\n\n/**\n * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n * objects into destination objects that are passed thru.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to merge.\n * @param {Object} object The parent object of `objValue`.\n * @param {Object} source The parent object of `srcValue`.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n * @returns {*} Returns the value to assign.\n */\nfunction customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n  if (isObject(objValue) && isObject(srcValue)) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, objValue);\n    baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n    stack['delete'](srcValue);\n  }\n  return objValue;\n}\n\nmodule.exports = customDefaultsMerge;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with six arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = { 'a': [1], 'b': [2] };\n * var other = { 'a': [3], 'b': [4] };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'a': [1, 3], 'b': [2, 4] }\n */\nvar mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\nmodule.exports = mergeWith;\n","var apply = require('./_apply'),\n    baseRest = require('./_baseRest'),\n    customDefaultsMerge = require('./_customDefaultsMerge'),\n    mergeWith = require('./mergeWith');\n\n/**\n * This method is like `_.defaults` except that it recursively assigns\n * default properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaults\n * @example\n *\n * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n * // => { 'a': { 'b': 2, 'c': 3 } }\n */\nvar defaultsDeep = baseRest(function(args) {\n  args.push(undefined, customDefaultsMerge);\n  return apply(mergeWith, undefined, args);\n});\n\nmodule.exports = defaultsDeep;\n","import { Group, Sprite, Vector3, SpriteMaterial, CanvasTexture, LinearFilter, Mesh, MeshBasicMaterial, PlaneBufferGeometry } from \"three\";\r\nimport defaultsDeep from \"lodash/defaultsDeep\";\r\n\r\nclass GUI extends Group {\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper();\r\n\t\tthis.css = {\r\n\t\t\tbackgroundColor: \"rgba(0,0,0,0)\",\r\n\t\t\topacity: 1,\r\n\t\t\twidth: 1,\r\n\t\t\theight: 1\r\n\t\t};\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass Body extends GUI {\r\n\r\n\tconstructor( world, css = {} ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.world = world;\r\n\t\tthis.distanceFromCamera = 50;\r\n\t\tthis.css = defaultsDeep( css, this.css );\r\n\t\tthis.canvas = document.createElement( \"canvas\" );\r\n\t\tlet spriteMaterial = new SpriteMaterial( {\r\n\t\t\tmap: this.canvas,\r\n\t\t\tcolor: 0xffffff\r\n\t\t} );\r\n\t\tthis.element = new Sprite( spriteMaterial );\r\n\t\tthis.vector = new Vector3();\r\n\t\tthis.update();\r\n\t\tthis.add( this.element );\r\n\r\n\t}\r\n\r\n\tlockToScreen = () => {\r\n\r\n\t\tvar c = this.world.camera;\r\n\t\tc.getWorldDirection( this.vector );\r\n\t\tthis.rotation.set( c.rotation.x, c.rotation.y, c.rotation.z );\r\n\t\tthis.position.set( c.position.x + this.vector.x * this.distanceFromCamera,\r\n\t\t\tc.position.y + this.vector.y * this.distanceFromCamera, c.position.z + this.vector.z *\r\n\t\t\tthis.distanceFromCamera\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tupdate = () => {\r\n\r\n\t\tthis.canvas.width = this.css.width;\r\n\t\tthis.canvas.height = this.css.height;\r\n\t\tlet ctx = this.canvas.getContext( \"2d\" );\r\n\t\tctx.fillStyle = this.css.backgroundColor;\r\n\t\tctx.fillRect( 0, 0, this.css.width, this.css.height );\r\n\t\tvar texture = new CanvasTexture( this.canvas );\r\n\t\ttexture.generateMipmaps = false;\r\n\t\ttexture.minFilter = LinearFilter;\r\n\t\ttexture.magFilter = LinearFilter;\r\n\t\tvar spriteMaterial = new SpriteMaterial( {\r\n\t\t\tmap: texture,\r\n\t\t\tcolor: 0xffffff\r\n\t\t} );\r\n\t\tthis.element.material.dispose();\r\n\t\tthis.element.material = spriteMaterial;\r\n\t\tthis.element.scale.set( this.css.width / 4, this.css.height / 4, 1 );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass Div extends GUI {\r\n\r\n\tconstructor( world, css = {} ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.world = world;\r\n\t\tthis.css = defaultsDeep( css, this.css );\r\n\t\tthis.canvas = document.createElement( \"canvas\" );\r\n\t\tvar spriteMaterial = new SpriteMaterial( {\r\n\t\t\tmap: this.canvas,\r\n\t\t\tcolor: 0xffffff\r\n\t\t} );\r\n\t\tthis.element = new Sprite( spriteMaterial );\r\n\t\tthis.vector = new Vector3();\r\n\t\tthis.update();\r\n\t\tthis.add( this.element );\r\n\r\n\t}\r\n\r\n\tupdate = () => {\r\n\r\n\t\tthis.canvas.width = this.css.width;\r\n\t\tthis.canvas.height = this.css.height;\r\n\t\tlet ctx = this.canvas.getContext( \"2d\" );\r\n\t\tctx.fillStyle = this.css.backgroundColor;\r\n\t\tctx.fillRect( 0, 0, this.css.width, this.css.height );\r\n\t\tvar texture = new CanvasTexture( this.canvas );\r\n\t\ttexture.generateMipmaps = false;\r\n\t\ttexture.minFilter = LinearFilter;\r\n\t\ttexture.magFilter = LinearFilter;\r\n\t\tvar spriteMaterial = new SpriteMaterial( {\r\n\t\t\tmap: texture,\r\n\t\t\tcolor: 0xffffff\r\n\t\t} );\r\n\t\tthis.element.material.dispose();\r\n\t\tthis.element.material = spriteMaterial;\r\n\t\tthis.element.scale.set( this.css.width / 4, this.css.height / 4, 1 );\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass Txt extends Mesh {\r\n\r\n\tconstructor( text, css = {}, multiLine = false ) {\r\n\r\n\t\tcss = defaultsDeep( css, {\r\n\t\t\tfontStyle: \"normal\",\r\n\t\t\tfontVariant: \"normal\",\r\n\t\t\tfontSize: 12,\r\n\t\t\tfontWeight: \"normal\",\r\n\t\t\tfontFamily: \"微软雅黑\",\r\n\t\t\tcolor: \"#ffffff\",\r\n\t\t\ttextAlign: \"center\",\r\n\t\t\tbackgroundColor: \"rgba(0,0,0,0)\",\r\n\t\t\topacity: 1,\r\n\t\t\twidth: 1,\r\n\t\t\theight: 1,\r\n\t\t\tlineHeight: 0,\r\n\t\t\tscale: {\r\n\t\t\t\tx: 0.25,\r\n\t\t\t\ty: 0.25,\r\n\t\t\t\tz: 1,\r\n\t\t\t}\r\n\t\t} );\r\n\t\tlet canvas = document.createElement( \"canvas\" );\r\n\t\tdocument.body.appendChild( canvas );\r\n\t\tlet material = new MeshBasicMaterial( {\r\n\t\t\ttransparent: true,\r\n\t\t\tneedsUpdate: false,\r\n\t\t\tcolor: 0xffffff\r\n\t\t} );\r\n\t\tsuper( new PlaneBufferGeometry( css.width * css.scale.x, css.height * css.scale.x ),\r\n\t\t\tmaterial );\r\n\t\tthis.text = text;\r\n\t\tthis.canvas = canvas;\r\n\t\tthis.css = css;\r\n\t\tthis.multiLine = multiLine;\r\n\t\tthis.update();\r\n\r\n\t}\r\n\r\n\tupdate = () => {\r\n\r\n\t\tif ( this.material.map ) {\r\n\r\n\t\t\tthis.material.map.dispose();\r\n\r\n\t\t}\r\n\r\n\t\tthis.canvas.width = this.css.width;\r\n\t\tthis.canvas.height = this.css.height;\r\n\t\tlet ctx = this.canvas.getContext( \"2d\" );\r\n\t\tctx.fillStyle = this.css.backgroundColor;\r\n\t\tctx.fillRect( 0, 0, this.css.width, this.css.height );\r\n\t\tctx.textAlign = this.css.textAlign;\r\n\t\tctx.font = this.css.fontStyle + \" \" + this.css.fontVariant + \" \" + this\r\n\t\t\t.css.fontWeight + \" \" + this.css.fontSize + \"px \" + this.css.fontFamily;\r\n\t\tctx.fillStyle = this.css.color;\r\n\t\t// let width = ctx.measureText( this.text ).width;\r\n\r\n\t\tif ( this.multiLine ) {\r\n\r\n\t\t\tconst textArr = this.text.split( \"\\n\" );\r\n\t\t\tfor ( let i = 0; i < textArr.length; i ++ ) {\r\n\r\n\t\t\t\tctx.fillText( textArr[ i ], this.css.width / 2, this.css.lineHeight / 2 + this.css\r\n\t\t\t\t\t.fontSize / 4 + i * this.css.lineHeight );\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tctx.fillText( this.text, this.css.width / 2, this.css.height / 2 + this.css\r\n\t\t\t\t.fontSize / 4 );\r\n\r\n\t\t}\r\n\r\n\t\tlet texture = new CanvasTexture( this.canvas );\r\n\t\ttexture.generateMipmaps = false;\r\n\t\ttexture.minFilter = LinearFilter;\r\n\t\ttexture.magFilter = LinearFilter;\r\n\t\tthis.material.map = texture;\r\n\t\tthis.scale.set( this.css.scale.x, this.css.scale.y, this.css.scale.z );\r\n\t\tthis.material.opacity = this.css.opacity;\r\n\r\n\t}\r\n\r\n}\r\n\r\n//$$.Img = function(url, css, callback) {\r\n//$$.DOM.call(this);\r\n//var that = this;\r\n//if ($$.Loader.RESOURCE.textures[url]) {\r\n//  var spriteMaterial = new THREE.SpriteMaterial({\r\n//    map: $$.Loader.RESOURCE.textures[url],\r\n//    color: 0xffffff\r\n//  });\r\n//  var sprite = new THREE.Sprite(spriteMaterial);\r\n//  that.element = sprite;\r\n//  that.add(that.element);\r\n//  this.css = $$.extends({}, [this.css, {\r\n//    width: $$.Loader.RESOURCE.textures[url].image.naturalWidth,\r\n//    height: $$.Loader.RESOURCE.textures[url].image.naturalHeight\r\n//  }, css]);\r\n//  sprite.scale.set(this.css.width / 4, this.css.height / 4, 1);\r\n//  sprite.material.opacity = that.css.opacity;\r\n//  if (callback) {\r\n//    callback();\r\n//  }\r\n//} else {\r\n//  that.element = {};\r\n//  $$.Loader.loadTexture([url], function(texture) {\r\n//    texture.generateMipmaps = false;\r\n//    texture.minFilter = THREE.LinearFilter;\r\n//    texture.magFilter = THREE.LinearFilter;\r\n//    var tmpProperty = that.element;\r\n//    var spriteMaterial = new THREE.SpriteMaterial({\r\n//      map: texture,\r\n//      color: 0xffffff\r\n//    });\r\n//    var sprite = new THREE.Sprite(spriteMaterial);\r\n//    that.element = sprite;\r\n//    that.add(that.element);\r\n//    this.css = $$.extends({}, [this.css, {\r\n//      width: texture.image.naturalWidth,\r\n//      height: texture.image.naturalHeight\r\n//    }, css]);\r\n//    if (css.opacity != null) {\r\n//      that.css.opacity = css.opacity;\r\n//    }\r\n//    sprite.scale.set(this.css.width / 4, this.css.height / 4, 1);\r\n//\r\n//    for (var i in tmpProperty) {\r\n//      that.element[i] = tmpProperty[i];\r\n//    }\r\n//    sprite.material.opacity = that.css.opacity;\r\n//    if (callback) {\r\n//      callback();\r\n//    }\r\n//  });\r\n//}\r\n//};\r\n//(function() {\r\n//var Super = function() {};\r\n//Super.prototype = $$.DOM.prototype;\r\n//$$.Img.prototype = new Super();\r\n//})();\r\n//\r\n//$$.Video = function(url, css) {\r\n//$$.DOM.call(this);\r\n//var that = this;\r\n//this.video = document.createElement(\"video\");\r\n//this.video.src = url;\r\n//var texture = new THREE.VideoTexture(this.video);\r\n//texture.generateMipmaps = false;\r\n//texture.minFilter = THREE.LinearFilter;\r\n//texture.magFilter = THREE.LinearFilter;\r\n//var spriteMaterial = new THREE.SpriteMaterial({\r\n//  map: texture,\r\n//  color: 0xffffff\r\n//});\r\n//var sprite = new THREE.Sprite(spriteMaterial);\r\n//that.element = sprite;\r\n//that.add(that.element);\r\n//this.css = $$.extends({}, [this.css, {\r\n//  width: texture.image.naturalWidth,\r\n//  height: texture.image.naturalHeight,\r\n//}, css]);\r\n//sprite.scale.set(this.css.width / 4, this.css.height / 4, 1);\r\n//};\r\n//(function() {\r\n//var Super = function() {};\r\n//Super.prototype = $$.DOM.prototype;\r\n//$$.Video.prototype = new Super();\r\n//})();\r\n\r\nexport {\r\n\tGUI,\r\n\tBody,\r\n\tTxt,\r\n\tDiv\r\n};\r\n","import { LoadingManager, ImageLoader, TextureLoader, AudioListener } from \"three\";\r\n\r\nexport default class LoaderFactory {\r\n\r\n\tconstructor() {\r\n\r\n\t\tthis.manager = new LoadingManager();\r\n\t\tthis.Resource = {\r\n\t\t\timages: {},\r\n\t\t\tmaterials: {},\r\n\t\t\ttextures: {},\r\n\t\t\tmodels: {},\r\n\t\t\tsounds: {},\r\n\t\t\tfonts: {},\r\n\t\t\tunloaded: {\r\n\t\t\t\ttextures: [],\r\n\t\t\t\tmodels: [],\r\n\t\t\t\tsounds: [],\r\n\t\t\t\tfonts: [],\r\n\t\t\t\timages: []\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.manager.onStart = ( url, itemsLoaded, itemsTotal ) => {\r\n\r\n\t\t\tif ( this.onStart && typeof this.onStart === 'function' ) {\r\n\r\n\t\t\t\tthis.onStart( url, itemsLoaded, itemsTotal );\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.manager.onLoad = () => {\r\n\r\n\t\t\tif ( this.onLoad && typeof this.onLoad === 'function' ) {\r\n\r\n\t\t\t\tthis.onLoad();\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.manager.onProgress = ( url, itemsLoaded, itemsTotal ) => {\r\n\r\n\t\t\tif ( this.onProgress && typeof this.onProgress === 'function' ) {\r\n\r\n\t\t\t\tthis.onProgress( url, itemsLoaded, itemsTotal );\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.manager.onError = ( url ) => {\r\n\r\n\t\t\tif ( this.onError && typeof this.onError === 'function' ) {\r\n\r\n\t\t\t\tthis.onError( url );\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.imageLoader = new ImageLoader( this.manager );\r\n\t\tthis.textureLoader = new TextureLoader( this.manager );\r\n\t\tthis.audioListener = new AudioListener( this.manager );\r\n\r\n\t}\r\n\r\n\tloadImage( key, src, sucFunc, errFunc ) {\r\n\r\n\t\treturn this.imageLoader.load( src,\r\n\t\t\t( data ) => {\r\n\r\n\t\t\t\tthis.Resource.images[ key ] = data;\r\n\t\t\t\tif ( sucFunc ) sucFunc( data );\r\n\r\n\t\t\t}, undefined, ( err ) => {\r\n\r\n\t\t\t\tthis.Resource.unloaded.images.push( src );\r\n\t\t\t\tif ( errFunc ) errFunc( err );\r\n\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tloadTexture( key, src, sucFunc, errFunc ) {\r\n\r\n\t\treturn this.textureLoader.load( src,\r\n\t\t\t( data ) => {\r\n\r\n\t\t\t\tthis.Resource.textures[ key ] = data;\r\n\t\t\t\tif ( sucFunc ) sucFunc( data );\r\n\r\n\t\t\t}, undefined, ( err ) => {\r\n\r\n\t\t\t\tthis.Resource.unloaded.textures.push( src );\r\n\t\t\t\tif ( errFunc ) errFunc( err );\r\n\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t}\r\n\r\n}\r\n","let CopyShader = {\r\n\tuniforms: {\r\n\t\t'tDiffuse': { value: null },\r\n\t\t'opacity': { value: 1.0 }\r\n\t},\r\n\r\n\tvertexShader: `\r\n    varying vec2 vUv;\r\n    void main() {\r\n      vUv = uv;\r\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n    }`,\r\n\r\n\tfragmentShader: `\r\n    uniform float opacity;\r\n    uniform sampler2D tDiffuse;\r\n    varying vec2 vUv;\r\n    void main() {\r\n      vec4 texel = texture2D( tDiffuse, vUv );\r\n      gl_FragColor = opacity * texel;\r\n    }`\r\n};\r\n\r\nexport {\r\n\tCopyShader\r\n};\r\n","class Pass {\r\n\r\n\tconstructor( effectComposer, renderToScreen = false ) {\r\n\r\n\t\t// if set to true, the pass is processed by the composer\r\n\t\tthis.enabled = true;\r\n\t\t// if set to true, the pass indicates to swap read and write buffer after rendering\r\n\t\tthis.needsSwap = true;\r\n\t\t// if set to true, the pass clears its buffer before rendering\r\n\t\tthis.clear = false;\r\n\t\t// if set to true, the result of the pass is rendered to screen\r\n\t\tthis.renderToScreen = renderToScreen;\r\n\t\tif ( effectComposer ) {\r\n\r\n\t\t\teffectComposer.addPass( this );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tsetSize() {} // width, height\r\n\trender() {} // renderer, writeBuffer, readBuffer, delta, maskActive\r\n\r\n}\r\n\r\nexport {\r\n\tPass\r\n};\r\n","import { Pass } from './Pass.js';\r\nimport { UniformsUtils, ShaderMaterial, OrthographicCamera, Scene, Mesh, PlaneBufferGeometry } from \"three\";\r\nclass ShaderPass extends Pass {\r\n\r\n\tconstructor( shader, effectComposer, renderToScreen = false,\r\n\t\ttextureID = \"tDiffuse\" ) {\r\n\r\n\t\tsuper( effectComposer, renderToScreen );\r\n\t\tthis.textureID = textureID;\r\n\r\n\t\tif ( shader instanceof ShaderMaterial ) {\r\n\r\n\t\t\tthis.uniforms = shader.uniforms;\r\n\t\t\tthis.material = shader;\r\n\r\n\t\t} else if ( shader ) {\r\n\r\n\t\t\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\r\n\t\t\tthis.material = new ShaderMaterial( {\r\n\t\t\t\tdefines: shader.defines || {},\r\n\t\t\t\tuniforms: this.uniforms,\r\n\t\t\t\tvertexShader: shader.vertexShader,\r\n\t\t\t\tfragmentShader: shader.fragmentShader\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\t\tthis.scene = new Scene();\r\n\t\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), null );\r\n\t\tthis.quad.frustumCulled = false;\r\n\t\tthis.scene.add( this.quad );\r\n\r\n\t}\r\n\r\n\trender( renderer, writeBuffer, readBuffer ) {\r\n\r\n\t\tif ( this.uniforms[ this.textureID ] ) {\r\n\r\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\r\n\r\n\t\t}\r\n\r\n\t\tthis.quad.material = this.material;\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.render( this.scene, this.camera, writeBuffer, this.clear );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport {\r\n\tShaderPass\r\n};\r\n","import { Pass } from './Pass.js';\r\n\r\nclass RenderPass extends Pass {\r\n\r\n\tconstructor( scene, camera, overrideMaterial, clearColor, clearAlpha = 0 ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.scene = scene;\r\n\t\tthis.camera = camera;\r\n\t\tthis.overrideMaterial = overrideMaterial;\r\n\t\tthis.clearColor = clearColor;\r\n\t\tthis.clearAlpha = clearAlpha;\r\n\t\tthis.clear = true;\r\n\t\tthis.clearDepth = false;\r\n\t\tthis.needsSwap = false;\r\n\r\n\t}\r\n\r\n\trender( renderer, writeBuffer, readBuffer ) {\r\n\r\n\t\tlet oldAutoClear = renderer.autoClear;\r\n\t\trenderer.autoClear = false;\r\n\t\tthis.scene.overrideMaterial = this.overrideMaterial;\r\n\t\tthis.writeBuffer = writeBuffer;\r\n\t\tlet oldClearColor, oldClearAlpha;\r\n\t\tif ( this.clearColor ) {\r\n\r\n\t\t\toldClearColor = renderer.getClearColor()\r\n\t\t\t\t.getHex();\r\n\t\t\toldClearAlpha = renderer.getClearAlpha();\r\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\r\n\r\n\t\t}\r\n\t\tif ( this.clearDepth ) {\r\n\r\n\t\t\trenderer.clearDepth();\r\n\r\n\t\t}\r\n\t\trenderer.render( this.scene, this.camera, this.renderToScreen ? undefined :\r\n\t\t\treadBuffer, this.clear );\r\n\t\tif ( this.clearColor ) {\r\n\r\n\t\t\trenderer.setClearColor( oldClearColor, oldClearAlpha );\r\n\r\n\t\t}\r\n\t\tthis.scene.overrideMaterial = undefined;\r\n\t\trenderer.autoClear = oldAutoClear;\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport {\r\n\tRenderPass\r\n};\r\n","import { Pass } from './Pass.js';\r\n\r\nclass MaskPass extends Pass {\r\n\r\n\tconstructor( scene, camera ) {\r\n\r\n\t\tsuper();\r\n\t\tthis.scene = scene;\r\n\t\tthis.camera = camera;\r\n\r\n\t\tthis.clear = true;\r\n\t\tthis.needsSwap = false;\r\n\r\n\t\tthis.inverse = false;\r\n\r\n\t}\r\n\r\n\trender( renderer, writeBuffer, readBuffer ) {\r\n\r\n\t\tvar context = renderer.context;\r\n\t\tvar state = renderer.state;\r\n\r\n\t\t// don't update color or depth\r\n\r\n\t\tstate.buffers.color.setMask( false );\r\n\t\tstate.buffers.depth.setMask( false );\r\n\r\n\t\t// lock buffers\r\n\r\n\t\tstate.buffers.color.setLocked( true );\r\n\t\tstate.buffers.depth.setLocked( true );\r\n\r\n\t\t// set up stencil\r\n\r\n\t\tvar writeValue, clearValue;\r\n\r\n\t\tif ( this.inverse ) {\r\n\r\n\t\t\twriteValue = 0;\r\n\t\t\tclearValue = 1;\r\n\r\n\t\t} else {\r\n\r\n\t\t\twriteValue = 1;\r\n\t\t\tclearValue = 0;\r\n\r\n\t\t}\r\n\r\n\t\tstate.buffers.stencil.setTest( true );\r\n\t\tstate.buffers.stencil.setOp( context.REPLACE, context.REPLACE, context.REPLACE );\r\n\t\tstate.buffers.stencil.setFunc( context.ALWAYS, writeValue, 0xffffffff );\r\n\t\tstate.buffers.stencil.setClear( clearValue );\r\n\r\n\t\t// draw into the stencil buffer\r\n\r\n\t\trenderer.render( this.scene, this.camera, readBuffer, this.clear );\r\n\t\trenderer.render( this.scene, this.camera, writeBuffer, this.clear );\r\n\r\n\t\t// unlock color and depth buffer for subsequent rendering\r\n\r\n\t\tstate.buffers.color.setLocked( false );\r\n\t\tstate.buffers.depth.setLocked( false );\r\n\r\n\t\t// only render where stencil is set to 1\r\n\r\n\t\tstate.buffers.stencil.setFunc( context.EQUAL, 1, 0xffffffff ); // draw if == 1\r\n\t\tstate.buffers.stencil.setOp( context.KEEP, context.KEEP, context.KEEP );\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport {\r\n\tMaskPass\r\n};\r\n","import { Pass } from './Pass.js';\r\n\r\nclass ClearMaskPass extends Pass {\r\n\r\n\tconstructor() {\r\n\r\n\t\tsuper();\r\n\t\tthis.needsSwap = false;\r\n\r\n\t}\r\n\r\n\trender( renderer ) {\r\n\r\n\t\trenderer.state.buffers.stencil.setTest( false );\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport {\r\n\tClearMaskPass\r\n};\r\n","import { CopyShader } from './shader/CopyShader.js';\r\nimport { ShaderPass } from './ShaderPass.js';\r\nimport { RenderPass } from './RenderPass.js';\r\nimport { MaskPass } from './MaskPass';\r\nimport { ClearMaskPass } from './ClearMaskPass';\r\nimport { WebGLRenderTarget, LinearFilter, RGBAFormat } from \"three\";\r\n\r\nexport default class EffectComposer {\r\n\r\n\tconstructor( world, options = {}, renderTarget ) {\r\n\r\n\t\toptions = {\r\n\t\t\trenderer: undefined,\r\n\t\t\tcamera: undefined,\r\n\t\t\tscene: undefined,\r\n\t\t\toverrideMaterial: undefined,\r\n\t\t\tclearColor: undefined,\r\n\t\t\tclearAlpha: 0,\r\n\t\t\t...options\r\n\t\t};\r\n\t\tthis.renderer = options.renderer || world.app.renderer;\r\n\t\tif ( renderTarget === undefined ) {\r\n\r\n\t\t\tlet parameters = {\r\n\t\t\t\tminFilter: LinearFilter,\r\n\t\t\t\tmagFilter: LinearFilter,\r\n\t\t\t\tformat: RGBAFormat,\r\n\t\t\t\tstencilBuffer: false\r\n\t\t\t};\r\n\t\t\tlet size = this.renderer.getDrawingBufferSize();\r\n\t\t\trenderTarget = new WebGLRenderTarget( size.width, size.height,\r\n\t\t\t\tparameters );\r\n\t\t\trenderTarget.texture.name = 'EffectComposer.rt1';\r\n\r\n\t\t}\r\n\r\n\t\tthis.renderTarget1 = renderTarget;\r\n\t\tthis.renderTarget2 = renderTarget.clone();\r\n\t\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\r\n\t\tthis.writeBuffer = this.renderTarget1;\r\n\t\tthis.readBuffer = this.renderTarget2;\r\n\r\n\t\tthis.passes = [];\r\n\t\tthis.copyPass = new ShaderPass( CopyShader );\r\n\r\n\t\tthis.addPass( new RenderPass( options.scene || world.scene,\r\n\t\t\toptions.scene || world.camera ) );\r\n\r\n\t}\r\n\r\n\tswapBuffers() {\r\n\r\n\t\tlet tmp = this.readBuffer;\r\n\t\tthis.readBuffer = this.writeBuffer;\r\n\t\tthis.writeBuffer = tmp;\r\n\r\n\t}\r\n\r\n\taddPass( pass ) {\r\n\r\n\t\tthis.passes.push( pass );\r\n\t\tlet size = this.renderer.getDrawingBufferSize();\r\n\t\tpass.setSize( size.width, size.height );\r\n\r\n\t}\r\n\r\n\tinsertPass( pass, index ) {\r\n\r\n\t\tthis.passes.splice( index, 0, pass );\r\n\r\n\t}\r\n\r\n\trender( delta ) {\r\n\r\n\t\tlet maskActive = false;\r\n\t\tlet pass, i, il = this.passes.length;\r\n\t\tfor ( i = 0; i < il; i ++ ) {\r\n\r\n\t\t\tpass = this.passes[ i ];\r\n\t\t\tif ( pass.enabled === false ) continue;\r\n\t\t\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, delta,\r\n\t\t\t\tmaskActive );\r\n\r\n\t\t\tif ( pass.needsSwap ) {\r\n\r\n\t\t\t\tif ( maskActive ) {\r\n\r\n\t\t\t\t\tlet context = this.renderer.context;\r\n\t\t\t\t\tcontext.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\r\n\t\t\t\t\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer,\r\n\t\t\t\t\t\tdelta );\r\n\t\t\t\t\tcontext.stencilFunc( context.EQUAL, 1, 0xffffffff );\r\n\r\n\t\t\t\t}\r\n\t\t\t\tthis.swapBuffers();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( MaskPass !== undefined ) {\r\n\r\n\t\t\t\tif ( pass instanceof MaskPass ) {\r\n\r\n\t\t\t\t\tmaskActive = true;\r\n\r\n\t\t\t\t} else if ( pass instanceof ClearMaskPass ) {\r\n\r\n\t\t\t\t\tmaskActive = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treset( renderTarget ) {\r\n\r\n\t\tif ( renderTarget === undefined ) {\r\n\r\n\t\t\tlet size = this.renderer.getDrawingBufferSize();\r\n\t\t\trenderTarget = this.renderTarget1.clone();\r\n\t\t\trenderTarget.setSize( size.width, size.height );\r\n\r\n\t\t}\r\n\t\tthis.renderTarget1.dispose();\r\n\t\tthis.renderTarget2.dispose();\r\n\t\tthis.renderTarget1 = renderTarget;\r\n\t\tthis.renderTarget2 = renderTarget.clone();\r\n\t\tthis.writeBuffer = this.renderTarget1;\r\n\t\tthis.readBuffer = this.renderTarget2;\r\n\r\n\t}\r\n\r\n\tsetSize( width, height ) {\r\n\r\n\t\tthis.renderTarget1.setSize( width, height );\r\n\t\tthis.renderTarget2.setSize( width, height );\r\n\t\tfor ( let i = 0; i < this.passes.length; i ++ ) {\r\n\r\n\t\t\tthis.passes[ i ].setSize( width, height );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n","let AfterimageShader = {\r\n\tuniforms: {\r\n\t\t\"damp\": { value: 0.96 },\r\n\t\t\"tOld\": { value: null },\r\n\t\t\"tNew\": { value: null }\r\n\t},\r\n\r\n\tvertexShader: `\r\n    varying vec2 vUv;\r\n    void main() {\r\n      vUv = uv;\r\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n    }`,\r\n\r\n\tfragmentShader: `\r\n    uniform sampler2D tOld;\r\n    uniform sampler2D tNew;\r\n    uniform float damp;\r\n\r\n    varying vec2 vUv;\r\n\r\n    vec4 when_gt( vec4 texel, float y ) {\r\n      return max( sign( texel - y ), 0. );\r\n    }\r\n\r\n    void main() {\r\n      vec4 texelOld = texture2D( tOld, vUv );\r\n      vec4 texelNew = texture2D( tNew, vUv );\r\n\r\n      texelOld *= damp * when_gt( texelOld, 0.1 );\r\n\r\n      gl_FragColor = max( texelNew, texelOld );\r\n    }`\r\n};\r\n\r\nexport {\r\n\tAfterimageShader\r\n};\r\n","import { Pass } from './Pass.js';\r\nimport { AfterimageShader } from './shader/AfterimageShader.js';\r\nimport { WebGLRenderTarget, LinearFilter, NearestFilter, RGBAFormat, UniformsUtils, Scene, OrthographicCamera, PlaneBufferGeometry, Mesh, MeshBasicMaterial, ShaderMaterial } from \"three\";\r\n\r\nclass AfterimagePass extends Pass {\r\n\r\n\tconstructor( damp = 0.96, effectComposer, renderToScreen = false ) {\r\n\r\n\t\tsuper( effectComposer, renderToScreen );\r\n\t\tthis.uniforms = UniformsUtils.clone( AfterimageShader.uniforms );\r\n\t\tthis.uniforms[ \"damp\" ].value = damp;\r\n\r\n\t\tthis.textureComp = new WebGLRenderTarget( window.innerWidth, window.innerHeight, {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: NearestFilter,\r\n\t\t\tformat: RGBAFormat\r\n\t\t} );\r\n\r\n\t\tthis.textureOld = new WebGLRenderTarget( window.innerWidth, window.innerHeight, {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: NearestFilter,\r\n\t\t\tformat: RGBAFormat\r\n\t\t} );\r\n\r\n\t\tthis.shaderMaterial = new ShaderMaterial( {\r\n\t\t\tuniforms: this.uniforms,\r\n\t\t\tvertexShader: AfterimageShader.vertexShader,\r\n\t\t\tfragmentShader: AfterimageShader.fragmentShader\r\n\t\t} );\r\n\r\n\t\tthis.sceneComp = new Scene();\r\n\t\tthis.sceneScreen = new Scene();\r\n\r\n\t\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\t\tthis.camera.position.z = 1;\r\n\t\tvar geometry = new PlaneBufferGeometry( 2, 2 );\r\n\r\n\t\tthis.quadComp = new Mesh( geometry, this.shaderMaterial );\r\n\t\tthis.sceneComp.add( this.quadComp );\r\n\r\n\t\tlet material = new MeshBasicMaterial( { map: this.textureComp.texture } );\r\n\t\tvar quadScreen = new Mesh( geometry, material );\r\n\t\tthis.sceneScreen.add( quadScreen );\r\n\r\n\t}\r\n\r\n\trender( renderer, writeBuffer, readBuffer ) {\r\n\r\n\t\tthis.uniforms[ \"tOld\" ].value = this.textureOld.texture;\r\n\t\tthis.uniforms[ \"tNew\" ].value = readBuffer.texture;\r\n\t\tthis.quadComp.material = this.shaderMaterial;\r\n\r\n\t\trenderer.render( this.sceneComp, this.camera, this.textureComp );\r\n\t\trenderer.render( this.sceneScreen, this.camera, this.textureOld );\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\trenderer.render( this.sceneScreen, this.camera );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.render( this.sceneScreen, this.camera, writeBuffer, this.clear );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport {\r\n\tAfterimagePass\r\n};\r\n","import { Vector2 } from \"three\";\r\n\r\nlet DotScreenShader = {\r\n\tuniforms: {\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"tSize\": { value: new Vector2( 256, 256 ) },\r\n\t\t\"center\": { value: new Vector2( 0.5, 0.5 ) },\r\n\t\t\"angle\": { value: 1.57 },\r\n\t\t\"scale\": { value: 1.0 }\r\n\t},\r\n\r\n\tvertexShader: [\r\n\t\t\"varying vec2 vUv;\",\r\n\t\t\"void main() {\",\r\n\t\t\"vUv = uv;\",\r\n\t\t\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\t\t\"uniform vec2 center;\",\r\n\t\t\"uniform float angle;\",\r\n\t\t\"uniform float scale;\",\r\n\t\t\"uniform vec2 tSize;\",\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\t\t\"varying vec2 vUv;\",\r\n\t\t\"float pattern() {\",\r\n\t\t\"float s = sin( angle ), c = cos( angle );\",\r\n\t\t\"vec2 tex = vUv * tSize - center;\",\r\n\t\t\"vec2 point = vec2( c * tex.x - s * tex.y, s * tex.x + c * tex.y ) * scale;\",\r\n\t\t\"return ( sin( point.x ) * sin( point.y ) ) * 4.0;\",\r\n\t\t\"}\",\r\n\r\n\t\t\"void main() {\",\r\n\t\t\"vec4 color = texture2D( tDiffuse, vUv );\",\r\n\t\t\"float average = ( color.r + color.g + color.b ) / 3.0;\",\r\n\t\t\"gl_FragColor = vec4( vec3( average * 10.0 - 5.0 + pattern() ), color.a );\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" )\r\n};\r\n\r\nexport {\r\n\tDotScreenShader\r\n};\r\n","import { Pass } from './Pass.js';\r\nimport { DotScreenShader } from './shader/DotScreenShader.js';\r\nimport { Scene, OrthographicCamera, PlaneBufferGeometry, Mesh, ShaderMaterial, UniformsUtils } from \"three\";\r\n\r\nclass DotScreenPass extends Pass {\r\n\r\n\tconstructor( center, angle, scale, effectComposer, renderToScreen = false ) {\r\n\r\n\t\tsuper( effectComposer, renderToScreen );\r\n\t\tthis.uniforms = UniformsUtils.clone( DotScreenShader.uniforms );\r\n\t\tif ( center !== undefined ) this.uniforms[ \"center\" ].value.copy( center );\r\n\t\tif ( angle !== undefined ) this.uniforms[ \"angle\" ].value = angle;\r\n\t\tif ( scale !== undefined ) this.uniforms[ \"scale\" ].value = scale;\r\n\r\n\t\tthis.material = new ShaderMaterial( {\r\n\t\t\tuniforms: this.uniforms,\r\n\t\t\tvertexShader: DotScreenShader.vertexShader,\r\n\t\t\tfragmentShader: DotScreenShader.fragmentShader\r\n\t\t} );\r\n\r\n\t\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\t\tthis.scene = new Scene();\r\n\t\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), undefined );\r\n\t\tthis.quad.frustumCulled = false; // Avoid getting clipped\r\n\t\tthis.scene.add( this.quad );\r\n\r\n\t}\r\n\r\n\trender( renderer, writeBuffer, readBuffer ) {\r\n\r\n\t\tthis.uniforms[ \"tDiffuse\" ].value = readBuffer.texture;\r\n\t\tthis.uniforms[ \"tSize\" ].value.set( readBuffer.width, readBuffer.height );\r\n\r\n\t\tthis.quad.material = this.material;\r\n\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.render( this.scene, this.camera, writeBuffer, this.clear );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport {\r\n\tDotScreenPass\r\n};\r\n","let GlitchShader = {\r\n\tuniforms: {\r\n\t\t\"tDiffuse\": { value: null }, //diffuse texture\r\n\t\t\"tDisp\": { value: null }, //displacement texture for digital glitch squares\r\n\t\t\"byp\": { value: 0 }, //apply the glitch ?\r\n\t\t\"amount\": { value: 0.08 },\r\n\t\t\"angle\": { value: 0.02 },\r\n\t\t\"seed\": { value: 0.02 },\r\n\t\t\"seed_x\": { value: 0.02 }, //-1,1\r\n\t\t\"seed_y\": { value: 0.02 }, //-1,1\r\n\t\t\"distortion_x\": { value: 0.5 },\r\n\t\t\"distortion_y\": { value: 0.6 },\r\n\t\t\"col_s\": { value: 0.05 }\r\n\t},\r\n\r\n\tvertexShader: [\r\n\t\t\"varying vec2 vUv;\",\r\n\t\t\"void main() {\",\r\n\t\t\"vUv = uv;\",\r\n\t\t\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\t\t\"uniform int byp;\", //should we apply the glitch ?\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\t\t\"uniform sampler2D tDisp;\",\r\n\r\n\t\t\"uniform float amount;\",\r\n\t\t\"uniform float angle;\",\r\n\t\t\"uniform float seed;\",\r\n\t\t\"uniform float seed_x;\",\r\n\t\t\"uniform float seed_y;\",\r\n\t\t\"uniform float distortion_x;\",\r\n\t\t\"uniform float distortion_y;\",\r\n\t\t\"uniform float col_s;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"float rand(vec2 co){\",\r\n\t\t\"return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\",\r\n\t\t\"}\",\r\n\r\n\t\t\"void main() {\",\r\n\t\t\"if(byp<1) {\",\r\n\t\t\"vec2 p = vUv;\",\r\n\t\t\"float xs = floor(gl_FragCoord.x / 0.5);\",\r\n\t\t\"float ys = floor(gl_FragCoord.y / 0.5);\",\r\n\t\t//based on staffantans glitch shader for unity https://github.com/staffantan/unityglitch\r\n\t\t\"vec4 normal = texture2D (tDisp, p*seed*seed);\",\r\n\t\t\"if(p.y<distortion_x+col_s && p.y>distortion_x-col_s*seed) {\",\r\n\t\t\"if(seed_x>0.){\",\r\n\t\t\"p.y = 1. - (p.y + distortion_y);\",\r\n\t\t\"}\",\r\n\t\t\"else {\",\r\n\t\t\"p.y = distortion_y;\",\r\n\t\t\"}\",\r\n\t\t\"}\",\r\n\t\t\"if(p.x<distortion_y+col_s && p.x>distortion_y-col_s*seed) {\",\r\n\t\t\"if(seed_y>0.){\",\r\n\t\t\"p.x=distortion_x;\",\r\n\t\t\"}\",\r\n\t\t\"else {\",\r\n\t\t\"p.x = 1. - (p.x + distortion_x);\",\r\n\t\t\"}\",\r\n\t\t\"}\",\r\n\t\t\"p.x+=normal.x*seed_x*(seed/5.);\",\r\n\t\t\"p.y+=normal.y*seed_y*(seed/5.);\",\r\n\t\t//base from RGB shift shader\r\n\t\t\"vec2 offset = amount * vec2( cos(angle), sin(angle));\",\r\n\t\t\"vec4 cr = texture2D(tDiffuse, p + offset);\",\r\n\t\t\"vec4 cga = texture2D(tDiffuse, p);\",\r\n\t\t\"vec4 cb = texture2D(tDiffuse, p - offset);\",\r\n\t\t\"gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\",\r\n\t\t//add noise\r\n\t\t\"vec4 snow = 200.*amount*vec4(rand(vec2(xs * seed,ys * seed*50.))*0.2);\",\r\n\t\t\"gl_FragColor = gl_FragColor+ snow;\",\r\n\t\t\"}\",\r\n\t\t\"else {\",\r\n\t\t\"gl_FragColor=texture2D (tDiffuse, vUv);\",\r\n\t\t\"}\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" )\r\n};\r\n\r\nexport {\r\n\tGlitchShader\r\n};\r\n","import { Pass } from './Pass.js';\r\nimport { GlitchShader } from './shader/GlitchShader.js';\r\nimport { FloatType, RGBFormat, DataTexture, UniformsUtils, Scene, OrthographicCamera, PlaneBufferGeometry, Mesh, ShaderMaterial, Math as THREEMath } from \"three\";\r\n\r\nclass GlitchPass extends Pass {\r\n\r\n\tconstructor( size = 64, goWild = false, effectComposer, renderToScreen = false ) {\r\n\r\n\t\tsuper( effectComposer, renderToScreen );\r\n\t\tthis.uniforms = UniformsUtils.clone( GlitchShader.uniforms );\r\n\t\tthis.uniforms[ \"tDisp\" ].value = this.generateHeightmap( size );\r\n\r\n\t\tthis.material = new ShaderMaterial( {\r\n\t\t\tuniforms: this.uniforms,\r\n\t\t\tvertexShader: GlitchShader.vertexShader,\r\n\t\t\tfragmentShader: GlitchShader.fragmentShader\r\n\t\t} );\r\n\r\n\t\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\t\tthis.scene = new Scene();\r\n\r\n\t\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), null );\r\n\t\tthis.quad.frustumCulled = false;\r\n\t\tthis.scene.add( this.quad );\r\n\r\n\t\tthis.goWild = goWild;\r\n\t\tthis.curF = 0;\r\n\t\tthis.generateTrigger();\r\n\r\n\t}\r\n\r\n\trender( renderer, writeBuffer, readBuffer ) {\r\n\r\n\t\tthis.uniforms[ \"tDiffuse\" ].value = readBuffer.texture;\r\n\t\tthis.uniforms[ 'seed' ].value = Math.random();\r\n\t\tthis.uniforms[ 'byp' ].value = 0;\r\n\r\n\t\tif ( this.curF % this.randX === 0 || this.goWild === true ) {\r\n\r\n\t\t\tthis.uniforms[ 'amount' ].value = Math.random() / 30;\r\n\t\t\tthis.uniforms[ 'angle' ].value = THREEMath.randFloat( - Math.PI, Math.PI );\r\n\t\t\tthis.uniforms[ 'seed_x' ].value = THREEMath.randFloat( - 1, 1 );\r\n\t\t\tthis.uniforms[ 'seed_y' ].value = THREEMath.randFloat( - 1, 1 );\r\n\t\t\tthis.uniforms[ 'distortion_x' ].value = THREEMath.randFloat( 0, 1 );\r\n\t\t\tthis.uniforms[ 'distortion_y' ].value = THREEMath.randFloat( 0, 1 );\r\n\t\t\tthis.curF = 0;\r\n\t\t\tthis.generateTrigger();\r\n\r\n\t\t} else if ( this.curF % this.randX < this.randX / 5 ) {\r\n\r\n\t\t\tthis.uniforms[ 'amount' ].value = Math.random() / 90;\r\n\t\t\tthis.uniforms[ 'angle' ].value = THREEMath.randFloat( - Math.PI, Math.PI );\r\n\t\t\tthis.uniforms[ 'distortion_x' ].value = THREEMath.randFloat( 0, 1 );\r\n\t\t\tthis.uniforms[ 'distortion_y' ].value = THREEMath.randFloat( 0, 1 );\r\n\t\t\tthis.uniforms[ 'seed_x' ].value = THREEMath.randFloat( - 0.3, 0.3 );\r\n\t\t\tthis.uniforms[ 'seed_y' ].value = THREEMath.randFloat( - 0.3, 0.3 );\r\n\r\n\t\t} else if ( this.goWild === false ) {\r\n\r\n\t\t\tthis.uniforms[ 'byp' ].value = 1;\r\n\r\n\t\t}\r\n\r\n\t\tthis.curF ++;\r\n\t\tthis.quad.material = this.material;\r\n\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.render( this.scene, this.camera, writeBuffer, this.clear );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tgenerateTrigger() {\r\n\r\n\t\tthis.randX = THREEMath.randInt( 120, 240 );\r\n\r\n\t}\r\n\r\n\tgenerateHeightmap( size ) {\r\n\r\n\t\tlet dataArr = new Float32Array( size * size * 3 );\r\n\t\tlet length = size * size;\r\n\r\n\t\tfor ( let i = 0; i < length; i ++ ) {\r\n\r\n\t\t\tlet val = THREEMath.randFloat( 0, 1 );\r\n\t\t\tdataArr[ i * 3 + 0 ] = val;\r\n\t\t\tdataArr[ i * 3 + 1 ] = val;\r\n\t\t\tdataArr[ i * 3 + 2 ] = val;\r\n\r\n\t\t}\r\n\r\n\t\tlet texture = new DataTexture( dataArr, size, size, RGBFormat, FloatType );\r\n\t\ttexture.needsUpdate = true;\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport {\r\n\tGlitchPass\r\n};\r\n","import { Pass } from \"./Pass.js\";\r\nimport { CopyShader } from \"./shader/CopyShader.js\";\r\nimport { AdditiveBlending, PlaneBufferGeometry, Vector3, ShaderMaterial, Mesh, Matrix4, Vector2, Color, MeshBasicMaterial, WebGLRenderTarget, MeshDepthMaterial, LinearFilter, RGBAFormat, DoubleSide, RGBADepthPacking, NoBlending, UniformsUtils, OrthographicCamera, Scene, Sprite, Line } from \"three\";\r\n\r\nclass OutlinePass extends Pass {\r\n\r\n\tconstructor( resolution, world, selectedObjects = [], effectComposer ) {\r\n\r\n\t\tsuper( undefined, false );\r\n\t\tthis.BlurDirectionX = new Vector2( 1.0, 0.0 );\r\n\t\tthis.BlurDirectionY = new Vector2( 0.0, 1.0 );\r\n\t\tthis.renderScene = world.scene;\r\n\t\tthis.renderCamera = world.camera;\r\n\t\tthis.selectedObjects = selectedObjects;\r\n\t\tthis.visibleEdgeColor = new Color( 1, 1, 1 );\r\n\t\tthis.hiddenEdgeColor = new Color( 0.1, 0.04, 0.02 );\r\n\t\tthis.edgeGlow = 0.0;\r\n\t\tthis.usePatternTexture = false;\r\n\t\tthis.edgeThickness = 1.0;\r\n\t\tthis.edgeStrength = 3.0;\r\n\t\tthis.downSampleRatio = 2;\r\n\t\tthis.pulsePeriod = 0;\r\n\r\n\t\tthis.resolution = ( resolution !== undefined ) ? new Vector2(\r\n\t\t\tresolution.x, resolution.y ) : new Vector2( 256, 256 );\r\n\r\n\t\tlet pars = {\r\n\t\t\tminFilter: LinearFilter,\r\n\t\t\tmagFilter: LinearFilter,\r\n\t\t\tformat: RGBAFormat\r\n\t\t};\r\n\r\n\t\tlet resx = Math.round( this.resolution.x / this.downSampleRatio );\r\n\t\tlet resy = Math.round( this.resolution.y / this.downSampleRatio );\r\n\r\n\t\tthis.maskBufferMaterial = new MeshBasicMaterial( { color: 0xffffff } );\r\n\t\tthis.maskBufferMaterial.side = DoubleSide;\r\n\t\tthis.renderTargetMaskBuffer = new WebGLRenderTarget(\r\n\t\t\tthis.resolution.x, this.resolution.y, pars );\r\n\t\tthis.renderTargetMaskBuffer.texture.name = \"OutlinePass.mask\";\r\n\t\tthis.renderTargetMaskBuffer.texture.generateMipmaps = false;\r\n\r\n\t\tthis.depthMaterial = new MeshDepthMaterial();\r\n\t\tthis.depthMaterial.side = DoubleSide;\r\n\t\tthis.depthMaterial.depthPacking = RGBADepthPacking;\r\n\t\tthis.depthMaterial.blending = NoBlending;\r\n\r\n\t\tthis.prepareMaskMaterial = this.getPrepareMaskMaterial();\r\n\t\tthis.prepareMaskMaterial.side = DoubleSide;\r\n\t\tthis.prepareMaskMaterial.fragmentShader = replaceDepthToViewZ( this.prepareMaskMaterial\r\n\t\t\t.fragmentShader, this.renderCamera );\r\n\r\n\t\tthis.renderTargetDepthBuffer = new WebGLRenderTarget( this.resolution\r\n\t\t\t.x,\r\n\t\tthis.resolution.y, pars );\r\n\t\tthis.renderTargetDepthBuffer.texture.name = \"OutlinePass.depth\";\r\n\t\tthis.renderTargetDepthBuffer.texture.generateMipmaps = false;\r\n\r\n\t\tthis.renderTargetMaskDownSampleBuffer = new WebGLRenderTarget( resx,\r\n\t\t\tresy, pars );\r\n\t\tthis.renderTargetMaskDownSampleBuffer.texture.name =\r\n\t\t\t\"OutlinePass.depthDownSample\";\r\n\t\tthis.renderTargetMaskDownSampleBuffer.texture.generateMipmaps = false;\r\n\r\n\t\tthis.renderTargetBlurBuffer1 = new WebGLRenderTarget( resx, resy,\r\n\t\t\tpars );\r\n\t\tthis.renderTargetBlurBuffer1.texture.name = \"OutlinePass.blur1\";\r\n\t\tthis.renderTargetBlurBuffer1.texture.generateMipmaps = false;\r\n\t\tthis.renderTargetBlurBuffer2 = new WebGLRenderTarget( Math.round(\r\n\t\t\tresx / 2 ), Math.round( resy / 2 ), pars );\r\n\t\tthis.renderTargetBlurBuffer2.texture.name = \"OutlinePass.blur2\";\r\n\t\tthis.renderTargetBlurBuffer2.texture.generateMipmaps = false;\r\n\r\n\t\tthis.edgeDetectionMaterial = this.getEdgeDetectionMaterial();\r\n\t\tthis.renderTargetEdgeBuffer1 = new WebGLRenderTarget( resx, resy,\r\n\t\t\tpars );\r\n\t\tthis.renderTargetEdgeBuffer1.texture.name = \"OutlinePass.edge1\";\r\n\t\tthis.renderTargetEdgeBuffer1.texture.generateMipmaps = false;\r\n\t\tthis.renderTargetEdgeBuffer2 = new WebGLRenderTarget( Math.round(\r\n\t\t\tresx /\r\n\t\t\t2 ), Math.round( resy / 2 ), pars );\r\n\t\tthis.renderTargetEdgeBuffer2.texture.name = \"OutlinePass.edge2\";\r\n\t\tthis.renderTargetEdgeBuffer2.texture.generateMipmaps = false;\r\n\r\n\t\tlet MAX_EDGE_THICKNESS = 4;\r\n\t\tlet MAX_EDGE_GLOW = 4;\r\n\r\n\t\tthis.separableBlurMaterial1 = this.getSeperableBlurMaterial(\r\n\t\t\tMAX_EDGE_THICKNESS );\r\n\t\tthis.separableBlurMaterial1.uniforms[ \"texSize\" ].value = new Vector2(\r\n\t\t\tresx, resy );\r\n\t\tthis.separableBlurMaterial1.uniforms[ \"kernelRadius\" ].value = 1;\r\n\t\tthis.separableBlurMaterial2 = this.getSeperableBlurMaterial( MAX_EDGE_GLOW );\r\n\t\tthis.separableBlurMaterial2.uniforms[ \"texSize\" ].value = new Vector2(\r\n\t\t\tMath.round( resx / 2 ), Math.round( resy / 2 ) );\r\n\t\tthis.separableBlurMaterial2.uniforms[ \"kernelRadius\" ].value =\r\n\t\t\tMAX_EDGE_GLOW;\r\n\r\n\t\t// Overlay material\r\n\t\tthis.overlayMaterial = this.getOverlayMaterial();\r\n\r\n\t\tthis.copyUniforms = UniformsUtils.clone( CopyShader.uniforms );\r\n\t\tthis.copyUniforms[ \"opacity\" ].value = 1.0;\r\n\r\n\t\tthis.materialCopy = new ShaderMaterial( {\r\n\t\t\tuniforms: this.copyUniforms,\r\n\t\t\tvertexShader: CopyShader.vertexShader,\r\n\t\t\tfragmentShader: CopyShader.fragmentShader,\r\n\t\t\tblending: NoBlending,\r\n\t\t\tdepthTest: false,\r\n\t\t\tdepthWrite: false,\r\n\t\t\ttransparent: true\r\n\t\t} );\r\n\r\n\t\tthis.enabled = true;\r\n\t\tthis.needsSwap = false;\r\n\r\n\t\tthis.oldClearColor = new Color();\r\n\t\tthis.oldClearAlpha = 1;\r\n\r\n\t\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\t\tthis.scene = new Scene();\r\n\r\n\t\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), null );\r\n\t\tthis.quad.frustumCulled = false; // Avoid getting clipped\r\n\t\tthis.scene.add( this.quad );\r\n\r\n\t\tthis.tempPulseColor1 = new Color();\r\n\t\tthis.tempPulseColor2 = new Color();\r\n\t\tthis.textureMatrix = new Matrix4();\r\n\r\n\t\tfunction replaceDepthToViewZ( string, camera ) {\r\n\r\n\t\t\tlet type = camera.isPerspectiveCamera ? \"perspective\" : \"orthographic\";\r\n\t\t\treturn string.replace( /DEPTH_TO_VIEW_Z/g, type + \"DepthToViewZ\" );\r\n\r\n\t\t}\r\n\r\n\t\tif ( effectComposer ) {\r\n\r\n\t\t\teffectComposer.addPass( this );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tdispose() {\r\n\r\n\t\tthis.renderTargetMaskBuffer.dispose();\r\n\t\tthis.renderTargetDepthBuffer.dispose();\r\n\t\tthis.renderTargetMaskDownSampleBuffer.dispose();\r\n\t\tthis.renderTargetBlurBuffer1.dispose();\r\n\t\tthis.renderTargetBlurBuffer2.dispose();\r\n\t\tthis.renderTargetEdgeBuffer1.dispose();\r\n\t\tthis.renderTargetEdgeBuffer2.dispose();\r\n\r\n\t}\r\n\r\n\tsetSize( width, height ) {\r\n\r\n\t\tthis.renderTargetMaskBuffer.setSize( width, height );\r\n\r\n\t\tlet resx = Math.round( width / this.downSampleRatio );\r\n\t\tlet resy = Math.round( height / this.downSampleRatio );\r\n\t\tthis.renderTargetMaskDownSampleBuffer.setSize( resx, resy );\r\n\t\tthis.renderTargetBlurBuffer1.setSize( resx, resy );\r\n\t\tthis.renderTargetEdgeBuffer1.setSize( resx, resy );\r\n\t\tthis.separableBlurMaterial1.uniforms[ \"texSize\" ].value = new Vector2(\r\n\t\t\tresx, resy );\r\n\r\n\t\tresx = Math.round( resx / 2 );\r\n\t\tresy = Math.round( resy / 2 );\r\n\r\n\t\tthis.renderTargetBlurBuffer2.setSize( resx, resy );\r\n\t\tthis.renderTargetEdgeBuffer2.setSize( resx, resy );\r\n\r\n\t\tthis.separableBlurMaterial2.uniforms[ \"texSize\" ].value = new Vector2(\r\n\t\t\tresx, resy );\r\n\r\n\t}\r\n\r\n\tchangeVisibilityOfSelectedObjects( bVisible ) {\r\n\r\n\t\tfunction gatherSelectedMeshesCallBack( object ) {\r\n\r\n\t\t\tif ( object instanceof Mesh ) object.visible = bVisible;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0; i < this.selectedObjects.length; i ++ ) {\r\n\r\n\t\t\tlet selectedObject = this.selectedObjects[ i ];\r\n\t\t\tselectedObject.traverse( gatherSelectedMeshesCallBack );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tchangeVisibilityOfNonSelectedObjects( bVisible ) {\r\n\r\n\t\tlet selectedMeshes = [];\r\n\r\n\t\tfunction gatherSelectedMeshesCallBack( object ) {\r\n\r\n\t\t\tif ( object instanceof Mesh ) selectedMeshes.push( object );\r\n\r\n\t\t}\r\n\r\n\t\tfor ( let i = 0; i < this.selectedObjects.length; i ++ ) {\r\n\r\n\t\t\tlet selectedObject = this.selectedObjects[ i ];\r\n\t\t\tselectedObject.traverse( gatherSelectedMeshesCallBack );\r\n\r\n\t\t}\r\n\r\n\t\tfunction VisibilityChangeCallBack( object ) {\r\n\r\n\t\t\tif ( object instanceof Mesh || object instanceof Line ||\r\n\t\t\t\tobject instanceof Sprite ) {\r\n\r\n\t\t\t\tlet bFound = false;\r\n\r\n\t\t\t\tfor ( let i = 0; i < selectedMeshes.length; i ++ ) {\r\n\r\n\t\t\t\t\tlet selectedObjectId = selectedMeshes[ i ].id;\r\n\t\t\t\t\tif ( selectedObjectId === object.id ) {\r\n\r\n\t\t\t\t\t\tbFound = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! bFound ) {\r\n\r\n\t\t\t\t\tlet visibility = object.visible;\r\n\t\t\t\t\tif ( ! bVisible || object.bVisible ) object.visible = bVisible;\r\n\t\t\t\t\tobject.bVisible = visibility;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.renderScene.traverse( VisibilityChangeCallBack );\r\n\r\n\t}\r\n\r\n\tupdateTextureMatrix() {\r\n\r\n\t\tthis.textureMatrix.set( 0.5, 0.0, 0.0, 0.5,\r\n\t\t\t0.0, 0.5, 0.0, 0.5,\r\n\t\t\t0.0, 0.0, 0.5, 0.5,\r\n\t\t\t0.0, 0.0, 0.0, 1.0 );\r\n\t\tthis.textureMatrix.multiply( this.renderCamera.projectionMatrix );\r\n\t\tthis.textureMatrix.multiply( this.renderCamera.matrixWorldInverse );\r\n\r\n\t}\r\n\r\n\trender( renderer, writeBuffer, readBuffer, delta, maskActive ) {\r\n\r\n\t\tif ( this.selectedObjects.length === 0 ) return;\r\n\r\n\t\tthis.oldClearColor.copy( renderer.getClearColor() );\r\n\t\tthis.oldClearAlpha = renderer.getClearAlpha();\r\n\t\tlet oldAutoClear = renderer.autoClear;\r\n\r\n\t\trenderer.autoClear = false;\r\n\r\n\t\tif ( maskActive ) renderer.context.disable( renderer.context.STENCIL_TEST );\r\n\r\n\t\trenderer.setClearColor( 0xffffff, 1 );\r\n\r\n\t\t// Make selected objects invisible\r\n\t\tthis.changeVisibilityOfSelectedObjects( false );\r\n\r\n\t\tlet currentBackground = this.renderScene.background;\r\n\t\tthis.renderScene.background = null;\r\n\r\n\t\t// 1. Draw Non Selected objects in the depth buffer\r\n\t\tthis.renderScene.overrideMaterial = this.depthMaterial;\r\n\t\trenderer.render( this.renderScene, this.renderCamera, this.renderTargetDepthBuffer,\r\n\t\t\ttrue );\r\n\r\n\t\t// Make selected objects visible\r\n\t\tthis.changeVisibilityOfSelectedObjects( true );\r\n\r\n\t\t// Update Texture Matrix for Depth compare\r\n\t\tthis.updateTextureMatrix();\r\n\r\n\t\t// Make non selected objects invisible, and draw only the selected objects, by comparing the depth buffer of non selected objects\r\n\t\tthis.changeVisibilityOfNonSelectedObjects( false );\r\n\t\tthis.renderScene.overrideMaterial = this.prepareMaskMaterial;\r\n\t\tthis.prepareMaskMaterial.uniforms[ \"cameraNearFar\" ].value = new Vector2(\r\n\t\t\tthis.renderCamera.near, this.renderCamera.far );\r\n\t\tthis.prepareMaskMaterial.uniforms[ \"depthTexture\" ].value = this.renderTargetDepthBuffer\r\n\t\t\t.texture;\r\n\t\tthis.prepareMaskMaterial.uniforms[ \"textureMatrix\" ].value = this.textureMatrix;\r\n\t\trenderer.render( this.renderScene, this.renderCamera, this.renderTargetMaskBuffer,\r\n\t\t\ttrue );\r\n\t\tthis.renderScene.overrideMaterial = null;\r\n\t\tthis.changeVisibilityOfNonSelectedObjects( true );\r\n\r\n\t\tthis.renderScene.background = currentBackground;\r\n\r\n\t\t// 2. Downsample to Half resolution\r\n\t\tthis.quad.material = this.materialCopy;\r\n\t\tthis.copyUniforms[ \"tDiffuse\" ].value = this.renderTargetMaskBuffer.texture;\r\n\t\trenderer.render( this.scene, this.camera, this.renderTargetMaskDownSampleBuffer,\r\n\t\t\ttrue );\r\n\r\n\t\tthis.tempPulseColor1.copy( this.visibleEdgeColor );\r\n\t\tthis.tempPulseColor2.copy( this.hiddenEdgeColor );\r\n\r\n\t\tif ( this.pulsePeriod > 0 ) {\r\n\r\n\t\t\tlet scalar = ( 1 + 0.25 ) / 2 + Math.cos( performance.now() * 0.01 /\r\n\t\t\t\tthis.pulsePeriod ) * ( 1.0 - 0.25 ) / 2;\r\n\t\t\tthis.tempPulseColor1.multiplyScalar( scalar );\r\n\t\t\tthis.tempPulseColor2.multiplyScalar( scalar );\r\n\r\n\t\t}\r\n\r\n\t\t// 3. Apply Edge Detection Pass\r\n\t\tthis.quad.material = this.edgeDetectionMaterial;\r\n\t\tthis.edgeDetectionMaterial.uniforms[ \"maskTexture\" ].value = this.renderTargetMaskDownSampleBuffer\r\n\t\t\t.texture;\r\n\t\tthis.edgeDetectionMaterial.uniforms[ \"texSize\" ].value = new Vector2(\r\n\t\t\tthis.renderTargetMaskDownSampleBuffer.width, this.renderTargetMaskDownSampleBuffer\r\n\t\t\t\t.height );\r\n\t\tthis.edgeDetectionMaterial.uniforms[ \"visibleEdgeColor\" ].value = this.tempPulseColor1;\r\n\t\tthis.edgeDetectionMaterial.uniforms[ \"hiddenEdgeColor\" ].value = this.tempPulseColor2;\r\n\t\trenderer.render( this.scene, this.camera, this.renderTargetEdgeBuffer1,\r\n\t\t\ttrue );\r\n\r\n\t\t// 4. Apply Blur on Half res\r\n\t\tthis.quad.material = this.separableBlurMaterial1;\r\n\t\tthis.separableBlurMaterial1.uniforms[ \"colorTexture\" ].value = this.renderTargetEdgeBuffer1\r\n\t\t\t.texture;\r\n\t\tthis.separableBlurMaterial1.uniforms[ \"direction\" ].value = this.BlurDirectionX;\r\n\t\tthis.separableBlurMaterial1.uniforms[ \"kernelRadius\" ].value = this.edgeThickness;\r\n\t\trenderer.render( this.scene, this.camera, this.renderTargetBlurBuffer1,\r\n\t\t\ttrue );\r\n\t\tthis.separableBlurMaterial1.uniforms[ \"colorTexture\" ].value = this.renderTargetBlurBuffer1\r\n\t\t\t.texture;\r\n\t\tthis.separableBlurMaterial1.uniforms[ \"direction\" ].value = this\r\n\t\t\t.BlurDirectionY;\r\n\t\trenderer.render( this.scene, this.camera, this.renderTargetEdgeBuffer1,\r\n\t\t\ttrue );\r\n\r\n\t\t// Apply Blur on quarter res\r\n\t\tthis.quad.material = this.separableBlurMaterial2;\r\n\t\tthis.separableBlurMaterial2.uniforms[ \"colorTexture\" ].value = this.renderTargetEdgeBuffer1.texture;\r\n\t\tthis.separableBlurMaterial2.uniforms[ \"direction\" ].value = this.BlurDirectionX;\r\n\t\trenderer.render( this.scene, this.camera, this.renderTargetBlurBuffer2, true );\r\n\t\tthis.separableBlurMaterial2.uniforms[ \"colorTexture\" ].value = this.renderTargetBlurBuffer2.texture;\r\n\t\tthis.separableBlurMaterial2.uniforms[ \"direction\" ].value = this.BlurDirectionY;\r\n\t\trenderer.render( this.scene, this.camera, this.renderTargetEdgeBuffer2, true );\r\n\r\n\t\t// Blend it additively over the input texture\r\n\t\tthis.quad.material = this.overlayMaterial;\r\n\t\tthis.overlayMaterial.uniforms[ \"maskTexture\" ].value = this.renderTargetMaskBuffer\r\n\t\t\t.texture;\r\n\t\tthis.overlayMaterial.uniforms[ \"edgeTexture1\" ].value = this.renderTargetEdgeBuffer1\r\n\t\t\t.texture;\r\n\t\tthis.overlayMaterial.uniforms[ \"edgeTexture2\" ].value = this.renderTargetEdgeBuffer2\r\n\t\t\t.texture;\r\n\t\tthis.overlayMaterial.uniforms[ \"patternTexture\" ].value = this.patternTexture;\r\n\t\tthis.overlayMaterial.uniforms[ \"edgeStrength\" ].value = this.edgeStrength;\r\n\t\tthis.overlayMaterial.uniforms[ \"edgeGlow\" ].value = this.edgeGlow;\r\n\t\tthis.overlayMaterial.uniforms[ \"usePatternTexture\" ].value = this.usePatternTexture;\r\n\r\n\t\tif ( maskActive ) renderer.context.enable( renderer.context.STENCIL_TEST );\r\n\r\n\t\trenderer.render( this.scene, this.camera, readBuffer, false );\r\n\r\n\t\trenderer.setClearColor( this.oldClearColor, this.oldClearAlpha );\r\n\t\trenderer.autoClear = oldAutoClear;\r\n\r\n\t}\r\n\r\n\tgetPrepareMaskMaterial() {\r\n\r\n\t\treturn new ShaderMaterial( {\r\n\t\t\tuniforms: {\r\n\t\t\t\t\"depthTexture\": { value: null },\r\n\t\t\t\t\"cameraNearFar\": { value: new Vector2( 0.5, 0.5 ) },\r\n\t\t\t\t\"textureMatrix\": { value: new Matrix4() }\r\n\t\t\t},\r\n\r\n\t\t\tvertexShader: [\r\n\t\t\t\t'varying vec4 projTexCoord;',\r\n\t\t\t\t'varying vec4 vPosition;',\r\n\t\t\t\t'uniform mat4 textureMatrix;',\r\n\r\n\t\t\t\t'void main() {',\r\n\r\n\t\t\t\t'\tvPosition = modelViewMatrix * vec4( position, 1.0 );',\r\n\t\t\t\t'\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );',\r\n\t\t\t\t'\tprojTexCoord = textureMatrix * worldPosition;',\r\n\t\t\t\t'\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\r\n\r\n\t\t\t\t'}'\r\n\t\t\t].join( '\\n' ),\r\n\r\n\t\t\tfragmentShader: [\r\n\t\t\t\t'#include <packing>',\r\n\t\t\t\t'varying vec4 vPosition;',\r\n\t\t\t\t'varying vec4 projTexCoord;',\r\n\t\t\t\t'uniform sampler2D depthTexture;',\r\n\t\t\t\t'uniform vec2 cameraNearFar;',\r\n\r\n\t\t\t\t'void main() {',\r\n\r\n\t\t\t\t'\tfloat depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));',\r\n\t\t\t\t'\tfloat viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );',\r\n\t\t\t\t'\tfloat depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;',\r\n\t\t\t\t'\tgl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);',\r\n\r\n\t\t\t\t'}'\r\n\t\t\t].join( '\\n' )\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tgetEdgeDetectionMaterial() {\r\n\r\n\t\treturn new ShaderMaterial( {\r\n\t\t\tuniforms: {\r\n\t\t\t\t\"maskTexture\": { value: null },\r\n\t\t\t\t\"texSize\": { value: new Vector2( 0.5, 0.5 ) },\r\n\t\t\t\t\"visibleEdgeColor\": { value: new Vector3( 1.0, 1.0, 1.0 ) },\r\n\t\t\t\t\"hiddenEdgeColor\": { value: new Vector3( 1.0, 1.0, 1.0 ) },\r\n\t\t\t},\r\n\r\n\t\t\tvertexShader: `varying vec2 vUv;\r\n\t\t\t\tvoid main() {\r\n\t\t\t\t\tvUv = uv;\r\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n\t\t\t\t}`,\r\n\r\n\t\t\tfragmentShader: `varying vec2 vUv;\r\n\t\t\t\tuniform sampler2D maskTexture;\r\n\t\t\t\tuniform vec2 texSize;\r\n\t\t\t\tuniform vec3 visibleEdgeColor;\r\n\t\t\t\tuniform vec3 hiddenEdgeColor;\r\n\r\n\t\t\t\tvoid main() {\r\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\r\n\t\t\t\t\tvec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\r\n\t\t\t\t\tvec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);\r\n\t\t\t\t\tvec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);\r\n\t\t\t\t\tvec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);\r\n\t\t\t\t\tvec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);\r\n\t\t\t\t\tfloat diff1 = (c1.r - c2.r)*0.5;\r\n\t\t\t\t\tfloat diff2 = (c3.r - c4.r)*0.5;\r\n\t\t\t\t\tfloat d = length( vec2(diff1, diff2) );\r\n\t\t\t\t\tfloat a1 = min(c1.g, c2.g);\r\n\t\t\t\t\tfloat a2 = min(c3.g, c4.g);\r\n\t\t\t\t\tfloat visibilityFactor = min(a1, a2);\r\n\t\t\t\t\tvec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;\r\n\t\t\t\t\tgl_FragColor = vec4(edgeColor, 1.0) * vec4(d);\r\n\t\t\t\t}`\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tgetSeperableBlurMaterial( maxRadius ) {\r\n\r\n\t\treturn new ShaderMaterial( {\r\n\t\t\tdefines: {\r\n\t\t\t\t\"MAX_RADIUS\": maxRadius,\r\n\t\t\t},\r\n\r\n\t\t\tuniforms: {\r\n\t\t\t\t\"colorTexture\": { value: null },\r\n\t\t\t\t\"texSize\": { value: new Vector2( 0.5, 0.5 ) },\r\n\t\t\t\t\"direction\": { value: new Vector2( 0.5, 0.5 ) },\r\n\t\t\t\t\"kernelRadius\": { value: 1.0 }\r\n\t\t\t},\r\n\r\n\t\t\tvertexShader: `varying vec2 vUv;\r\n\t\t\t\tvoid main() {\r\n\t\t\t\t\tvUv = uv;\r\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n\t\t\t\t}`,\r\n\r\n\t\t\tfragmentShader: `#include <common>\r\n\t\t\t\tvarying vec2 vUv;\r\n\t\t\t\tuniform sampler2D colorTexture;\r\n\t\t\t\tuniform vec2 texSize;\r\n\t\t\t\tuniform vec2 direction;\r\n\t\t\t\tuniform float kernelRadius;\r\n\r\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\r\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\r\n\t\t\t\t}\r\n\t\t\t\tvoid main() {\r\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\r\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, kernelRadius);\r\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\r\n\t\t\t\t\tvec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);\r\n\t\t\t\t\tvec2 uvOffset = delta;\r\n\t\t\t\t\tfor( int i = 1; i <= MAX_RADIUS; i ++ ) {\r\n\t\t\t\t\t\tfloat w = gaussianPdf(uvOffset.x, kernelRadius);\r\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\r\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\r\n\t\t\t\t\t\tdiffuseSum += ((sample1 + sample2) * w);\r\n\t\t\t\t\t\tweightSum += (2.0 * w);\r\n\t\t\t\t\t\tuvOffset += delta;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\r\n\t\t\t\t}`\r\n\t\t} );\r\n\r\n\t}\r\n\r\n\tgetOverlayMaterial() {\r\n\r\n\t\treturn new ShaderMaterial( {\r\n\t\t\tuniforms: {\r\n\t\t\t\t\"maskTexture\": { value: null },\r\n\t\t\t\t\"edgeTexture1\": { value: null },\r\n\t\t\t\t\"edgeTexture2\": { value: null },\r\n\t\t\t\t\"patternTexture\": { value: null },\r\n\t\t\t\t\"edgeStrength\": { value: 1.0 },\r\n\t\t\t\t\"edgeGlow\": { value: 1.0 },\r\n\t\t\t\t\"usePatternTexture\": { value: 0.0 }\r\n\t\t\t},\r\n\r\n\t\t\tvertexShader: `varying vec2 vUv;\r\n\t\t\t\tvoid main() {\r\n\t\t\t\t\tvUv = uv;\r\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n\t\t\t\t}`,\r\n\r\n\t\t\tfragmentShader: `varying vec2 vUv;\r\n\t\t\t\tuniform sampler2D maskTexture;\r\n\t\t\t\tuniform sampler2D edgeTexture1;\r\n\t\t\t\tuniform sampler2D edgeTexture2;\r\n\t\t\t\tuniform sampler2D patternTexture;\r\n\t\t\t\tuniform float edgeStrength;\r\n\t\t\t\tuniform float edgeGlow;\r\n\t\t\t\tuniform bool usePatternTexture;\r\n\r\n\t\t\t\tvoid main() {\r\n\t\t\t\t\tvec4 edgeValue1 = texture2D(edgeTexture1, vUv);\r\n\t\t\t\t\tvec4 edgeValue2 = texture2D(edgeTexture2, vUv);\r\n\t\t\t\t\tvec4 maskColor = texture2D(maskTexture, vUv);\r\n\t\t\t\t\tvec4 patternColor = texture2D(patternTexture, 6.0 * vUv);\r\n\t\t\t\t\tfloat visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;\r\n\t\t\t\t\tvec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;\r\n\t\t\t\t\tvec4 finalColor = edgeStrength * maskColor.r * edgeValue;\r\n\t\t\t\t\tif(usePatternTexture)\r\n\t\t\t\t\t\tfinalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);\r\n\t\t\t\t\tgl_FragColor = finalColor;\r\n\t\t\t\t}`,\r\n\t\t\tblending: AdditiveBlending,\r\n\t\t\tdepthTest: false,\r\n\t\t\tdepthWrite: false,\r\n\t\t\ttransparent: true\r\n\t\t} );\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport {\r\n\tOutlinePass\r\n};\r\n","/**\r\n * @author mattatz / http://mattatz.github.io\r\n *\r\n * Based on\r\n * Charlotte Hoare MSc Project / http://nccastaff.bournemouth.ac.uk/jmacey/MastersProjects/MSc12/Hoare/index.html\r\n * and\r\n * Su et al. Real-Time rendering of watercolor effects for virtual environments. / http://dl.acm.org/citation.cfm?id=2131253\r\n */\r\n\r\nimport { Vector2 } from \"three\";\r\n\r\nlet WatercolorShader = {\r\n\r\n\tuniforms: {\r\n\t\t\"tDiffuse\": { type: \"t\", value: null }, // diffuse texture\r\n\t\t\"tPaper\": { type: \"t\", value: null }, // paper texture\r\n\t\t\"texel\": { type: \"v2\", value: new Vector2( 1.0 / 512, 1.0 / 512 ) },\r\n\t\t\"scale\": { type: \"f\", value: 0.03 }, // wobble scale\r\n\t\t\"threshold\": { type: \"f\", value: 0.7 }, // edge threshold\r\n\t\t\"darkening\": { type: \"f\", value: 1.75 }, // edge darkening\r\n\t\t\"pigment\": { type: \"f\", value: 1.2 }, // pigment dispersion\r\n\t},\r\n\r\n\tvertexShader: [\r\n\t\t\"varying vec2 vUv;\",\r\n\t\t\"void main() {\",\r\n\t\t\"vUv = uv;\",\r\n\t\t\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\t\t\"uniform sampler2D tPaper;\",\r\n\r\n\t\t\"uniform vec2 texel;\",\r\n\t\t\"uniform float scale;\",\r\n\t\t\"uniform float threshold;\",\r\n\t\t\"uniform float darkening;\",\r\n\t\t\"uniform float pigment;\",\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"float sobel(sampler2D tex, vec2 uv) {\",\r\n\r\n\t\t\"vec3 hr = vec3(0., 0., 0.);\",\r\n\t\t\"hr += texture2D(tex, (uv + vec2(-1.0, -1.0) * texel)).rgb *  1.0;\",\r\n\t\t\"hr += texture2D(tex, (uv + vec2( 0.0, -1.0) * texel)).rgb *  0.0;\",\r\n\t\t\"hr += texture2D(tex, (uv + vec2( 1.0, -1.0) * texel)).rgb * -1.0;\",\r\n\t\t\"hr += texture2D(tex, (uv + vec2(-1.0,  0.0) * texel)).rgb *  2.0;\",\r\n\t\t\"hr += texture2D(tex, (uv + vec2( 0.0,  0.0) * texel)).rgb *  0.0;\",\r\n\t\t\"hr += texture2D(tex, (uv + vec2( 1.0,  0.0) * texel)).rgb * -2.0;\",\r\n\t\t\"hr += texture2D(tex, (uv + vec2(-1.0,  1.0) * texel)).rgb *  1.0;\",\r\n\t\t\"hr += texture2D(tex, (uv + vec2( 0.0,  1.0) * texel)).rgb *  0.0;\",\r\n\t\t\"hr += texture2D(tex, (uv + vec2( 1.0,  1.0) * texel)).rgb * -1.0;\",\r\n\r\n\t\t\"vec3 vt = vec3(0., 0., 0.);\",\r\n\t\t\"vt += texture2D(tex, (uv + vec2(-1.0, -1.0) * texel)).rgb *  1.0;\",\r\n\t\t\"vt += texture2D(tex, (uv + vec2( 0.0, -1.0) * texel)).rgb *  2.0;\",\r\n\t\t\"vt += texture2D(tex, (uv + vec2( 1.0, -1.0) * texel)).rgb *  1.0;\",\r\n\t\t\"vt += texture2D(tex, (uv + vec2(-1.0,  0.0) * texel)).rgb *  0.0;\",\r\n\t\t\"vt += texture2D(tex, (uv + vec2( 0.0,  0.0) * texel)).rgb *  0.0;\",\r\n\t\t\"vt += texture2D(tex, (uv + vec2( 1.0,  0.0) * texel)).rgb *  0.0;\",\r\n\t\t\"vt += texture2D(tex, (uv + vec2(-1.0,  1.0) * texel)).rgb * -1.0;\",\r\n\t\t\"vt += texture2D(tex, (uv + vec2( 0.0,  1.0) * texel)).rgb * -2.0;\",\r\n\t\t\"vt += texture2D(tex, (uv + vec2( 1.0,  1.0) * texel)).rgb * -1.0;\",\r\n\r\n\t\t\"return sqrt(dot(hr, hr) + dot(vt, vt));\",\r\n\t\t\"}\",\r\n\r\n\t\t\"vec2 wobble(sampler2D tex, vec2 uv) {\",\r\n\t\t\"return uv + (texture2D(tex, uv).xy - 0.5) * scale;\",\r\n\t\t\"}\",\r\n\r\n\t\t\"vec4 edgeDarkening(sampler2D tex, vec2 uv) {\",\r\n\t\t\"vec4 c = texture2D(tex, uv);\",\r\n\t\t\"return c * (1.0 - (1.0 - c) * (darkening - 1.0));\",\r\n\t\t\"}\",\r\n\r\n\t\t\"float granulation(sampler2D tex, vec2 uv, float beta) {\",\r\n\t\t\"vec4 c = texture2D(tex, uv);\",\r\n\t\t\"float intensity = (c.r + c.g + c.b) / 3.0;\",\r\n\t\t\"return 1.0 + beta * (intensity - 0.5);\",\r\n\t\t\"}\",\r\n\r\n\t\t\"void main() {\",\r\n\t\t\"vec2 uv = vUv;\",\r\n\t\t\"uv = wobble(tPaper, uv);\",\r\n\r\n\t\t\"float pd = granulation(tPaper, vUv, pigment);\", // pigment dispersion\r\n\r\n\t\t\"float edge = sobel(tDiffuse, uv);\",\r\n\t\t\"if (edge > threshold) {\",\r\n\t\t\"gl_FragColor = pd * edgeDarkening(tDiffuse, uv);\",\r\n\t\t\"} else {\",\r\n\t\t\"gl_FragColor = pd * texture2D(tDiffuse, uv);\",\r\n\t\t\"}\",\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" )\r\n\r\n};\r\n\r\nexport {\r\n\tWatercolorShader\r\n};\r\n","/**\r\n * @author mattatz / http://mattatz.github.io\r\n */\r\nimport { Pass } from './Pass.js';\r\nimport { WatercolorShader } from './shader/WatercolorShader.js';\r\nimport { PlaneBufferGeometry, ShaderMaterial, Mesh, Vector2, UniformsUtils, OrthographicCamera, Scene, RepeatWrapping } from \"three\";\r\n\r\nclass WatercolorPass extends Pass {\r\n\r\n\tconstructor( tPaper, effectComposer, renderToScreen ) {\r\n\r\n\t\tsuper( effectComposer, renderToScreen );\r\n\t\tlet shader = WatercolorShader;\r\n\t\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\r\n\r\n\t\ttPaper.wrapS = tPaper.wrapT = RepeatWrapping;\r\n\t\tthis.uniforms[ \"tPaper\" ].value = tPaper;\r\n\r\n\t\tthis.material = new ShaderMaterial( {\r\n\t\t\tuniforms: this.uniforms,\r\n\t\t\tvertexShader: shader.vertexShader,\r\n\t\t\tfragmentShader: shader.fragmentShader\r\n\t\t} );\r\n\r\n\t\tthis.enabled = true;\r\n\t\tthis.renderToScreen = renderToScreen;\r\n\t\tthis.needsSwap = true;\r\n\r\n\t\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\t\tthis.scene = new Scene();\r\n\r\n\t\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), undefined );\r\n\t\tthis.scene.add( this.quad );\r\n\r\n\t}\r\n\r\n\trender( renderer, writeBuffer, readBuffer ) {\r\n\r\n\t\tthis.uniforms[ \"tDiffuse\" ].value = readBuffer;\r\n\t\tthis.uniforms[ \"texel\" ].value = new Vector2( 1.0 / readBuffer.width,\r\n\t\t\t1.0 / readBuffer.height );\r\n\r\n\t\tthis.quad.material = this.material;\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.render( this.scene, this.camera, writeBuffer, false );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport {\r\n\tWatercolorPass\r\n};\r\n","import { Vector2 } from \"three\";\r\n\r\nlet TestShader = {\r\n\tuniforms: {\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"tSize\": { value: new Vector2( 256, 256 ) },\r\n\t\t\"center\": { value: new Vector2( 0.5, 0.5 ) },\r\n\t\t\"angle\": { value: 1.57 },\r\n\t\t\"scale\": { value: 1.0 }\r\n\t},\r\n\r\n\tvertexShader: [\r\n\t\t\"varying vec2 vUv;\",\r\n\t\t\"void main() {\",\r\n\t\t\"vUv = uv;\",\r\n\t\t\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\t\t`uniform vec2 center;\r\n    uniform float angle;\r\n    uniform float scale;\r\n    uniform vec2 tSize;\r\n    uniform sampler2D tDiffuse;\r\n    varying vec2 vUv;\r\n    float pattern() {\r\n      float s = sin( angle ), c = cos( angle );\r\n      vec2 tex = vUv * tSize - center;\r\n      vec2 point = vec2( c * tex.x - s * tex.y, s * tex.x + c * tex.y ) * scale;\r\n      return ( sin( point.x ) * sin( point.y ) ) * 4.0;\r\n    }\r\n\r\nconst float PI = 3.1415926536;\r\nconst float PI2 = PI * 2.0; \r\nconst int mSize = 9;\r\nconst int kSize = (mSize-1)/2;\r\nconst float sigma = 3.0;\r\nfloat kernel[mSize];\r\n\r\nfloat normpdf(in float x, in float sigma) \r\n{\r\n\treturn 0.39894 * exp(-0.5 * x * x / (sigma * sigma)) / sigma;\r\n}\r\n\r\nvec3 colorDodge(in vec3 src, in vec3 dst)\r\n{\r\n    return step(0.0, dst) * mix(min(vec3(1.0), dst/ (1.0 - src)), vec3(1.0), step(1.0, src)); \r\n}\r\n\r\nfloat greyScale(in vec3 col) \r\n{\r\n    return dot(col, vec3(0.3, 0.59, 0.11));\r\n    //return dot(col, vec3(0.2126, 0.7152, 0.0722)); //sRGB\r\n}\r\n\r\nvec2 random(vec2 p){\r\n\tp = fract(p * vec2(443.897, 441.423));\r\n    p += dot(p, p.yx+19.19);\r\n    return fract((p.xx+p.yx)*p.xy);\r\n}\r\n\r\n\r\n    void main() {\r\n    \tvec2 q = -1.0 + 2.0 *vUv;\r\n      vec4 color = texture2D( tDiffuse, vUv );\r\n      vec3 col = color.rgb;\r\n      \r\n      vec2 r = random(q);\r\n      r.x *= PI2;\r\n      vec2 cr = vec2(sin(r.x),cos(r.x))*sqrt(r.y);\r\n    \r\n      vec3 blurred = color.rgb;\r\n    \r\n    \r\n    vec3 inv = vec3(1.0) - blurred; \r\n    // color dodge\r\n    vec3 lighten = colorDodge(col, inv);\r\n    // grey scale\r\n    vec3 res = vec3(greyScale(lighten));\r\n    \r\n    // more contrast\r\n    res = vec3(pow(res.x, 3.0)); \r\n      \r\n      \r\n      gl_FragColor = vec4( res,1.0 );\r\n    }`\r\n\t].join( \"\\n\" )\r\n};\r\n\r\nexport {\r\n\tTestShader\r\n};\r\n","import { Pass } from './Pass.js';\r\nimport { TestShader } from './shader/TestShader.js';\r\nimport { PlaneBufferGeometry, ShaderMaterial, Mesh, UniformsUtils, OrthographicCamera, Scene } from \"three\";\r\n\r\nclass TestPass extends Pass {\r\n\r\n\tconstructor( center, angle, scale, effectComposer, renderToScreen = false ) {\r\n\r\n\t\tsuper( effectComposer, renderToScreen );\r\n\t\tthis.uniforms = UniformsUtils.clone( TestShader.uniforms );\r\n\t\tif ( center !== undefined ) this.uniforms[ \"center\" ].value.copy( center );\r\n\t\tif ( angle !== undefined ) this.uniforms[ \"angle\" ].value = angle;\r\n\t\tif ( scale !== undefined ) this.uniforms[ \"scale\" ].value = scale;\r\n\r\n\t\tthis.material = new ShaderMaterial( {\r\n\t\t\tuniforms: this.uniforms,\r\n\t\t\tvertexShader: TestShader.vertexShader,\r\n\t\t\tfragmentShader: TestShader.fragmentShader\r\n\t\t} );\r\n\r\n\t\tthis.camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\r\n\t\tthis.scene = new Scene();\r\n\t\tthis.quad = new Mesh( new PlaneBufferGeometry( 2, 2 ), null );\r\n\t\tthis.quad.frustumCulled = false; // Avoid getting clipped\r\n\t\tthis.scene.add( this.quad );\r\n\r\n\t}\r\n\r\n\trender( renderer, writeBuffer, readBuffer ) {\r\n\r\n\t\tthis.uniforms[ \"tDiffuse\" ].value = readBuffer.texture;\r\n\t\tthis.uniforms[ \"tSize\" ].value.set( readBuffer.width, readBuffer.height );\r\n\r\n\t\tthis.quad.material = this.material;\r\n\r\n\t\tif ( this.renderToScreen ) {\r\n\r\n\t\t\trenderer.render( this.scene, this.camera );\r\n\r\n\t\t} else {\r\n\r\n\t\t\trenderer.render( this.scene, this.camera, writeBuffer, this.clear );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport {\r\n\tTestPass\r\n};\r\n","/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author davidedc / http://www.sketchpatch.net/\r\n *\r\n * NVIDIA FXAA by Timothy Lottes\r\n * http://timothylottes.blogspot.com/2011/06/fxaa3-source-released.html\r\n * - WebGL port by @supereggbert\r\n * http://www.glge.org/demos/fxaa/\r\n */\r\n\r\nimport { Vector2 } from \"three\";\r\n\r\nlet FXAAShader = {\r\n\r\n\tuniforms: {\r\n\r\n\t\t\"tDiffuse\": { value: null },\r\n\t\t\"resolution\": { value: new Vector2( 1 / 1024, 1 / 512 ) }\r\n\r\n\t},\r\n\r\n\tvertexShader: [\r\n\r\n\t\t\"varying vec2 vUv;\",\r\n\r\n\t\t\"void main() {\",\r\n\r\n\t\t\"vUv = uv;\",\r\n\t\t\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\r\n\r\n\t\t\"}\"\r\n\r\n\t].join( \"\\n\" ),\r\n\r\n\tfragmentShader: [\r\n\t\t\"precision highp float;\",\r\n\t\t\"\",\r\n\t\t\"uniform sampler2D tDiffuse;\",\r\n\t\t\"\",\r\n\t\t\"uniform vec2 resolution;\",\r\n\t\t\"\",\r\n\t\t\"varying vec2 vUv;\",\r\n\t\t\"\",\r\n\t\t\"// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)\",\r\n\t\t\"\",\r\n\t\t\"//----------------------------------------------------------------------------------\",\r\n\t\t\"// File:        es3-kepler\\FXAA\\assets\\shaders/FXAA_DefaultES.frag\",\r\n\t\t\"// SDK Version: v3.00\",\r\n\t\t\"// Email:       gameworks@nvidia.com\",\r\n\t\t\"// Site:        http://developer.nvidia.com/\",\r\n\t\t\"//\",\r\n\t\t\"// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.\",\r\n\t\t\"//\",\r\n\t\t\"// Redistribution and use in source and binary forms, with or without\",\r\n\t\t\"// modification, are permitted provided that the following conditions\",\r\n\t\t\"// are met:\",\r\n\t\t\"//  * Redistributions of source code must retain the above copyright\",\r\n\t\t\"//    notice, this list of conditions and the following disclaimer.\",\r\n\t\t\"//  * Redistributions in binary form must reproduce the above copyright\",\r\n\t\t\"//    notice, this list of conditions and the following disclaimer in the\",\r\n\t\t\"//    documentation and/or other materials provided with the distribution.\",\r\n\t\t\"//  * Neither the name of NVIDIA CORPORATION nor the names of its\",\r\n\t\t\"//    contributors may be used to endorse or promote products derived\",\r\n\t\t\"//    from this software without specific prior written permission.\",\r\n\t\t\"//\",\r\n\t\t\"// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY\",\r\n\t\t\"// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\",\r\n\t\t\"// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\",\r\n\t\t\"// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\",\r\n\t\t\"// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\",\r\n\t\t\"// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\",\r\n\t\t\"// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\",\r\n\t\t\"// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\",\r\n\t\t\"// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\",\r\n\t\t\"// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\",\r\n\t\t\"// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\",\r\n\t\t\"//\",\r\n\t\t\"//----------------------------------------------------------------------------------\",\r\n\t\t\"\",\r\n\t\t\"#define FXAA_PC 1\",\r\n\t\t\"#define FXAA_GLSL_100 1\",\r\n\t\t\"#define FXAA_QUALITY_PRESET 12\",\r\n\t\t\"\",\r\n\t\t\"#define FXAA_GREEN_AS_LUMA 1\",\r\n\t\t\"\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#ifndef FXAA_PC_CONSOLE\",\r\n\t\t\"    //\",\r\n\t\t\"    // The console algorithm for PC is included\",\r\n\t\t\"    // for developers targeting really low spec machines.\",\r\n\t\t\"    // Likely better to just run FXAA_PC, and use a really low preset.\",\r\n\t\t\"    //\",\r\n\t\t\"    #define FXAA_PC_CONSOLE 0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#ifndef FXAA_GLSL_120\",\r\n\t\t\"    #define FXAA_GLSL_120 0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#ifndef FXAA_GLSL_130\",\r\n\t\t\"    #define FXAA_GLSL_130 0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#ifndef FXAA_HLSL_3\",\r\n\t\t\"    #define FXAA_HLSL_3 0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#ifndef FXAA_HLSL_4\",\r\n\t\t\"    #define FXAA_HLSL_4 0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#ifndef FXAA_HLSL_5\",\r\n\t\t\"    #define FXAA_HLSL_5 0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*==========================================================================*/\",\r\n\t\t\"#ifndef FXAA_GREEN_AS_LUMA\",\r\n\t\t\"    //\",\r\n\t\t\"    // For those using non-linear color,\",\r\n\t\t\"    // and either not able to get luma in alpha, or not wanting to,\",\r\n\t\t\"    // this enables FXAA to run using green as a proxy for luma.\",\r\n\t\t\"    // So with this enabled, no need to pack luma in alpha.\",\r\n\t\t\"    //\",\r\n\t\t\"    // This will turn off AA on anything which lacks some amount of green.\",\r\n\t\t\"    // Pure red and blue or combination of only R and B, will get no AA.\",\r\n\t\t\"    //\",\r\n\t\t\"    // Might want to lower the settings for both,\",\r\n\t\t\"    //    fxaaConsoleEdgeThresholdMin\",\r\n\t\t\"    //    fxaaQualityEdgeThresholdMin\",\r\n\t\t\"    // In order to insure AA does not get turned off on colors\",\r\n\t\t\"    // which contain a minor amount of green.\",\r\n\t\t\"    //\",\r\n\t\t\"    // 1 = On.\",\r\n\t\t\"    // 0 = Off.\",\r\n\t\t\"    //\",\r\n\t\t\"    #define FXAA_GREEN_AS_LUMA 0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#ifndef FXAA_EARLY_EXIT\",\r\n\t\t\"    //\",\r\n\t\t\"    // Controls algorithm's early exit path.\",\r\n\t\t\"    // On PS3 turning this ON adds 2 cycles to the shader.\",\r\n\t\t\"    // On 360 turning this OFF adds 10ths of a millisecond to the shader.\",\r\n\t\t\"    // Turning this off on console will result in a more blurry image.\",\r\n\t\t\"    // So this defaults to on.\",\r\n\t\t\"    //\",\r\n\t\t\"    // 1 = On.\",\r\n\t\t\"    // 0 = Off.\",\r\n\t\t\"    //\",\r\n\t\t\"    #define FXAA_EARLY_EXIT 1\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#ifndef FXAA_DISCARD\",\r\n\t\t\"    //\",\r\n\t\t\"    // Only valid for PC OpenGL currently.\",\r\n\t\t\"    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.\",\r\n\t\t\"    //\",\r\n\t\t\"    // 1 = Use discard on pixels which don't need AA.\",\r\n\t\t\"    //     For APIs which enable concurrent TEX+ROP from same surface.\",\r\n\t\t\"    // 0 = Return unchanged color on pixels which don't need AA.\",\r\n\t\t\"    //\",\r\n\t\t\"    #define FXAA_DISCARD 0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#ifndef FXAA_FAST_PIXEL_OFFSET\",\r\n\t\t\"    //\",\r\n\t\t\"    // Used for GLSL 120 only.\",\r\n\t\t\"    //\",\r\n\t\t\"    // 1 = GL API supports fast pixel offsets\",\r\n\t\t\"    // 0 = do not use fast pixel offsets\",\r\n\t\t\"    //\",\r\n\t\t\"    #ifdef GL_EXT_gpu_shader4\",\r\n\t\t\"        #define FXAA_FAST_PIXEL_OFFSET 1\",\r\n\t\t\"    #endif\",\r\n\t\t\"    #ifdef GL_NV_gpu_shader5\",\r\n\t\t\"        #define FXAA_FAST_PIXEL_OFFSET 1\",\r\n\t\t\"    #endif\",\r\n\t\t\"    #ifdef GL_ARB_gpu_shader5\",\r\n\t\t\"        #define FXAA_FAST_PIXEL_OFFSET 1\",\r\n\t\t\"    #endif\",\r\n\t\t\"    #ifndef FXAA_FAST_PIXEL_OFFSET\",\r\n\t\t\"        #define FXAA_FAST_PIXEL_OFFSET 0\",\r\n\t\t\"    #endif\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#ifndef FXAA_GATHER4_ALPHA\",\r\n\t\t\"    //\",\r\n\t\t\"    // 1 = API supports gather4 on alpha channel.\",\r\n\t\t\"    // 0 = API does not support gather4 on alpha channel.\",\r\n\t\t\"    //\",\r\n\t\t\"    #if (FXAA_HLSL_5 == 1)\",\r\n\t\t\"        #define FXAA_GATHER4_ALPHA 1\",\r\n\t\t\"    #endif\",\r\n\t\t\"    #ifdef GL_ARB_gpu_shader5\",\r\n\t\t\"        #define FXAA_GATHER4_ALPHA 1\",\r\n\t\t\"    #endif\",\r\n\t\t\"    #ifdef GL_NV_gpu_shader5\",\r\n\t\t\"        #define FXAA_GATHER4_ALPHA 1\",\r\n\t\t\"    #endif\",\r\n\t\t\"    #ifndef FXAA_GATHER4_ALPHA\",\r\n\t\t\"        #define FXAA_GATHER4_ALPHA 0\",\r\n\t\t\"    #endif\",\r\n\t\t\"#endif\",\r\n\t\t\"\",\r\n\t\t\"\",\r\n\t\t\"/*============================================================================\",\r\n\t\t\"                        FXAA QUALITY - TUNING KNOBS\",\r\n\t\t\"------------------------------------------------------------------------------\",\r\n\t\t\"NOTE the other tuning knobs are now in the shader function inputs!\",\r\n\t\t\"============================================================================*/\",\r\n\t\t\"#ifndef FXAA_QUALITY_PRESET\",\r\n\t\t\"    //\",\r\n\t\t\"    // Choose the quality preset.\",\r\n\t\t\"    // This needs to be compiled into the shader as it effects code.\",\r\n\t\t\"    // Best option to include multiple presets is to\",\r\n\t\t\"    // in each shader define the preset, then include this file.\",\r\n\t\t\"    //\",\r\n\t\t\"    // OPTIONS\",\r\n\t\t\"    // -----------------------------------------------------------------------\",\r\n\t\t\"    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)\",\r\n\t\t\"    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)\",\r\n\t\t\"    // 39       - no dither, very expensive\",\r\n\t\t\"    //\",\r\n\t\t\"    // NOTES\",\r\n\t\t\"    // -----------------------------------------------------------------------\",\r\n\t\t\"    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)\",\r\n\t\t\"    // 13 = about same speed as FXAA 3.9 and better than 12\",\r\n\t\t\"    // 23 = closest to FXAA 3.9 visually and performance wise\",\r\n\t\t\"    //  _ = the lowest digit is directly related to performance\",\r\n\t\t\"    // _  = the highest digit is directly related to style\",\r\n\t\t\"    //\",\r\n\t\t\"    #define FXAA_QUALITY_PRESET 12\",\r\n\t\t\"#endif\",\r\n\t\t\"\",\r\n\t\t\"\",\r\n\t\t\"/*============================================================================\",\r\n\t\t\"\",\r\n\t\t\"                           FXAA QUALITY - PRESETS\",\r\n\t\t\"\",\r\n\t\t\"============================================================================*/\",\r\n\t\t\"\",\r\n\t\t\"/*============================================================================\",\r\n\t\t\"                     FXAA QUALITY - MEDIUM DITHER PRESETS\",\r\n\t\t\"============================================================================*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 10)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 3\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P1 3.0\",\r\n\t\t\"    #define FXAA_QUALITY_P2 12.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 11)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 4\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 3.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 12.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 12)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 5\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 4.0\",\r\n\t\t\"    #define FXAA_QUALITY_P4 12.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 13)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 6\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P4 4.0\",\r\n\t\t\"    #define FXAA_QUALITY_P5 12.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 14)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 7\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P4 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P5 4.0\",\r\n\t\t\"    #define FXAA_QUALITY_P6 12.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 15)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 8\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P4 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P5 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P6 4.0\",\r\n\t\t\"    #define FXAA_QUALITY_P7 12.0\",\r\n\t\t\"#endif\",\r\n\t\t\"\",\r\n\t\t\"/*============================================================================\",\r\n\t\t\"                     FXAA QUALITY - LOW DITHER PRESETS\",\r\n\t\t\"============================================================================*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 20)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 3\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P1 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P2 8.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 21)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 4\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 8.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 22)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 5\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P4 8.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 23)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 6\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P4 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P5 8.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 24)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 7\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P4 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P5 3.0\",\r\n\t\t\"    #define FXAA_QUALITY_P6 8.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 25)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 8\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P4 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P5 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P6 4.0\",\r\n\t\t\"    #define FXAA_QUALITY_P7 8.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 26)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 9\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P4 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P5 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P6 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P7 4.0\",\r\n\t\t\"    #define FXAA_QUALITY_P8 8.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 27)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 10\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P4 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P5 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P6 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P7 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P8 4.0\",\r\n\t\t\"    #define FXAA_QUALITY_P9 8.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 28)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 11\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P4 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P5 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P6 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P7 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P8 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P9 4.0\",\r\n\t\t\"    #define FXAA_QUALITY_P10 8.0\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 29)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 12\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P2 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P4 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P5 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P6 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P7 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P8 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P9 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P10 4.0\",\r\n\t\t\"    #define FXAA_QUALITY_P11 8.0\",\r\n\t\t\"#endif\",\r\n\t\t\"\",\r\n\t\t\"/*============================================================================\",\r\n\t\t\"                     FXAA QUALITY - EXTREME QUALITY\",\r\n\t\t\"============================================================================*/\",\r\n\t\t\"#if (FXAA_QUALITY_PRESET == 39)\",\r\n\t\t\"    #define FXAA_QUALITY_PS 12\",\r\n\t\t\"    #define FXAA_QUALITY_P0 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P1 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P2 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P3 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P4 1.0\",\r\n\t\t\"    #define FXAA_QUALITY_P5 1.5\",\r\n\t\t\"    #define FXAA_QUALITY_P6 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P7 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P8 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P9 2.0\",\r\n\t\t\"    #define FXAA_QUALITY_P10 4.0\",\r\n\t\t\"    #define FXAA_QUALITY_P11 8.0\",\r\n\t\t\"#endif\",\r\n\t\t\"\",\r\n\t\t\"\",\r\n\t\t\"\",\r\n\t\t\"/*============================================================================\",\r\n\t\t\"\",\r\n\t\t\"                                API PORTING\",\r\n\t\t\"\",\r\n\t\t\"============================================================================*/\",\r\n\t\t\"#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)\",\r\n\t\t\"    #define FxaaBool bool\",\r\n\t\t\"    #define FxaaDiscard discard\",\r\n\t\t\"    #define FxaaFloat float\",\r\n\t\t\"    #define FxaaFloat2 vec2\",\r\n\t\t\"    #define FxaaFloat3 vec3\",\r\n\t\t\"    #define FxaaFloat4 vec4\",\r\n\t\t\"    #define FxaaHalf float\",\r\n\t\t\"    #define FxaaHalf2 vec2\",\r\n\t\t\"    #define FxaaHalf3 vec3\",\r\n\t\t\"    #define FxaaHalf4 vec4\",\r\n\t\t\"    #define FxaaInt2 ivec2\",\r\n\t\t\"    #define FxaaSat(x) clamp(x, 0.0, 1.0)\",\r\n\t\t\"    #define FxaaTex sampler2D\",\r\n\t\t\"#else\",\r\n\t\t\"    #define FxaaBool bool\",\r\n\t\t\"    #define FxaaDiscard clip(-1)\",\r\n\t\t\"    #define FxaaFloat float\",\r\n\t\t\"    #define FxaaFloat2 float2\",\r\n\t\t\"    #define FxaaFloat3 float3\",\r\n\t\t\"    #define FxaaFloat4 float4\",\r\n\t\t\"    #define FxaaHalf half\",\r\n\t\t\"    #define FxaaHalf2 half2\",\r\n\t\t\"    #define FxaaHalf3 half3\",\r\n\t\t\"    #define FxaaHalf4 half4\",\r\n\t\t\"    #define FxaaSat(x) saturate(x)\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_GLSL_100 == 1)\",\r\n\t\t\"  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)\",\r\n\t\t\"  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_GLSL_120 == 1)\",\r\n\t\t\"    // Requires,\",\r\n\t\t\"    //  #version 120\",\r\n\t\t\"    // And at least,\",\r\n\t\t\"    //  #extension GL_EXT_gpu_shader4 : enable\",\r\n\t\t\"    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)\",\r\n\t\t\"    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)\",\r\n\t\t\"    #if (FXAA_FAST_PIXEL_OFFSET == 1)\",\r\n\t\t\"        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)\",\r\n\t\t\"    #else\",\r\n\t\t\"        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)\",\r\n\t\t\"    #endif\",\r\n\t\t\"    #if (FXAA_GATHER4_ALPHA == 1)\",\r\n\t\t\"        // use #extension GL_ARB_gpu_shader5 : enable\",\r\n\t\t\"        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\",\r\n\t\t\"        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\",\r\n\t\t\"        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\",\r\n\t\t\"        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\",\r\n\t\t\"    #endif\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_GLSL_130 == 1)\",\r\n\t\t\"    // Requires \\\"#version 130\\\" or better\",\r\n\t\t\"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)\",\r\n\t\t\"    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)\",\r\n\t\t\"    #if (FXAA_GATHER4_ALPHA == 1)\",\r\n\t\t\"        // use #extension GL_ARB_gpu_shader5 : enable\",\r\n\t\t\"        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\",\r\n\t\t\"        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\",\r\n\t\t\"        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\",\r\n\t\t\"        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\",\r\n\t\t\"    #endif\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_HLSL_3 == 1)\",\r\n\t\t\"    #define FxaaInt2 float2\",\r\n\t\t\"    #define FxaaTex sampler2D\",\r\n\t\t\"    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))\",\r\n\t\t\"    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_HLSL_4 == 1)\",\r\n\t\t\"    #define FxaaInt2 int2\",\r\n\t\t\"    struct FxaaTex { SamplerState smpl; Texture2D tex; };\",\r\n\t\t\"    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\",\r\n\t\t\"    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\",\r\n\t\t\"#endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"#if (FXAA_HLSL_5 == 1)\",\r\n\t\t\"    #define FxaaInt2 int2\",\r\n\t\t\"    struct FxaaTex { SamplerState smpl; Texture2D tex; };\",\r\n\t\t\"    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\",\r\n\t\t\"    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\",\r\n\t\t\"    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)\",\r\n\t\t\"    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)\",\r\n\t\t\"    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)\",\r\n\t\t\"    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)\",\r\n\t\t\"#endif\",\r\n\t\t\"\",\r\n\t\t\"\",\r\n\t\t\"/*============================================================================\",\r\n\t\t\"                   GREEN AS LUMA OPTION SUPPORT FUNCTION\",\r\n\t\t\"============================================================================*/\",\r\n\t\t\"#if (FXAA_GREEN_AS_LUMA == 0)\",\r\n\t\t\"    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }\",\r\n\t\t\"#else\",\r\n\t\t\"    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\",\r\n\t\t\"#endif\",\r\n\t\t\"\",\r\n\t\t\"\",\r\n\t\t\"\",\r\n\t\t\"\",\r\n\t\t\"/*============================================================================\",\r\n\t\t\"\",\r\n\t\t\"                             FXAA3 QUALITY - PC\",\r\n\t\t\"\",\r\n\t\t\"============================================================================*/\",\r\n\t\t\"#if (FXAA_PC == 1)\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"FxaaFloat4 FxaaPixelShader(\",\r\n\t\t\"    //\",\r\n\t\t\"    // Use noperspective interpolation here (turn off perspective interpolation).\",\r\n\t\t\"    // {xy} = center of pixel\",\r\n\t\t\"    FxaaFloat2 pos,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Used only for FXAA Console, and not used on the 360 version.\",\r\n\t\t\"    // Use noperspective interpolation here (turn off perspective interpolation).\",\r\n\t\t\"    // {xy_} = upper left of pixel\",\r\n\t\t\"    // {_zw} = lower right of pixel\",\r\n\t\t\"    FxaaFloat4 fxaaConsolePosPos,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Input color texture.\",\r\n\t\t\"    // {rgb_} = color in linear or perceptual color space\",\r\n\t\t\"    // if (FXAA_GREEN_AS_LUMA == 0)\",\r\n\t\t\"    //     {__a} = luma in perceptual color space (not linear)\",\r\n\t\t\"    FxaaTex tex,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Only used on the optimized 360 version of FXAA Console.\",\r\n\t\t\"    // For everything but 360, just use the same input here as for \\\"tex\\\".\",\r\n\t\t\"    // For 360, same texture, just alias with a 2nd sampler.\",\r\n\t\t\"    // This sampler needs to have an exponent bias of -1.\",\r\n\t\t\"    FxaaTex fxaaConsole360TexExpBiasNegOne,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Only used on the optimized 360 version of FXAA Console.\",\r\n\t\t\"    // For everything but 360, just use the same input here as for \\\"tex\\\".\",\r\n\t\t\"    // For 360, same texture, just alias with a 3nd sampler.\",\r\n\t\t\"    // This sampler needs to have an exponent bias of -2.\",\r\n\t\t\"    FxaaTex fxaaConsole360TexExpBiasNegTwo,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Only used on FXAA Quality.\",\r\n\t\t\"    // This must be from a constant/uniform.\",\r\n\t\t\"    // {x_} = 1.0/screenWidthInPixels\",\r\n\t\t\"    // {_y} = 1.0/screenHeightInPixels\",\r\n\t\t\"    FxaaFloat2 fxaaQualityRcpFrame,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Only used on FXAA Console.\",\r\n\t\t\"    // This must be from a constant/uniform.\",\r\n\t\t\"    // This effects sub-pixel AA quality and inversely sharpness.\",\r\n\t\t\"    //   Where N ranges between,\",\r\n\t\t\"    //     N = 0.50 (default)\",\r\n\t\t\"    //     N = 0.33 (sharper)\",\r\n\t\t\"    // {x__} = -N/screenWidthInPixels\",\r\n\t\t\"    // {_y_} = -N/screenHeightInPixels\",\r\n\t\t\"    // {_z_} =  N/screenWidthInPixels\",\r\n\t\t\"    // {__w} =  N/screenHeightInPixels\",\r\n\t\t\"    FxaaFloat4 fxaaConsoleRcpFrameOpt,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Only used on FXAA Console.\",\r\n\t\t\"    // Not used on 360, but used on PS3 and PC.\",\r\n\t\t\"    // This must be from a constant/uniform.\",\r\n\t\t\"    // {x__} = -2.0/screenWidthInPixels\",\r\n\t\t\"    // {_y_} = -2.0/screenHeightInPixels\",\r\n\t\t\"    // {_z_} =  2.0/screenWidthInPixels\",\r\n\t\t\"    // {__w} =  2.0/screenHeightInPixels\",\r\n\t\t\"    FxaaFloat4 fxaaConsoleRcpFrameOpt2,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Only used on FXAA Console.\",\r\n\t\t\"    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.\",\r\n\t\t\"    // This must be from a constant/uniform.\",\r\n\t\t\"    // {x__} =  8.0/screenWidthInPixels\",\r\n\t\t\"    // {_y_} =  8.0/screenHeightInPixels\",\r\n\t\t\"    // {_z_} = -4.0/screenWidthInPixels\",\r\n\t\t\"    // {__w} = -4.0/screenHeightInPixels\",\r\n\t\t\"    FxaaFloat4 fxaaConsole360RcpFrameOpt2,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Only used on FXAA Quality.\",\r\n\t\t\"    // This used to be the FXAA_QUALITY_SUBPIX define.\",\r\n\t\t\"    // It is here now to allow easier tuning.\",\r\n\t\t\"    // Choose the amount of sub-pixel aliasing removal.\",\r\n\t\t\"    // This can effect sharpness.\",\r\n\t\t\"    //   1.00 - upper limit (softer)\",\r\n\t\t\"    //   0.75 - default amount of filtering\",\r\n\t\t\"    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)\",\r\n\t\t\"    //   0.25 - almost off\",\r\n\t\t\"    //   0.00 - completely off\",\r\n\t\t\"    FxaaFloat fxaaQualitySubpix,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Only used on FXAA Quality.\",\r\n\t\t\"    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.\",\r\n\t\t\"    // It is here now to allow easier tuning.\",\r\n\t\t\"    // The minimum amount of local contrast required to apply algorithm.\",\r\n\t\t\"    //   0.333 - too little (faster)\",\r\n\t\t\"    //   0.250 - low quality\",\r\n\t\t\"    //   0.166 - default\",\r\n\t\t\"    //   0.125 - high quality\",\r\n\t\t\"    //   0.063 - overkill (slower)\",\r\n\t\t\"    FxaaFloat fxaaQualityEdgeThreshold,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Only used on FXAA Quality.\",\r\n\t\t\"    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.\",\r\n\t\t\"    // It is here now to allow easier tuning.\",\r\n\t\t\"    // Trims the algorithm from processing darks.\",\r\n\t\t\"    //   0.0833 - upper limit (default, the start of visible unfiltered edges)\",\r\n\t\t\"    //   0.0625 - high quality (faster)\",\r\n\t\t\"    //   0.0312 - visible limit (slower)\",\r\n\t\t\"    // Special notes when using FXAA_GREEN_AS_LUMA,\",\r\n\t\t\"    //   Likely want to set this to zero.\",\r\n\t\t\"    //   As colors that are mostly not-green\",\r\n\t\t\"    //   will appear very dark in the green channel!\",\r\n\t\t\"    //   Tune by looking at mostly non-green content,\",\r\n\t\t\"    //   then start at zero and increase until aliasing is a problem.\",\r\n\t\t\"    FxaaFloat fxaaQualityEdgeThresholdMin,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Only used on FXAA Console.\",\r\n\t\t\"    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.\",\r\n\t\t\"    // It is here now to allow easier tuning.\",\r\n\t\t\"    // This does not effect PS3, as this needs to be compiled in.\",\r\n\t\t\"    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.\",\r\n\t\t\"    //   Due to the PS3 being ALU bound,\",\r\n\t\t\"    //   there are only three safe values here: 2 and 4 and 8.\",\r\n\t\t\"    //   These options use the shaders ability to a free *|/ by 2|4|8.\",\r\n\t\t\"    // For all other platforms can be a non-power of two.\",\r\n\t\t\"    //   8.0 is sharper (default!!!)\",\r\n\t\t\"    //   4.0 is softer\",\r\n\t\t\"    //   2.0 is really soft (good only for vector graphics inputs)\",\r\n\t\t\"    FxaaFloat fxaaConsoleEdgeSharpness,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Only used on FXAA Console.\",\r\n\t\t\"    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.\",\r\n\t\t\"    // It is here now to allow easier tuning.\",\r\n\t\t\"    // This does not effect PS3, as this needs to be compiled in.\",\r\n\t\t\"    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.\",\r\n\t\t\"    //   Due to the PS3 being ALU bound,\",\r\n\t\t\"    //   there are only two safe values here: 1/4 and 1/8.\",\r\n\t\t\"    //   These options use the shaders ability to a free *|/ by 2|4|8.\",\r\n\t\t\"    // The console setting has a different mapping than the quality setting.\",\r\n\t\t\"    // Other platforms can use other values.\",\r\n\t\t\"    //   0.125 leaves less aliasing, but is softer (default!!!)\",\r\n\t\t\"    //   0.25 leaves more aliasing, and is sharper\",\r\n\t\t\"    FxaaFloat fxaaConsoleEdgeThreshold,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Only used on FXAA Console.\",\r\n\t\t\"    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.\",\r\n\t\t\"    // It is here now to allow easier tuning.\",\r\n\t\t\"    // Trims the algorithm from processing darks.\",\r\n\t\t\"    // The console setting has a different mapping than the quality setting.\",\r\n\t\t\"    // This only applies when FXAA_EARLY_EXIT is 1.\",\r\n\t\t\"    // This does not apply to PS3,\",\r\n\t\t\"    // PS3 was simplified to avoid more shader instructions.\",\r\n\t\t\"    //   0.06 - faster but more aliasing in darks\",\r\n\t\t\"    //   0.05 - default\",\r\n\t\t\"    //   0.04 - slower and less aliasing in darks\",\r\n\t\t\"    // Special notes when using FXAA_GREEN_AS_LUMA,\",\r\n\t\t\"    //   Likely want to set this to zero.\",\r\n\t\t\"    //   As colors that are mostly not-green\",\r\n\t\t\"    //   will appear very dark in the green channel!\",\r\n\t\t\"    //   Tune by looking at mostly non-green content,\",\r\n\t\t\"    //   then start at zero and increase until aliasing is a problem.\",\r\n\t\t\"    FxaaFloat fxaaConsoleEdgeThresholdMin,\",\r\n\t\t\"    //\",\r\n\t\t\"    // Extra constants for 360 FXAA Console only.\",\r\n\t\t\"    // Use zeros or anything else for other platforms.\",\r\n\t\t\"    // These must be in physical constant registers and NOT immedates.\",\r\n\t\t\"    // Immedates will result in compiler un-optimizing.\",\r\n\t\t\"    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)\",\r\n\t\t\"    FxaaFloat4 fxaaConsole360ConstDir\",\r\n\t\t\") {\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    FxaaFloat2 posM;\",\r\n\t\t\"    posM.x = pos.x;\",\r\n\t\t\"    posM.y = pos.y;\",\r\n\t\t\"    #if (FXAA_GATHER4_ALPHA == 1)\",\r\n\t\t\"        #if (FXAA_DISCARD == 0)\",\r\n\t\t\"            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\",\r\n\t\t\"            #if (FXAA_GREEN_AS_LUMA == 0)\",\r\n\t\t\"                #define lumaM rgbyM.w\",\r\n\t\t\"            #else\",\r\n\t\t\"                #define lumaM rgbyM.y\",\r\n\t\t\"            #endif\",\r\n\t\t\"        #endif\",\r\n\t\t\"        #if (FXAA_GREEN_AS_LUMA == 0)\",\r\n\t\t\"            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);\",\r\n\t\t\"            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));\",\r\n\t\t\"        #else\",\r\n\t\t\"            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);\",\r\n\t\t\"            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));\",\r\n\t\t\"        #endif\",\r\n\t\t\"        #if (FXAA_DISCARD == 1)\",\r\n\t\t\"            #define lumaM luma4A.w\",\r\n\t\t\"        #endif\",\r\n\t\t\"        #define lumaE luma4A.z\",\r\n\t\t\"        #define lumaS luma4A.x\",\r\n\t\t\"        #define lumaSE luma4A.y\",\r\n\t\t\"        #define lumaNW luma4B.w\",\r\n\t\t\"        #define lumaN luma4B.z\",\r\n\t\t\"        #define lumaW luma4B.x\",\r\n\t\t\"    #else\",\r\n\t\t\"        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\",\r\n\t\t\"        #if (FXAA_GREEN_AS_LUMA == 0)\",\r\n\t\t\"            #define lumaM rgbyM.w\",\r\n\t\t\"        #else\",\r\n\t\t\"            #define lumaM rgbyM.y\",\r\n\t\t\"        #endif\",\r\n\t\t\"        #if (FXAA_GLSL_100 == 1)\",\r\n\t\t\"          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"        #else\",\r\n\t\t\"          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"        #endif\",\r\n\t\t\"    #endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    FxaaFloat maxSM = max(lumaS, lumaM);\",\r\n\t\t\"    FxaaFloat minSM = min(lumaS, lumaM);\",\r\n\t\t\"    FxaaFloat maxESM = max(lumaE, maxSM);\",\r\n\t\t\"    FxaaFloat minESM = min(lumaE, minSM);\",\r\n\t\t\"    FxaaFloat maxWN = max(lumaN, lumaW);\",\r\n\t\t\"    FxaaFloat minWN = min(lumaN, lumaW);\",\r\n\t\t\"    FxaaFloat rangeMax = max(maxWN, maxESM);\",\r\n\t\t\"    FxaaFloat rangeMin = min(minWN, minESM);\",\r\n\t\t\"    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\",\r\n\t\t\"    FxaaFloat range = rangeMax - rangeMin;\",\r\n\t\t\"    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\",\r\n\t\t\"    FxaaBool earlyExit = range < rangeMaxClamped;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    if(earlyExit)\",\r\n\t\t\"        #if (FXAA_DISCARD == 1)\",\r\n\t\t\"            FxaaDiscard;\",\r\n\t\t\"        #else\",\r\n\t\t\"            return rgbyM;\",\r\n\t\t\"        #endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    #if (FXAA_GATHER4_ALPHA == 0)\",\r\n\t\t\"        #if (FXAA_GLSL_100 == 1)\",\r\n\t\t\"          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"        #else\",\r\n\t\t\"          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"        #endif\",\r\n\t\t\"    #else\",\r\n\t\t\"        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\",\r\n\t\t\"    #endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    FxaaFloat lumaNS = lumaN + lumaS;\",\r\n\t\t\"    FxaaFloat lumaWE = lumaW + lumaE;\",\r\n\t\t\"    FxaaFloat subpixRcpRange = 1.0/range;\",\r\n\t\t\"    FxaaFloat subpixNSWE = lumaNS + lumaWE;\",\r\n\t\t\"    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\",\r\n\t\t\"    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    FxaaFloat lumaNESE = lumaNE + lumaSE;\",\r\n\t\t\"    FxaaFloat lumaNWNE = lumaNW + lumaNE;\",\r\n\t\t\"    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\",\r\n\t\t\"    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    FxaaFloat lumaNWSW = lumaNW + lumaSW;\",\r\n\t\t\"    FxaaFloat lumaSWSE = lumaSW + lumaSE;\",\r\n\t\t\"    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\",\r\n\t\t\"    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\",\r\n\t\t\"    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\",\r\n\t\t\"    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\",\r\n\t\t\"    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\",\r\n\t\t\"    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\",\r\n\t\t\"    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;\",\r\n\t\t\"    FxaaBool horzSpan = edgeHorz >= edgeVert;\",\r\n\t\t\"    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    if(!horzSpan) lumaN = lumaW;\",\r\n\t\t\"    if(!horzSpan) lumaS = lumaE;\",\r\n\t\t\"    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\",\r\n\t\t\"    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    FxaaFloat gradientN = lumaN - lumaM;\",\r\n\t\t\"    FxaaFloat gradientS = lumaS - lumaM;\",\r\n\t\t\"    FxaaFloat lumaNN = lumaN + lumaM;\",\r\n\t\t\"    FxaaFloat lumaSS = lumaS + lumaM;\",\r\n\t\t\"    FxaaBool pairN = abs(gradientN) >= abs(gradientS);\",\r\n\t\t\"    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));\",\r\n\t\t\"    if(pairN) lengthSign = -lengthSign;\",\r\n\t\t\"    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    FxaaFloat2 posB;\",\r\n\t\t\"    posB.x = posM.x;\",\r\n\t\t\"    posB.y = posM.y;\",\r\n\t\t\"    FxaaFloat2 offNP;\",\r\n\t\t\"    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\",\r\n\t\t\"    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\",\r\n\t\t\"    if(!horzSpan) posB.x += lengthSign * 0.5;\",\r\n\t\t\"    if( horzSpan) posB.y += lengthSign * 0.5;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    FxaaFloat2 posN;\",\r\n\t\t\"    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\",\r\n\t\t\"    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\",\r\n\t\t\"    FxaaFloat2 posP;\",\r\n\t\t\"    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\",\r\n\t\t\"    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\",\r\n\t\t\"    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\",\r\n\t\t\"    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\",\r\n\t\t\"    FxaaFloat subpixE = subpixC * subpixC;\",\r\n\t\t\"    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    if(!pairN) lumaNN = lumaSS;\",\r\n\t\t\"    FxaaFloat gradientScaled = gradient * 1.0/4.0;\",\r\n\t\t\"    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;\",\r\n\t\t\"    FxaaFloat subpixF = subpixD * subpixE;\",\r\n\t\t\"    FxaaBool lumaMLTZero = lumaMM < 0.0;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    lumaEndN -= lumaNN * 0.5;\",\r\n\t\t\"    lumaEndP -= lumaNN * 0.5;\",\r\n\t\t\"    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;\",\r\n\t\t\"    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;\",\r\n\t\t\"    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\",\r\n\t\t\"    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\",\r\n\t\t\"    FxaaBool doneNP = (!doneN) || (!doneP);\",\r\n\t\t\"    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\",\r\n\t\t\"    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    if(doneNP) {\",\r\n\t\t\"        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\r\n\t\t\"        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\r\n\t\t\"        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\r\n\t\t\"        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\r\n\t\t\"        doneN = abs(lumaEndN) >= gradientScaled;\",\r\n\t\t\"        doneP = abs(lumaEndP) >= gradientScaled;\",\r\n\t\t\"        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;\",\r\n\t\t\"        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;\",\r\n\t\t\"        doneNP = (!doneN) || (!doneP);\",\r\n\t\t\"        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;\",\r\n\t\t\"        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"        #if (FXAA_QUALITY_PS > 3)\",\r\n\t\t\"        if(doneNP) {\",\r\n\t\t\"            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\r\n\t\t\"            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\r\n\t\t\"            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\r\n\t\t\"            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\r\n\t\t\"            doneN = abs(lumaEndN) >= gradientScaled;\",\r\n\t\t\"            doneP = abs(lumaEndP) >= gradientScaled;\",\r\n\t\t\"            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;\",\r\n\t\t\"            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;\",\r\n\t\t\"            doneNP = (!doneN) || (!doneP);\",\r\n\t\t\"            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;\",\r\n\t\t\"            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"            #if (FXAA_QUALITY_PS > 4)\",\r\n\t\t\"            if(doneNP) {\",\r\n\t\t\"                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\r\n\t\t\"                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\r\n\t\t\"                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\r\n\t\t\"                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\r\n\t\t\"                doneN = abs(lumaEndN) >= gradientScaled;\",\r\n\t\t\"                doneP = abs(lumaEndP) >= gradientScaled;\",\r\n\t\t\"                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;\",\r\n\t\t\"                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;\",\r\n\t\t\"                doneNP = (!doneN) || (!doneP);\",\r\n\t\t\"                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;\",\r\n\t\t\"                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"                #if (FXAA_QUALITY_PS > 5)\",\r\n\t\t\"                if(doneNP) {\",\r\n\t\t\"                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\r\n\t\t\"                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\r\n\t\t\"                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\r\n\t\t\"                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\r\n\t\t\"                    doneN = abs(lumaEndN) >= gradientScaled;\",\r\n\t\t\"                    doneP = abs(lumaEndP) >= gradientScaled;\",\r\n\t\t\"                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;\",\r\n\t\t\"                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;\",\r\n\t\t\"                    doneNP = (!doneN) || (!doneP);\",\r\n\t\t\"                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;\",\r\n\t\t\"                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"                    #if (FXAA_QUALITY_PS > 6)\",\r\n\t\t\"                    if(doneNP) {\",\r\n\t\t\"                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\r\n\t\t\"                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\r\n\t\t\"                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\r\n\t\t\"                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\r\n\t\t\"                        doneN = abs(lumaEndN) >= gradientScaled;\",\r\n\t\t\"                        doneP = abs(lumaEndP) >= gradientScaled;\",\r\n\t\t\"                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;\",\r\n\t\t\"                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;\",\r\n\t\t\"                        doneNP = (!doneN) || (!doneP);\",\r\n\t\t\"                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;\",\r\n\t\t\"                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"                        #if (FXAA_QUALITY_PS > 7)\",\r\n\t\t\"                        if(doneNP) {\",\r\n\t\t\"                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\r\n\t\t\"                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\r\n\t\t\"                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\r\n\t\t\"                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\r\n\t\t\"                            doneN = abs(lumaEndN) >= gradientScaled;\",\r\n\t\t\"                            doneP = abs(lumaEndP) >= gradientScaled;\",\r\n\t\t\"                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;\",\r\n\t\t\"                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;\",\r\n\t\t\"                            doneNP = (!doneN) || (!doneP);\",\r\n\t\t\"                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;\",\r\n\t\t\"                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    #if (FXAA_QUALITY_PS > 8)\",\r\n\t\t\"    if(doneNP) {\",\r\n\t\t\"        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\r\n\t\t\"        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\r\n\t\t\"        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\r\n\t\t\"        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\r\n\t\t\"        doneN = abs(lumaEndN) >= gradientScaled;\",\r\n\t\t\"        doneP = abs(lumaEndP) >= gradientScaled;\",\r\n\t\t\"        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;\",\r\n\t\t\"        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;\",\r\n\t\t\"        doneNP = (!doneN) || (!doneP);\",\r\n\t\t\"        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;\",\r\n\t\t\"        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"        #if (FXAA_QUALITY_PS > 9)\",\r\n\t\t\"        if(doneNP) {\",\r\n\t\t\"            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\r\n\t\t\"            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\r\n\t\t\"            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\r\n\t\t\"            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\r\n\t\t\"            doneN = abs(lumaEndN) >= gradientScaled;\",\r\n\t\t\"            doneP = abs(lumaEndP) >= gradientScaled;\",\r\n\t\t\"            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;\",\r\n\t\t\"            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;\",\r\n\t\t\"            doneNP = (!doneN) || (!doneP);\",\r\n\t\t\"            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;\",\r\n\t\t\"            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"            #if (FXAA_QUALITY_PS > 10)\",\r\n\t\t\"            if(doneNP) {\",\r\n\t\t\"                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\r\n\t\t\"                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\r\n\t\t\"                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\r\n\t\t\"                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\r\n\t\t\"                doneN = abs(lumaEndN) >= gradientScaled;\",\r\n\t\t\"                doneP = abs(lumaEndP) >= gradientScaled;\",\r\n\t\t\"                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;\",\r\n\t\t\"                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;\",\r\n\t\t\"                doneNP = (!doneN) || (!doneP);\",\r\n\t\t\"                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;\",\r\n\t\t\"                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"                #if (FXAA_QUALITY_PS > 11)\",\r\n\t\t\"                if(doneNP) {\",\r\n\t\t\"                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\r\n\t\t\"                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\r\n\t\t\"                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\r\n\t\t\"                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\r\n\t\t\"                    doneN = abs(lumaEndN) >= gradientScaled;\",\r\n\t\t\"                    doneP = abs(lumaEndP) >= gradientScaled;\",\r\n\t\t\"                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;\",\r\n\t\t\"                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;\",\r\n\t\t\"                    doneNP = (!doneN) || (!doneP);\",\r\n\t\t\"                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;\",\r\n\t\t\"                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"                    #if (FXAA_QUALITY_PS > 12)\",\r\n\t\t\"                    if(doneNP) {\",\r\n\t\t\"                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\",\r\n\t\t\"                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\",\r\n\t\t\"                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\",\r\n\t\t\"                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\",\r\n\t\t\"                        doneN = abs(lumaEndN) >= gradientScaled;\",\r\n\t\t\"                        doneP = abs(lumaEndP) >= gradientScaled;\",\r\n\t\t\"                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;\",\r\n\t\t\"                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;\",\r\n\t\t\"                        doneNP = (!doneN) || (!doneP);\",\r\n\t\t\"                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;\",\r\n\t\t\"                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"                    }\",\r\n\t\t\"                    #endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"                }\",\r\n\t\t\"                #endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"            }\",\r\n\t\t\"            #endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"        }\",\r\n\t\t\"        #endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    }\",\r\n\t\t\"    #endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"                        }\",\r\n\t\t\"                        #endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"                    }\",\r\n\t\t\"                    #endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"                }\",\r\n\t\t\"                #endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"            }\",\r\n\t\t\"            #endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"        }\",\r\n\t\t\"        #endif\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    }\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    FxaaFloat dstN = posM.x - posN.x;\",\r\n\t\t\"    FxaaFloat dstP = posP.x - posM.x;\",\r\n\t\t\"    if(!horzSpan) dstN = posM.y - posN.y;\",\r\n\t\t\"    if(!horzSpan) dstP = posP.y - posM.y;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\",\r\n\t\t\"    FxaaFloat spanLength = (dstP + dstN);\",\r\n\t\t\"    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\",\r\n\t\t\"    FxaaFloat spanLengthRcp = 1.0/spanLength;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    FxaaBool directionN = dstN < dstP;\",\r\n\t\t\"    FxaaFloat dst = min(dstN, dstP);\",\r\n\t\t\"    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\",\r\n\t\t\"    FxaaFloat subpixG = subpixF * subpixF;\",\r\n\t\t\"    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\",\r\n\t\t\"    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;\",\r\n\t\t\"/*--------------------------------------------------------------------------*/\",\r\n\t\t\"    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\",\r\n\t\t\"    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\",\r\n\t\t\"    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\",\r\n\t\t\"    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\",\r\n\t\t\"    #if (FXAA_DISCARD == 1)\",\r\n\t\t\"        return FxaaTexTop(tex, posM);\",\r\n\t\t\"    #else\",\r\n\t\t\"        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);\",\r\n\t\t\"    #endif\",\r\n\t\t\"}\",\r\n\t\t\"/*==========================================================================*/\",\r\n\t\t\"#endif\",\r\n\t\t\"\",\r\n\t\t\"void main() {\",\r\n\t\t\"  gl_FragColor = FxaaPixelShader(\",\r\n\t\t\"    vUv,\",\r\n\t\t\"    vec4(0.0),\",\r\n\t\t\"    tDiffuse,\",\r\n\t\t\"    tDiffuse,\",\r\n\t\t\"    tDiffuse,\",\r\n\t\t\"    resolution,\",\r\n\t\t\"    vec4(0.0),\",\r\n\t\t\"    vec4(0.0),\",\r\n\t\t\"    vec4(0.0),\",\r\n\t\t\"    0.75,\",\r\n\t\t\"    0.166,\",\r\n\t\t\"    0.0833,\",\r\n\t\t\"    0.0,\",\r\n\t\t\"    0.0,\",\r\n\t\t\"    0.0,\",\r\n\t\t\"    vec4(0.0)\",\r\n\t\t\"  );\",\r\n\t\t\"\",\r\n\t\t\"  // TODO avoid querying texture twice for same texel\",\r\n\t\t\"  gl_FragColor.a = texture2D(tDiffuse, vUv).a;\",\r\n\t\t\"}\"\r\n\t].join( \"\\n\" )\r\n\r\n};\r\n\r\nexport {\r\n\tFXAAShader\r\n};\r\n","let _extends = ( des, src, over ) => {\r\n\r\n\tlet res = _extend( des, src, over );\r\n\r\n\tfunction _extend( des, src, over ) {\r\n\r\n\t\tlet override = true;\r\n\t\tif ( over === false ) {\r\n\r\n\t\t\toverride = false;\r\n\r\n\t\t}\r\n\t\tif ( src instanceof Array ) {\r\n\r\n\t\t\tfor ( let i = 0, len = src.length; i < len; i ++ )\r\n\t\t\t\t_extend( des, src[ i ], override );\r\n\r\n\t\t}\r\n\t\tfor ( let i in src ) {\r\n\r\n\t\t\tif ( override || ! ( i in des ) ) {\r\n\r\n\t\t\t\tdes[ i ] = src[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn des;\r\n\r\n\t}\r\n\tfor ( let i in src ) {\r\n\r\n\t\tdelete res[ i ];\r\n\r\n\t}\r\n\treturn res;\r\n\r\n};\r\n\r\nexport {\r\n\t_extends\r\n};\r\n","let rndInt = ( max ) => {\r\n\r\n\treturn Math.floor( Math.random() * max );\r\n\r\n};\r\nexport {\r\n\trndInt\r\n};\r\n","let rndString = ( len ) => {\r\n\r\n\tif ( len <= 0 ) {\r\n\r\n\t\treturn '';\r\n\r\n\t}\r\n\tlen = len - 1 || 31;\r\n\tlet $chars =\r\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\tlet maxPos = $chars.length + 1;\r\n\tlet pwd = $chars.charAt( Math.floor( Math.random() * ( maxPos - 10 ) ) );\r\n\tfor ( let i = 0; i < len; i ++ ) {\r\n\r\n\t\tpwd += $chars.charAt( Math.floor( Math.random() * maxPos ) );\r\n\r\n\t}\r\n\treturn pwd;\r\n\r\n};\r\n\r\nexport {\r\n\trndString\r\n};\r\n","import { Vector3 } from 'three';\r\n\r\nlet geoToCartesian = ( lat = 0, lon = 0, radius = 1 ) => {\r\n\r\n\tlat *= Math.PI / 180;\r\n\tlon *= Math.PI / 180;\r\n\treturn new Vector3( - radius * Math.cos( lat ) * Math.cos( lon ),\r\n\t\tradius * Math.sin( lat ),\r\n\t\tradius * Math.cos( lat ) * Math.sin( lon )\r\n\t);\r\n\r\n};\r\n\r\nexport {\r\n\tgeoToCartesian\r\n};\r\n","import { _extends as extend } from './extends';\r\nimport { rndInt } from './rndInt';\r\nimport { rndString } from './rndString';\r\nimport { geoToCartesian } from './geoToCartesian';\r\n\r\nlet Util = {\r\n\textend,\r\n\trndInt,\r\n\trndString,\r\n\tgeoToCartesian\r\n};\r\n\r\nexport {\r\n\tUtil\r\n};\r\n","/* eslint-disable */\r\n\r\nexport DefaultSettings from './core/settings/DefaultSettings.js';\r\nexport App from './core/App.js';\r\nexport Bind from './core/Bind.js';\r\nexport FBOWorld from './core/FBOWorld.js';\r\nexport LoopManager from './core/LoopManager.js';\r\nexport Monitor from './core/Monitor.js';\r\nexport { QRCode } from './core/QRCode.js';\r\nexport Transitioner from './core/Transitioner.js';\r\nexport View from './core/View.js';\r\nexport VR from './core/VR.js';\r\nexport World from './core/World.js';\r\n\r\nexport NotFunctionError from './error/NotFunctionError.js';\r\n\r\nexport EventManager from './events/EventManager.js';\r\nexport Events from './events/Events.js';\r\nexport FBOEventMapper from './events/FBOEventMapper.js';\r\nexport Signal from './events/Signal.js';\r\n\r\nexport { GUI, Body, Txt, Div } from './gui/GUI.js';\r\n\r\nexport LoaderFactory from './loader/LoaderFactory.js';\r\n\r\nexport EffectComposer from './postprocessing/EffectComposer.js';\r\n\r\nexport { AfterimagePass } from './postprocessing/AfterimagePass.js';\r\nexport { Pass } from './postprocessing/Pass.js';\r\nexport { DotScreenPass } from './postprocessing/DotScreenPass.js';\r\nexport { RenderPass } from './postprocessing/RenderPass.js';\r\nexport { ShaderPass } from './postprocessing/ShaderPass.js';\r\nexport { GlitchPass } from './postprocessing/GlitchPass.js';\r\nexport { OutlinePass } from './postprocessing/OutlinePass.js';\r\nexport { WatercolorPass } from './postprocessing/WatercolorPass.js';\r\nexport { TestPass } from './postprocessing/TestPass.js';\r\n\r\nexport { AfterimageShader } from './postprocessing/shader/AfterimageShader.js';\r\nexport { CopyShader } from './postprocessing/shader/CopyShader.js';\r\nexport { DotScreenShader } from './postprocessing/shader/DotScreenShader.js';\r\nexport { FXAAShader } from './postprocessing/shader/FXAAShader.js';\r\nexport { GlitchShader } from './postprocessing/shader/GlitchShader.js';\r\nexport { WatercolorShader } from './postprocessing/shader/WatercolorShader.js';\r\nexport { TestShader } from './postprocessing/shader/TestShader.js';\r\n\r\nexport { Util } from './util/Util.js';\r\n\r\n// //export * from './thirdparty/three.module.js';"],"names":["parent","document","body","setCommonCSS","autoStart","autoResize","VRSupport","renderer","canvas","undefined","clearColor","clearAlpha","pixelRatio","window","devicePixelRatio","precision","antialias","alpha","logarithmicDepthBuffer","preserveDrawingBuffer","normalEventList","hammerEventList","NotFunctionError","message","name","Error","LoopManager","cycleLevel","update","time","before","times","disable","functionMap","forEach","value","after","add","func","key","prototype","console","warn","set","Symbol","removeAll","clear","remove","funcOrKey","delete","Map","EventManager","world","toNovaEvent","event","changedPointers","center","Vector2","clientX","clientY","type","target","raycastCheck","vec2","x","app","getWorldWidth","y","getWorldHeight","raycaster","setFromCamera","camera","receiverMap","receivers","Array","intersect","values","intersects","intersectObjects","isDeep","i","length","object","isPenetrated","events","run","eventManager","Raycaster","centerRaycaster","selectedObj","centerSelectedObj","isDetectingEnter","options","eventItem","addEventListener","Hammer","e","hammer","domElement","on","World","logicLoop","renderLoop","resize","width","height","aspect","updateProjectionMatrix","left","right","top","bottom","scene","Scene","PerspectiveCamera","children","renderTargetParameters","minFilter","LinearFilter","magFilter","format","RGBFormat","stencilBuffer","isRTT","fbo","WebGLRenderTarget","defaultRenderID","render","defaultUpdateID","APP_STOP","APP_RUNNING","APP_PAUSE","VERSION","log","VR","display","polyfill","isOpenVR","vrEffect","getVRDisplay","createVREffect","THREE","VREffect","setSize","clientWidth","clientHeight","isOpened","updateId","WebVRPolyfill","config","q","location","search","substring","params","split","param","parseFloat","navigator","getVRDisplays","setPolyfill","then","vrDisplays","requestPresent","source","apply","thisArg","args","call","identity","nativeMax","Math","max","overRest","start","transform","arguments","index","array","otherArgs","constant","freeGlobal","global","Object","freeSelf","self","root","Function","objectProto","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","getRawTag","isOwn","tag","result","objectToString","nullTag","undefinedTag","baseGetTag","isObject","asyncTag","funcTag","genTag","proxyTag","isFunction","coreJsData","maskSrcKey","uid","exec","keys","IE_PROTO","isMasked","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","reIsNative","RegExp","replace","baseIsNative","pattern","test","getValue","getNative","defineProperty","baseSetToString","string","HOT_COUNT","HOT_SPAN","nativeNow","Date","now","shortOut","count","lastCalled","stamp","remaining","setToString","baseRest","listCacheClear","__data__","size","eq","other","assocIndexOf","arrayProto","splice","listCacheDelete","data","lastIndex","pop","listCacheGet","listCacheHas","listCacheSet","push","ListCache","entries","entry","get","has","stackClear","stackDelete","stackGet","stackHas","nativeCreate","hashClear","hashDelete","HASH_UNDEFINED","hashGet","hashHas","hashSet","Hash","mapCacheClear","isKeyable","getMapData","map","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","LARGE_ARRAY_SIZE","stackSet","pairs","Stack","baseAssignValue","assignMergeValue","createBaseFor","fromRight","iteratee","keysFunc","iterable","props","baseFor","freeExports","exports","nodeType","freeModule","module","moduleExports","Buffer","allocUnsafe","cloneBuffer","buffer","slice","constructor","copy","Uint8Array","cloneArrayBuffer","arrayBuffer","byteLength","cloneTypedArray","typedArray","byteOffset","copyArray","objectCreate","create","baseCreate","proto","overArg","arg","getPrototype","getPrototypeOf","isPrototype","Ctor","initCloneObject","isObjectLike","argsTag","baseIsArguments","propertyIsEnumerable","isArguments","isArray","MAX_SAFE_INTEGER","isLength","isArrayLike","isArrayLikeObject","stubFalse","nativeIsBuffer","isBuffer","objectTag","objectCtorString","isPlainObject","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","freeProcess","process","nodeUtil","types","require","binding","nodeIsTypedArray","isTypedArray","safeGet","assignValue","objValue","copyObject","customizer","isNew","newValue","baseTimes","n","reIsUint","isIndex","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","nativeKeysIn","baseKeysIn","isProto","keysIn","toPlainObject","baseMergeDeep","srcIndex","mergeFunc","stack","srcValue","stacked","isCommon","isTyped","baseMerge","customDefaultsMerge","isIterateeCall","createAssigner","assigner","sources","guard","mergeWith","defaultsDeep","App","settings","setPixelRatio","state","requestAnimationFrame","write","innerWidth","offsetWidth","innerHeight","offsetHeight","appendChild","resume","pause","destroy","openFullScreen","container","isFullScreen","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","closeFullScreen","exitFullscreen","mozCancelFullScreen","webkitExitFullScreen","msExitFullscreen","webkitCancelFullScreen","toggleFullScreen","screenshot","img","Image","src","toDataURL","w","open","title","sceneCoordinateToCanvasCoordinate","obj","worldVector","Vector3","clone","position","vector","project","halfWidth","halfHeight","round","DefaultSettings","renderOption","parentElement","WebGLRenderer","setClearColor","Bind","funcs","bindMap","defineReactive","val","enumerable","configurable","newVal","FBOWorld","Monitor","option","fullWidth","fullHeight","setViewOffset","viewX","viewY","viewWidth","viewHeight","QRMode","MODE_NUMBER","MODE_ALPHA_NUM","MODE_8BIT_BYTE","MODE_KANJI","QR8bitByte","mode","parsedData","l","byteArray","code","charCodeAt","concat","unshift","put","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","newData","row","col","makeImpl","getBestMaskPattern","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","r","c","minLostPoint","lostPoint","QRUtil","getLostPoint","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","cs","make","dark","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","j","bits","getBCHTypeNumber","mod","floor","getBCHTypeInfo","inc","bitIndex","byteIndex","mask","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLength","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","rsPoly","getErrorCorrectPolynomial","rawPoly","QRPolynomial","modPoly","modIndex","totalCodeCount","QRErrorCorrectLevel","L","M","Q","H","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","d","getBCHDigit","digit","errorCorrectLength","a","multiply","QRMath","gexp","qrCode","getModuleCount","sameCount","isDark","darkCount","ratio","abs","glog","LOG_TABLE","EXP_TABLE","num","shift","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","QRCodeLimitLength","_getTypeNumber","sText","nCorrectLevel","nType","_getUTF8Length","len","nLimit","replacedText","encodeURI","QRCode","str","correctLevel","makeCode","oQRCode","addData","CorrectLevel","Transitioner","texture","min","transition","material","uniforms","mixRatio","sceneB","sceneA","useTexture","speed","loopTexture","isAnimate","threshold","targetWorld","maskTexture","ShaderMaterial","tDiffuse1","tDiffuse2","tMixTexture","vertexShader","fragmentShader","OrthographicCamera","geometry","PlaneBufferGeometry","quad","Mesh","needChange","View","worldWidth","worldHeight","setViewport","setScissor","setScissorTest","setCacheAdd","setCacheHas","SetCache","arraySome","predicate","cacheHas","cache","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","bitmask","equalFunc","isPartial","arrLength","othLength","seen","arrValue","othValue","compared","othIndex","mapToArray","setToArray","symbolTag","symbolProto","symbolValueOf","valueOf","equalByTag","convert","arrayPush","baseGetAllKeys","symbolsFunc","arrayFilter","resIndex","stubArray","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","nativeKeys","baseKeys","getAllKeys","equalObjects","objProps","objLength","othProps","skipCtor","objCtor","othCtor","DataView","Promise","Set","WeakMap","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","resolve","ctorString","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqual","baseIsMatch","matchData","noCustomizer","isStrictComparable","getMatchData","matchesStrictComparable","baseMatches","isSymbol","reIsDeepProp","reIsPlainProp","isKey","FUNC_ERROR_TEXT","memoize","resolver","TypeError","memoized","Cache","MAX_MEMOIZE_SIZE","memoizeCapped","rePropName","reEscapeChar","stringToPath","match","number","quote","subString","arrayMap","INFINITY","symbolToString","baseToString","castPath","toKey","baseGet","path","defaultValue","baseHasIn","hasPath","hasFunc","hasIn","baseMatchesProperty","baseProperty","basePropertyDeep","property","baseIteratee","last","baseSlice","end","baseUnset","basePullAt","indexes","previous","Signal","functionArr","Events","FBOEventMapper","fboWorld","mesh","faceIndexArr","includes","faceIndex","uv","GUI","css","backgroundColor","opacity","Group","Body","lockToScreen","getWorldDirection","rotation","z","distanceFromCamera","ctx","getContext","fillStyle","fillRect","CanvasTexture","generateMipmaps","spriteMaterial","SpriteMaterial","color","element","dispose","scale","createElement","Sprite","Div","Txt","text","multiLine","fontStyle","fontVariant","fontSize","fontWeight","fontFamily","textAlign","lineHeight","MeshBasicMaterial","transparent","needsUpdate","font","textArr","fillText","LoaderFactory","manager","LoadingManager","Resource","images","materials","textures","models","sounds","fonts","unloaded","onStart","url","itemsLoaded","itemsTotal","onLoad","onProgress","onError","imageLoader","ImageLoader","textureLoader","TextureLoader","audioListener","AudioListener","sucFunc","errFunc","load","err","CopyShader","Pass","effectComposer","renderToScreen","enabled","needsSwap","addPass","ShaderPass","shader","textureID","UniformsUtils","defines","frustumCulled","writeBuffer","readBuffer","RenderPass","overrideMaterial","clearDepth","oldAutoClear","autoClear","oldClearColor","oldClearAlpha","getClearColor","getHex","getClearAlpha","MaskPass","inverse","context","buffers","setMask","setLocked","writeValue","clearValue","stencil","setTest","setOp","REPLACE","setFunc","ALWAYS","setClear","EQUAL","KEEP","ClearMaskPass","EffectComposer","renderTarget","parameters","RGBAFormat","getDrawingBufferSize","renderTarget1","renderTarget2","passes","copyPass","tmp","pass","delta","maskActive","il","stencilFunc","NOTEQUAL","swapBuffers","AfterimageShader","AfterimagePass","damp","textureComp","NearestFilter","textureOld","shaderMaterial","sceneComp","sceneScreen","quadComp","quadScreen","DotScreenShader","join","DotScreenPass","angle","GlitchShader","GlitchPass","goWild","generateHeightmap","curF","generateTrigger","random","randX","THREEMath","randFloat","PI","randInt","dataArr","Float32Array","DataTexture","FloatType","OutlinePass","resolution","selectedObjects","BlurDirectionX","BlurDirectionY","renderScene","renderCamera","visibleEdgeColor","Color","hiddenEdgeColor","edgeGlow","usePatternTexture","edgeThickness","edgeStrength","downSampleRatio","pulsePeriod","pars","resx","resy","maskBufferMaterial","side","DoubleSide","renderTargetMaskBuffer","depthMaterial","MeshDepthMaterial","depthPacking","RGBADepthPacking","blending","NoBlending","prepareMaskMaterial","getPrepareMaskMaterial","replaceDepthToViewZ","renderTargetDepthBuffer","renderTargetMaskDownSampleBuffer","renderTargetBlurBuffer1","renderTargetBlurBuffer2","edgeDetectionMaterial","getEdgeDetectionMaterial","renderTargetEdgeBuffer1","renderTargetEdgeBuffer2","MAX_EDGE_THICKNESS","MAX_EDGE_GLOW","separableBlurMaterial1","getSeperableBlurMaterial","separableBlurMaterial2","overlayMaterial","getOverlayMaterial","copyUniforms","materialCopy","depthTest","depthWrite","tempPulseColor1","tempPulseColor2","textureMatrix","Matrix4","isPerspectiveCamera","bVisible","gatherSelectedMeshesCallBack","visible","selectedObject","traverse","selectedMeshes","VisibilityChangeCallBack","Line","bFound","selectedObjectId","id","visibility","projectionMatrix","matrixWorldInverse","STENCIL_TEST","changeVisibilityOfSelectedObjects","currentBackground","background","updateTextureMatrix","changeVisibilityOfNonSelectedObjects","near","far","scalar","cos","performance","multiplyScalar","patternTexture","enable","maxRadius","AdditiveBlending","WatercolorShader","WatercolorPass","tPaper","wrapS","wrapT","RepeatWrapping","TestShader","TestPass","FXAAShader","_extends","des","over","res","_extend","override","rndInt","rndString","$chars","maxPos","pwd","charAt","geoToCartesian","lat","lon","radius","sin","Util","extend"],"mappings":"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"}